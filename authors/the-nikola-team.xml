<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Home (Posts by The Nikola Team)</title><link>http://yongchen.org/</link><description></description><atom:link href="http://yongchen.org/authors/the-nikola-team.xml" rel="self" type="application/rss+xml"></atom:link><language>en</language><copyright>Contents Â© 2017 &lt;a href="mailto:ob@outlook.sg"&gt;YONG&lt;/a&gt; </copyright><lastBuildDate>Fri, 11 Aug 2017 06:47:26 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Extending Nikola</title><link>http://yongchen.org/posts/extending/</link><dc:creator>The Nikola Team</dc:creator><description>&lt;div&gt;&lt;div class="section" id="extending-nikola"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id1"&gt;Extending Nikola&lt;/a&gt;&lt;/h2&gt;
&lt;table class="docutils field-list" frame="void" rules="none"&gt;
&lt;col class="field-name"&gt;
&lt;col class="field-body"&gt;
&lt;tbody valign="top"&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;Version:&lt;/th&gt;&lt;td class="field-body"&gt;7.8.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class="field"&gt;&lt;th class="field-name"&gt;Author:&lt;/th&gt;&lt;td class="field-body"&gt;Roberto Alsina &amp;lt;&lt;a class="reference external" href="mailto:ralsina@netmanagers.com.ar"&gt;ralsina@netmanagers.com.ar&lt;/a&gt;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="contents alert alert-info pull-right topic" id="contents"&gt;
&lt;p class="topic-title first"&gt;Contents&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#extending-nikola" id="id1"&gt;Extending Nikola&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#command-plugins" id="id2"&gt;Command Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#templatesystem-plugins" id="id3"&gt;TemplateSystem Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#task-plugins" id="id4"&gt;Task Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#pagecompiler-plugins" id="id5"&gt;PageCompiler Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#restextension-plugins" id="id6"&gt;RestExtension Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#markdownextension-plugins" id="id7"&gt;MarkdownExtension Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#signalhandler-plugins" id="id8"&gt;SignalHandler Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#configplugin-plugins" id="id9"&gt;ConfigPlugin Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#postscanner-plugins" id="id10"&gt;PostScanner Plugins&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#plugin-index" id="id11"&gt;Plugin Index&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#path-link-resolution-mechanism" id="id12"&gt;Path/Link Resolution Mechanism&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#template-hooks" id="id13"&gt;Template Hooks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#shortcodes" id="id14"&gt;Shortcodes&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#template-based-shortcodes" id="id15"&gt;Template-based Shortcodes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/extending/#state-and-cache" id="id16"&gt;State and Cache&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p class="lead"&gt;Nikola is extensible. Almost all its functionality is based on plugins,
and you can add your own or replace the provided ones.&lt;/p&gt;
&lt;p&gt;Plugins consist of a metadata file (with &lt;tt class="docutils literal"&gt;.plugin&lt;/tt&gt; extension) and
a Python module (a &lt;tt class="docutils literal"&gt;.py&lt;/tt&gt; file) or package (a folder containing
a &lt;tt class="docutils literal"&gt;__init__.py&lt;/tt&gt; file.&lt;/p&gt;
&lt;p&gt;To use a plugin in your site, you just have to put it in a &lt;tt class="docutils literal"&gt;plugins&lt;/tt&gt;
folder in your site.&lt;/p&gt;
&lt;p&gt;Plugins come in various flavours, aimed at extending different aspects
of Nikola.&lt;/p&gt;
&lt;div class="section" id="command-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id2"&gt;Command Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;When you run &lt;tt class="docutils literal"&gt;nikola &lt;span class="pre"&gt;--help&lt;/span&gt;&lt;/tt&gt; you will see something like this:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola &lt;span class="nb"&gt;help&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;Nikola is a tool to create static websites and blogs. For full documentation and more&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;information, please visit https://getnikola.com/&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;Available commands:&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola auto                 automatically detect site changes, rebuild&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;                            and optionally refresh a browser&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-9"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola bootswatch_theme     given a swatch name from bootswatch.com and a&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;                            parent theme, creates a custom theme&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola build                run tasks&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-12"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola check                check links and files in the generated site&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-13"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola clean                clean action / remove targets&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-14"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola console              start an interactive python console with access to&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-15"&gt;&lt;/a&gt;&lt;span class="go"&gt;                            your site and configuration&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-16"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola deploy               deploy the site&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-17"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola dumpdb               dump dependency DB&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-18"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola forget               clear successful run status from internal DB&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-19"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola help                 show help&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-20"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola ignore               ignore task (skip) on subsequent runs&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-21"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola import_blogger       import a blogger dump&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-22"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola import_feed          import a RSS/Atom dump&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-23"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola import_wordpress     import a WordPress dump&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-24"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola init                 create a Nikola site in the specified folder&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-25"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola list                 list tasks from dodo file&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-26"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola mincss               apply mincss to the generated site&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-27"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola new_post             create a new blog post or site page&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-28"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola run                  run tasks&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-29"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola serve                start the test webserver&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-30"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola strace               use strace to list file_deps and targets&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-31"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola theme                manage themes&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-32"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola version              print the Nikola version number&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-33"&gt;&lt;/a&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-34"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola help                 show help / reference&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-35"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola help &amp;lt;command&amp;gt;       show command usage&lt;/span&gt;
&lt;a name="rest_code_3de03170188f4eac88bc4490faf34c7b-36"&gt;&lt;/a&gt;&lt;span class="go"&gt;nikola help &amp;lt;task-name&amp;gt;     show task usage&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;That will give you a list of all available commands in your version of Nikola.
Each and every one of those is a plugin. Let's look at a typical example:&lt;/p&gt;
&lt;p&gt;First, the &lt;tt class="docutils literal"&gt;serve.plugin&lt;/tt&gt; file:&lt;/p&gt;
&lt;pre class="code ini"&gt;&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;[Core]&lt;/span&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-2"&gt;&lt;/a&gt;&lt;span class="na"&gt;Name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;serve&lt;/span&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-3"&gt;&lt;/a&gt;&lt;span class="na"&gt;Module&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;serve&lt;/span&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;[Documentation]&lt;/span&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-6"&gt;&lt;/a&gt;&lt;span class="na"&gt;Author&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;Roberto Alsina&lt;/span&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-7"&gt;&lt;/a&gt;&lt;span class="na"&gt;Version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;0.1&lt;/span&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-8"&gt;&lt;/a&gt;&lt;span class="na"&gt;Website&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;https://getnikola.com&lt;/span&gt;
&lt;a name="rest_code_ec294bf1c3e64657b8942a920af2dd7f-9"&gt;&lt;/a&gt;&lt;span class="na"&gt;Description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;Start test server.&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;If you want to publish your plugin on the Plugin Index, &lt;a class="reference external" href="https://github.com/getnikola/plugins/blob/master/README.md"&gt;read
the docs for the Index&lt;/a&gt;
(and the .plugin file examples and explanations).&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;For your own plugin, just change the values in a sensible way. The
&lt;tt class="docutils literal"&gt;Module&lt;/tt&gt; will be used to find the matching Python module, in this case
&lt;tt class="docutils literal"&gt;serve.py&lt;/tt&gt;, from which this is the interesting bit:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nikola.plugin_categories&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Command&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# You have to inherit Command for this to be a&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# command plugin:&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-6"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CommandServe&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Command&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-7"&gt;&lt;/a&gt;    &lt;span class="sd"&gt;"""Start test server."""&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-9"&gt;&lt;/a&gt;    &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"serve"&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-10"&gt;&lt;/a&gt;    &lt;span class="n"&gt;doc_usage&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"[options]"&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-11"&gt;&lt;/a&gt;    &lt;span class="n"&gt;doc_purpose&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"start the test webserver"&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-12"&gt;&lt;/a&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-13"&gt;&lt;/a&gt;    &lt;span class="n"&gt;cmd_options&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-14"&gt;&lt;/a&gt;        &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-15"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'port'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-16"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'short'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'p'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-17"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'long'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'port'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-18"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'default'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;8000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-19"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'type'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-20"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'help'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Port number (default: 8000)'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-21"&gt;&lt;/a&gt;        &lt;span class="p"&gt;},&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-22"&gt;&lt;/a&gt;        &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-23"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'address'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-24"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'short'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-25"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'long'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'--address'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-26"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'type'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;str&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-27"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'default'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'127.0.0.1'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-28"&gt;&lt;/a&gt;            &lt;span class="s1"&gt;'help'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'Address to bind (default: 127.0.0.1)'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-29"&gt;&lt;/a&gt;        &lt;span class="p"&gt;},&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-30"&gt;&lt;/a&gt;    &lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-31"&gt;&lt;/a&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-32"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_execute&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-33"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Start test server."""&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-34"&gt;&lt;/a&gt;        &lt;span class="n"&gt;out_dir&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'OUTPUT_FOLDER'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-35"&gt;&lt;/a&gt;        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;out_dir&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-36"&gt;&lt;/a&gt;            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Error: Missing '{0}' folder?"&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;out_dir&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-37"&gt;&lt;/a&gt;        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-38"&gt;&lt;/a&gt;            &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;chdir&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;out_dir&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-39"&gt;&lt;/a&gt;            &lt;span class="n"&gt;httpd&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;HTTPServer&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'address'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'port'&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-40"&gt;&lt;/a&gt;                            &lt;span class="n"&gt;OurHTTPRequestHandler&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-41"&gt;&lt;/a&gt;            &lt;span class="n"&gt;sa&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;httpd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;socket&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getsockname&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-42"&gt;&lt;/a&gt;            &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Serving HTTP on"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sa&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s2"&gt;"port"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sa&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s2"&gt;"..."&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_f3b3b7623a51441d97081d284fc2e530-43"&gt;&lt;/a&gt;            &lt;span class="n"&gt;httpd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;serve_forever&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;As mentioned above, a plugin can have options, which the user can see by doing
&lt;tt class="docutils literal"&gt;nikola help command&lt;/tt&gt; and can later use, for example:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola &lt;span class="nb"&gt;help&lt;/span&gt; serve
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;Purpose: start the test webserver&lt;/span&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;Usage:   nikola serve [options]&lt;/span&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;Options:&lt;/span&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;-p ARG, --port=ARG        Port number (default: 8000)&lt;/span&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;-a ARG, ----address=ARG   Address to bind (default: 127.0.0.1)&lt;/span&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-9"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola serve -p &lt;span class="m"&gt;9000&lt;/span&gt;
&lt;a name="rest_code_ec5e4d76c05c47bd800a077bdcb701e3-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;Serving HTTP on 127.0.0.1 port 9000 ...&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;So, what can you do with commands? Well, anything you want, really. I have implemented
a sort of planet using it. So, be creative, and if you do something interesting,
let me know ;-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="templatesystem-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id3"&gt;TemplateSystem Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Nikola supports Mako and Jinja2. If you prefer some other templating
system, then you will have to write a &lt;tt class="docutils literal"&gt;TemplateSystem&lt;/tt&gt; plugin. Here's how they work.
First, you have to create a &lt;tt class="docutils literal"&gt;.plugin&lt;/tt&gt; file. Here's the one for the Mako plugin:&lt;/p&gt;
&lt;pre class="code ini"&gt;&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;[Core]&lt;/span&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-2"&gt;&lt;/a&gt;&lt;span class="na"&gt;Name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;mako&lt;/span&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-3"&gt;&lt;/a&gt;&lt;span class="na"&gt;Module&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;mako&lt;/span&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;[Documentation]&lt;/span&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-6"&gt;&lt;/a&gt;&lt;span class="na"&gt;Author&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;Roberto Alsina&lt;/span&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-7"&gt;&lt;/a&gt;&lt;span class="na"&gt;Version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;0.1&lt;/span&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-8"&gt;&lt;/a&gt;&lt;span class="na"&gt;Website&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;https://getnikola.com&lt;/span&gt;
&lt;a name="rest_code_abe9f9b56d2a4b6d97dd91b16ba91644-9"&gt;&lt;/a&gt;&lt;span class="na"&gt;Description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;Support for Mako templates.&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;If you want to publish your plugin on the Plugin Index, &lt;a class="reference external" href="https://github.com/getnikola/plugins/blob/master/README.md"&gt;read
the docs for the Index&lt;/a&gt;
(and the .plugin file examples and explanations).&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;You will have to replace "mako" with your template system's name, and other data
in the obvious ways.&lt;/p&gt;
&lt;p&gt;The "Module" option is the name of the module, which has to look something like this,
a stub for a hypothetical system called "Templater":&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nikola.plugin_categories&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;TemplateSystem&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# You have to inherit TemplateSystem&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;TemplaterTemplates&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;TemplateSystem&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-6"&gt;&lt;/a&gt;    &lt;span class="sd"&gt;"""Wrapper for Templater templates."""&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-7"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-8"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# name has to match Name in the .plugin file&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-9"&gt;&lt;/a&gt;    &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"templater"&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-10"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-11"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# A list of directories where the templates will be&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-12"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# located. Most template systems have some sort of&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-13"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# template loading tool that can use this.&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-14"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;set_directories&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;directories&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cache_folder&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-15"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Sets the list of folders where templates are located and cache."""&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-16"&gt;&lt;/a&gt;        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-17"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-18"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# You *must* implement this, even if to return []&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-19"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# It should return a list of all the files that,&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-20"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# when changed, may affect the template's output.&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-21"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# usually this involves template inheritance and&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-22"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# inclusion.&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-23"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;template_deps&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;template_name&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-24"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Returns filenames which are dependencies for a template."""&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-25"&gt;&lt;/a&gt;        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-26"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-27"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;render_template&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;template_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;output_name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-28"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Renders template to a file using context.&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-29"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-30"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        This must save the data to output_name *and* return it&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-31"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        so that the caller may do additional processing.&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-32"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        """&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-33"&gt;&lt;/a&gt;        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-34"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-35"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# The method that does the actual rendering.&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-36"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# template_name is the name of the template file,&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-37"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# context is a dictionary containing the data the template&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-38"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# uses for rendering.&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-39"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;render_template_to_string&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;template&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-40"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Renders template to a string using context. """&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-41"&gt;&lt;/a&gt;        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-42"&gt;&lt;/a&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-43"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;inject_directory&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;directory&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-44"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Injects the directory with the lowest priority in the&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-45"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        template search mechanism."""&lt;/span&gt;
&lt;a name="rest_code_551dbd207b3240c794d2e84f6299d17f-46"&gt;&lt;/a&gt;        &lt;span class="k"&gt;pass&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;You can see a real example in &lt;a class="reference external" href="https://github.com/getnikola/nikola/blob/master/nikola/plugins/template/jinja.py"&gt;the Jinja plugin&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="task-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id4"&gt;Task Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you want to do something that depends on the data in your site, you
probably want to do a &lt;tt class="docutils literal"&gt;Task&lt;/tt&gt; plugin, which will make it be part of the
&lt;tt class="docutils literal"&gt;nikola build&lt;/tt&gt; command. These are the currently available tasks, all
provided by plugins:&lt;/p&gt;
&lt;div class="sidebar"&gt;
&lt;p class="first sidebar-title"&gt;Other Tasks&lt;/p&gt;
&lt;p class="last"&gt;There are also &lt;tt class="docutils literal"&gt;LateTask&lt;/tt&gt; plugins, which are executed later,
and &lt;tt class="docutils literal"&gt;TaskMultiplier&lt;/tt&gt; plugins that take a task and create
more tasks out of it.&lt;/p&gt;
&lt;/div&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola list
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;Scanning posts....done!&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;build_bundles&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;build_less&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;copy_assets&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;copy_files&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;post_render&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;redirect&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-9"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_archive&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_galleries&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_galleries_clean&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-12"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_indexes&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-13"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_listings&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-14"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_pages&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-15"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_posts&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-16"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_rss&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-17"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_site&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-18"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_sources&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-19"&gt;&lt;/a&gt;&lt;span class="go"&gt;render_tags&lt;/span&gt;
&lt;a name="rest_code_613fc12cf3f5448cbf9f50ddfddfa9c5-20"&gt;&lt;/a&gt;&lt;span class="go"&gt;sitemap&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;These have access to the &lt;tt class="docutils literal"&gt;site&lt;/tt&gt; object which contains your timeline and
your configuration.&lt;/p&gt;
&lt;p&gt;The critical bit of Task plugins is their &lt;tt class="docutils literal"&gt;gen_tasks&lt;/tt&gt; method, which &lt;tt class="docutils literal"&gt;yields&lt;/tt&gt;
&lt;a class="reference external" href="http://pydoit.org/tasks.html"&gt;doit tasks&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The details of how to handle dependencies, etc., are a bit too much for this
document, so I'll just leave you with an example, the &lt;tt class="docutils literal"&gt;copy_assets&lt;/tt&gt; task.
First the &lt;tt class="docutils literal"&gt;task_copy_assets.plugin&lt;/tt&gt; file, which you should copy and edit
in the logical ways:&lt;/p&gt;
&lt;pre class="code ini"&gt;&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-1"&gt;&lt;/a&gt;&lt;span class="k"&gt;[Core]&lt;/span&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-2"&gt;&lt;/a&gt;&lt;span class="na"&gt;Name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;copy_assets&lt;/span&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-3"&gt;&lt;/a&gt;&lt;span class="na"&gt;Module&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;task_copy_assets&lt;/span&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-5"&gt;&lt;/a&gt;&lt;span class="k"&gt;[Documentation]&lt;/span&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-6"&gt;&lt;/a&gt;&lt;span class="na"&gt;Author&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;Roberto Alsina&lt;/span&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-7"&gt;&lt;/a&gt;&lt;span class="na"&gt;Version&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;0.1&lt;/span&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-8"&gt;&lt;/a&gt;&lt;span class="na"&gt;Website&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;https://getnikola.com&lt;/span&gt;
&lt;a name="rest_code_0e2c2277c83f40daad564b831ee56bdb-9"&gt;&lt;/a&gt;&lt;span class="na"&gt;Description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;Copy theme assets into output.&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;If you want to publish your plugin on the Plugin Index, &lt;a class="reference external" href="https://github.com/getnikola/plugins/blob/master/README.md"&gt;read
the docs for the Index&lt;/a&gt;
(and the .plugin file examples and explanations).&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;And the &lt;tt class="docutils literal"&gt;task_copy_assets.py&lt;/tt&gt; file, in its entirety:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-3"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nikola.plugin_categories&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Task&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-4"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nikola&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;utils&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-6"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Have to inherit Task to be a task plugin&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-7"&gt;&lt;/a&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CopyAssets&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Task&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-8"&gt;&lt;/a&gt;    &lt;span class="sd"&gt;"""Copy theme assets into output."""&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-10"&gt;&lt;/a&gt;    &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"copy_assets"&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-11"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-12"&gt;&lt;/a&gt;    &lt;span class="c1"&gt;# This yields the tasks&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-13"&gt;&lt;/a&gt;    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;gen_tasks&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-14"&gt;&lt;/a&gt;        &lt;span class="sd"&gt;"""Create tasks to copy the assets of the whole theme chain.&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-15"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-16"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        If a file is present on two themes, use the version&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-17"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        from the "youngest" theme.&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-18"&gt;&lt;/a&gt;&lt;span class="sd"&gt;        """&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-19"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-20"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# I put all the configurations and data the plugin uses&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-21"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# in a dictionary because utils.config_changed will&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-22"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# make it so that if these change, this task will be&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-23"&gt;&lt;/a&gt;        &lt;span class="c1"&gt;# marked out of date, and run again.&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-24"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-25"&gt;&lt;/a&gt;        &lt;span class="n"&gt;kw&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-26"&gt;&lt;/a&gt;            &lt;span class="s2"&gt;"themes"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;THEMES&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-27"&gt;&lt;/a&gt;            &lt;span class="s2"&gt;"output_folder"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'OUTPUT_FOLDER'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-28"&gt;&lt;/a&gt;            &lt;span class="s2"&gt;"filters"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'FILTERS'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-29"&gt;&lt;/a&gt;        &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-30"&gt;&lt;/a&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-31"&gt;&lt;/a&gt;        &lt;span class="n"&gt;tasks&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-32"&gt;&lt;/a&gt;        &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;theme_name&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;kw&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'themes'&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-33"&gt;&lt;/a&gt;            &lt;span class="n"&gt;src&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_theme_path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theme_name&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="s1"&gt;'assets'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-34"&gt;&lt;/a&gt;            &lt;span class="n"&gt;dst&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;join&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kw&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'output_folder'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;'assets'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-35"&gt;&lt;/a&gt;            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copy_tree&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;src&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dst&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-36"&gt;&lt;/a&gt;                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-37"&gt;&lt;/a&gt;                    &lt;span class="k"&gt;continue&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-38"&gt;&lt;/a&gt;                &lt;span class="n"&gt;tasks&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-39"&gt;&lt;/a&gt;                &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'uptodate'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'uptodate'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[])&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; \
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-40"&gt;&lt;/a&gt;                    &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;config_changed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kw&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-41"&gt;&lt;/a&gt;                &lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'basename'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-42"&gt;&lt;/a&gt;                &lt;span class="c1"&gt;# If your task generates files, please do this.&lt;/span&gt;
&lt;a name="rest_code_2b3b1aa10d634813a1795cb5fe40db99-43"&gt;&lt;/a&gt;                &lt;span class="k"&gt;yield&lt;/span&gt; &lt;span class="n"&gt;utils&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply_filters&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;task&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;kw&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'filters'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="pagecompiler-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id5"&gt;PageCompiler Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;These plugins implement markup languages, they take sources for posts or pages and
create HTML or other output files. A good example is &lt;a class="reference external" href="https://github.com/getnikola/plugins/tree/master/v7/misaka"&gt;the misaka plugin&lt;/a&gt; or the built-in
compiler plugins.&lt;/p&gt;
&lt;p&gt;They must provide:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;compile&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Function that builds a file.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;create_post&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Function that creates an empty file with some metadata in it.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;If the compiler produces something other than HTML files, it should also implement &lt;tt class="docutils literal"&gt;extension&lt;/tt&gt; which
returns the preferred extension for the output file.&lt;/p&gt;
&lt;p&gt;These plugins can also be used to extract metadata from a file. To do so, the
plugin may implement &lt;tt class="docutils literal"&gt;read_metadata&lt;/tt&gt; that will return a dict containing the
metadata contained in the file.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="restextension-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id6"&gt;RestExtension Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Implement directives for reStructuredText, see &lt;a class="reference external" href="https://github.com/getnikola/nikola/blob/master/nikola/plugins/compile/rest/media.py"&gt;media.py&lt;/a&gt; for a simple example.&lt;/p&gt;
&lt;p&gt;If your output depends on a config value, you need to make your post record a
dependency on a pseudo-path, like this:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_f936a345d96b4034902d7b9a90f5a73f-1"&gt;&lt;/a&gt;####MAGIC####CONFIG:OPTIONNAME
&lt;/pre&gt;&lt;p&gt;Then, whenever the &lt;tt class="docutils literal"&gt;OPTIONNAME&lt;/tt&gt; option is changed in conf.py, the file will be rebuilt.&lt;/p&gt;
&lt;p&gt;If your directive depends or may depend on the whole timeline (like the
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;post-list&lt;/span&gt;&lt;/tt&gt; directive, where adding new posts to the site could make it
stale), you should record a dependency on the pseudo-path
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;####MAGIC####TIMELINE&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="markdownextension-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id7"&gt;MarkdownExtension Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Implement Markdown extensions, see &lt;a class="reference external" href="https://github.com/getnikola/nikola/blob/master/nikola/plugins/compile/markdown/mdx_nikola.py"&gt;mdx_nikola.py&lt;/a&gt; for a simple example.&lt;/p&gt;
&lt;p&gt;Note that Python markdown extensions are often also available as separate
packages. This is only meant to ship extensions along with Nikola.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="signalhandler-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id8"&gt;SignalHandler Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;These plugins extend the &lt;tt class="docutils literal"&gt;SignalHandler&lt;/tt&gt; class and connect to one or more
signals via &lt;a class="reference external" href="http://pythonhosted.org/blinker/"&gt;blinker&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The easiest way to do this is to reimplement &lt;tt class="docutils literal"&gt;set_site()&lt;/tt&gt; and just connect to
whatever signals you want there.&lt;/p&gt;
&lt;p&gt;Currently Nikola emits the following signals:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;sighandlers_loaded&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;Right after SignalHandler plugin activation.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;initialized&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;When all tasks are loaded.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;configured&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;When all the configuration file is processed. Note that plugins are activated before this is emitted.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;scanned&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;After posts are scanned.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; / &lt;tt class="docutils literal"&gt;new_page&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;When a new post is created, using the &lt;tt class="docutils literal"&gt;nikola new_post&lt;/tt&gt;/&lt;tt class="docutils literal"&gt;nikola new_page&lt;/tt&gt; commands.  The signal
data contains the path of the file, and the metadata file (if there is one).&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;existing_post&lt;/tt&gt; / &lt;tt class="docutils literal"&gt;existing_page&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;When a new post fails to be created due to a title conflict. Contains the same data as &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;deployed&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;When the &lt;tt class="docutils literal"&gt;nikola deploy&lt;/tt&gt; command is run, and there is at least one new
entry/post since &lt;tt class="docutils literal"&gt;last_deploy&lt;/tt&gt;.  The signal data is of the form:&lt;/p&gt;
&lt;pre class="last literal-block"&gt;
{
 'last_deploy: # datetime object for the last deployed time,
 'new_deploy': # datetime object for the current deployed time,
 'clean': # whether there was a record of a last deployment,
 'deployed': # all files deployed after the last deploy,
 'undeployed': # all files not deployed since they are either future posts/drafts
}
&lt;/pre&gt;
&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;compiled&lt;/tt&gt;&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;When a post/page is compiled from its source to html, before anything else is done with it.  The signal
data is in the form:&lt;/p&gt;
&lt;pre class="last literal-block"&gt;
{
 'source': # the path to the source file
 'dest': # the path to the cache file for the post/page
 'post': # the Post object for the post/page
}
&lt;/pre&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;One example is the &lt;a class="reference external" href="https://github.com/getnikola/plugins/tree/master/v6/deploy_hooks"&gt;deploy_hooks plugin.&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="configplugin-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id9"&gt;ConfigPlugin Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Does nothing specific, can be used to modify the site object (and thus the config).&lt;/p&gt;
&lt;p&gt;Put all the magic you want in &lt;tt class="docutils literal"&gt;set_site()&lt;/tt&gt;, and donât forget to run the one
from &lt;tt class="docutils literal"&gt;super()&lt;/tt&gt;. Example  plugin: &lt;a class="reference external" href="https://github.com/getnikola/plugins/tree/master/v7/navstories"&gt;navstories&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="postscanner-plugins"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id10"&gt;PostScanner Plugins&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Get posts and pages from "somewhere" to be added to the timeline.
The only currently existing plugin of this kind reads them from disk.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="plugin-index"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id11"&gt;Plugin Index&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There is a &lt;a class="reference external" href="https://plugins.getnikola.com/"&gt;plugin index&lt;/a&gt;, which stores all
of the plugins for Nikola people wanted to share with the world.&lt;/p&gt;
&lt;p&gt;You may want to read the &lt;a class="reference external" href="https://github.com/getnikola/plugins/blob/master/README.md"&gt;README for the Index&lt;/a&gt; if you want to
publish your package there.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="path-link-resolution-mechanism"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id12"&gt;Path/Link Resolution Mechanism&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Any plugin can register a function using &lt;tt class="docutils literal"&gt;Nikola.register_path_handler&lt;/tt&gt; to
allow resolution of paths and links. These are useful for templates, which
can access them via &lt;tt class="docutils literal"&gt;_link&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;For example, you can always get a link to the path for the feed of the "foo" tag
by using &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;_link('tag_rss',&lt;/span&gt; 'foo')&lt;/tt&gt; or the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;link://tag_rss/foo&lt;/span&gt;&lt;/tt&gt; URL.&lt;/p&gt;
&lt;p&gt;Here's the relevant code from the tag plugin.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# In set_site&lt;/span&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;register_path_handler&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'tag_rss'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tag_rss_path&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# And these always take name and lang as arguments and returl a list of&lt;/span&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# path elements.&lt;/span&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-6"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;tag_rss_path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-7"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;_f&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;_f&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'TRANSLATIONS'&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-8"&gt;&lt;/a&gt;                          &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'TAG_PATH'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;slugify_name&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;lang&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="s2"&gt;".xml"&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt;
&lt;a name="rest_code_ead0d9a79bae4b15b11fced7202458af-9"&gt;&lt;/a&gt;            &lt;span class="n"&gt;_f&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="template-hooks"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id13"&gt;Template Hooks&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Plugins can use a hook system for adding stuff into templates.  In order to use
it, a plugin must register itself.  The following hooks currently exist:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;extra_head&lt;/tt&gt; (not equal to the config option!)&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;body_end&lt;/tt&gt; (not equal to the config option!)&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;page_header&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;menu&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;menu_alt&lt;/tt&gt; (right-side menu in bootstrap, after &lt;tt class="docutils literal"&gt;menu&lt;/tt&gt; in base)&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;page_footer&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For example, in order to register a script into &lt;tt class="docutils literal"&gt;extra_head&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_29c23637814449878c0eb4ccdce7196d-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# In set_site&lt;/span&gt;
&lt;a name="rest_code_29c23637814449878c0eb4ccdce7196d-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;template_hooks&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'extra_head'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&amp;lt;script src="/assets/js/fancyplugin.js"&amp;gt;'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;There is also another API available.  It allows use of dynamically generated
HTML:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_96bf86be7f1b4497a1396445c4e4884d-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# In set_site&lt;/span&gt;
&lt;a name="rest_code_96bf86be7f1b4497a1396445c4e4884d-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;generate_html_bit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ftype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'js'&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_96bf86be7f1b4497a1396445c4e4884d-3"&gt;&lt;/a&gt;    &lt;span class="sd"&gt;"""Generate HTML for an asset."""&lt;/span&gt;
&lt;a name="rest_code_96bf86be7f1b4497a1396445c4e4884d-4"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s1"&gt;'&amp;lt;script src="/assets/{t}/{n}.{t}"&amp;gt;'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;ftype&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_96bf86be7f1b4497a1396445c4e4884d-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_96bf86be7f1b4497a1396445c4e4884d-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;template_hooks&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'extra_head'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;generate_html_bit&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'fancyplugin'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ftype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'js'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;The second argument to &lt;tt class="docutils literal"&gt;append()&lt;/tt&gt; is used to determine whether the function
needs access to the current template context and the site.  If it is set to
&lt;tt class="docutils literal"&gt;True&lt;/tt&gt;, the function will also receive &lt;tt class="docutils literal"&gt;site&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;context&lt;/tt&gt; keyword
arguments.  Example use:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# In set_site&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;greeting&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;addr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;endswith&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-3"&gt;&lt;/a&gt;    &lt;span class="sd"&gt;"""Greet someone."""&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-4"&gt;&lt;/a&gt;    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'lang'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'en'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-5"&gt;&lt;/a&gt;        &lt;span class="n"&gt;greet&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;'Hello'&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-6"&gt;&lt;/a&gt;    &lt;span class="k"&gt;elif&lt;/span&gt; &lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'lang'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'es'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-7"&gt;&lt;/a&gt;        &lt;span class="n"&gt;greet&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;'Â¡Hola'&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-9"&gt;&lt;/a&gt;    &lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;' BLOG_TITLE = {0}'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'BLOG_TITLE'&lt;/span&gt;&lt;span class="p"&gt;](&lt;/span&gt;&lt;span class="n"&gt;context&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'lang'&lt;/span&gt;&lt;span class="p"&gt;]))&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-10"&gt;&lt;/a&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-11"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;'&amp;lt;h3&amp;gt;{greet} {addr}{endswith}&amp;lt;/h3&amp;gt;'&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;format&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;greet&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;greet&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;addr&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;addr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-12"&gt;&lt;/a&gt;    &lt;span class="n"&gt;endswith&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;endswith&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-13"&gt;&lt;/a&gt;
&lt;a name="rest_code_02ed54ef626743cbafd74f79159e3c3f-14"&gt;&lt;/a&gt;&lt;span class="n"&gt;site&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;template_hooks&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'page_header'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;greeting&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;'Nikola Tesla'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;endswith&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="sa"&gt;u&lt;/span&gt;&lt;span class="s1"&gt;'!'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Dependencies for template hooks:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;if the input is a string, the string value, alongside arguments to &lt;tt class="docutils literal"&gt;append&lt;/tt&gt;, is used for calculating dependencies&lt;/li&gt;
&lt;li&gt;if the input is a callable, it attempts &lt;tt class="docutils literal"&gt;input.template_registry_identifier&lt;/tt&gt;, then &lt;tt class="docutils literal"&gt;input.__doc__&lt;/tt&gt;, and if neither is available, it uses a static string.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Make sure to provide at least a docstring, or a identifier, to ensure rebuilds work properly.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="shortcodes"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id14"&gt;Shortcodes&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Some (hopefully all) markup compilers support shortcodes in these forms:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
{{% foo %}}  # No arguments
    {{% foo bar %}}  # One argument, containing "bar"
    {{% foo bar baz=bat %}}  # Two arguments, one containing "bar", one called "baz" containing "bat"

    {{% foo %}}Some text{{% /foo %}}  # one argument called "data" containing "Some text"
&lt;/pre&gt;
&lt;p&gt;So, if you are creating a plugin that generates markup, it may be a good idea
to register it as a shortcode in addition of to restructured text directive or
markdown extension, thus making it available to all markup formats.&lt;/p&gt;
&lt;p&gt;To implement your own shortcodes from a plugin, you can create a plugin inheriting &lt;tt class="docutils literal"&gt;ShortcodePlugin&lt;/tt&gt; and
from its &lt;tt class="docutils literal"&gt;set_site&lt;/tt&gt; method,  call&lt;/p&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;Nikola.register_shortcode(name, func)&lt;/tt&gt; with the following arguments:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;name&lt;/tt&gt;:&lt;/dt&gt;
&lt;dd&gt;Name of the shortcode ("foo" in the examples above)&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;func&lt;/tt&gt;:&lt;/dt&gt;
&lt;dd&gt;A function that will handle the shortcode&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;The shortcode handler &lt;strong&gt;must&lt;/strong&gt; return a two-element tuple, &lt;tt class="docutils literal"&gt;(output, dependencies)&lt;/tt&gt;&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;output&lt;/tt&gt;:&lt;/dt&gt;
&lt;dd&gt;The text that will replace the shortcode in the document.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;dependencies&lt;/tt&gt;:&lt;/dt&gt;
&lt;dd&gt;A list of all the files on disk which will make the output be considered
out of date. For example, if the shortcode uses a template, it should be
the path to the template file.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;The shortcode handler &lt;strong&gt;must&lt;/strong&gt; accept the following named arguments (or
variable keyword arguments):&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;site&lt;/tt&gt;:&lt;/dt&gt;
&lt;dd&gt;An instance of the Nikola class, to access site state&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;data&lt;/tt&gt;:&lt;/dt&gt;
&lt;dd&gt;If the shortcut is used as opening/closing tags, it will be the text
between them, otherwise &lt;tt class="docutils literal"&gt;None&lt;/tt&gt;.&lt;/dd&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;lang&lt;/tt&gt;:&lt;/dt&gt;
&lt;dd&gt;The current language.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;If the shortcode tag has arguments of the form &lt;tt class="docutils literal"&gt;foo=bar&lt;/tt&gt; they will be
passed as named arguments. Everything else will be passed as positional
arguments in the function call.&lt;/p&gt;
&lt;p&gt;So, for example:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
{{% foo bar baz=bat beep %}}Some text{{% /foo %}}
&lt;/pre&gt;
&lt;p&gt;Assuming you registered &lt;tt class="docutils literal"&gt;foo_handler&lt;/tt&gt; as the handler function for the
shortcode named &lt;tt class="docutils literal"&gt;foo&lt;/tt&gt;, this will result in the following call when the above
shortcode is encountered:&lt;/p&gt;
&lt;pre class="literal-block"&gt;
foo_handler("bar", "beep", baz="bat", data="Some text", site=whatever)
&lt;/pre&gt;
&lt;div class="section" id="template-based-shortcodes"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id15"&gt;Template-based Shortcodes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Another way to define a new shortcode is to add a template file to the
&lt;tt class="docutils literal"&gt;shortcodes&lt;/tt&gt; directory of your site. The template file must have the
shortcode name as the basename and the extension &lt;tt class="docutils literal"&gt;.tmpl&lt;/tt&gt;. For example, if you
want to add a new shortcode named &lt;tt class="docutils literal"&gt;foo&lt;/tt&gt;, create the template file as
&lt;tt class="docutils literal"&gt;shortcodes/foo.tmpl&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;When the shortcode is encountered, the matching template will be rendered with
its context provided by the arguments given in the shortcode. Keyword arguments
are passed directly, i.e. the key becomes the variable name in the template
namespace with a matching string value. Non-keyword arguments are passed as
string values in a tuple named &lt;tt class="docutils literal"&gt;_args&lt;/tt&gt;. As for normal shortcodes with a
handler function, &lt;tt class="docutils literal"&gt;site&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;data&lt;/tt&gt; will be added to the keyword arguments.&lt;/p&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;p&gt;The following shortcode:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_7985c87a1ae7446d90a86a4173758e24-1"&gt;&lt;/a&gt;{{% foo bar="baz" spam %}}
&lt;/pre&gt;&lt;p&gt;With a template in &lt;tt class="docutils literal"&gt;shortcodes/foo.tmpl&lt;/tt&gt; with this content (using Jinja2
syntax in this example)&lt;/p&gt;
&lt;pre class="code jinja"&gt;&lt;a name="rest_code_26eac96b9a734fe5b3b486d2ce65d383-1"&gt;&lt;/a&gt;&lt;span class="x"&gt;&amp;lt;div class="&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt; &lt;span class="nv"&gt;_args&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="nv"&gt;_args&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="s1"&gt;'ham'&lt;/span&gt; &lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="x"&gt;"&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt; &lt;span class="nv"&gt;bar&lt;/span&gt; &lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="x"&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Will result in this output&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_2420a656d9c148c2bb9f1567230b3fab-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"spam"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;baz&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;div&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="state-and-cache"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/extending/#id16"&gt;State and Cache&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Sometimes your plugins will need to cache things to speed up further actions. Here are the conventions for that:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;If it's a file, put it somewhere in &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;self.site.config['CACHE_FOLDER']&lt;/span&gt;&lt;/tt&gt; (defaults to &lt;tt class="docutils literal"&gt;cache/&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;If it's a value, use &lt;tt class="docutils literal"&gt;self.site.cache.set(key, value)&lt;/tt&gt; to set it and &lt;tt class="docutils literal"&gt;self.site.cache.get(key)&lt;/tt&gt; to get it.
The key should be a string, the value should be json-encodable (so, be careful with datetime objects)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The values and files you store there can &lt;strong&gt;and will&lt;/strong&gt; be deleted sometimes by the user. They should always be
things you can reconstruct without lossage. They are throwaways.&lt;/p&gt;
&lt;p&gt;On the other hand, sometimes you want to save something that is &lt;strong&gt;not&lt;/strong&gt; a throwaway. These are things that may
change the output, so the user should not delete them. We call that &lt;strong&gt;state&lt;/strong&gt;. To save state:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;If it's a file, put it somewhere in the working directory. Try not to do that please.&lt;/li&gt;
&lt;li&gt;If it's a value, use &lt;tt class="docutils literal"&gt;self.site.state.set(key, value)&lt;/tt&gt; to set it and &lt;tt class="docutils literal"&gt;self.state.cache.get(key)&lt;/tt&gt; to get it.
The key should be a string, the value should be json-encodable (so, be careful with datetime objects)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;cache&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;state&lt;/tt&gt; objects are rather simplistic, and that's intentional. They have no default values: if
the key is not there, you will get &lt;tt class="docutils literal"&gt;None&lt;/tt&gt; and like it. They are meant to be both threadsafe, but hey, who can
guarantee that sort of thing?&lt;/p&gt;
&lt;p&gt;There are no sections, and no access protection, so let's not use it to store passwords and such. Use responsibly.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><guid>http://yongchen.org/posts/extending/</guid><pubDate>Sat, 31 Mar 2012 02:00:00 GMT</pubDate></item><item><title>The Nikola Handbook</title><link>http://yongchen.org/posts/handbook/</link><dc:creator>The Nikola Team</dc:creator><description>&lt;div&gt;&lt;table class="docinfo" frame="void" rules="none"&gt;
&lt;col class="docinfo-name"&gt;
&lt;col class="docinfo-content"&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;th class="docinfo-name"&gt;Version:&lt;/th&gt;
&lt;td&gt;7.8.9&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="contents alert alert-info pull-right topic" id="contents"&gt;
&lt;p class="topic-title first"&gt;Contents&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#all-you-need-to-know" id="id19"&gt;All You Need to Know&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#what-s-nikola-and-what-can-you-do-with-it" id="id20"&gt;What's Nikola and what can you do with it?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#getting-help" id="id21"&gt;Getting Help&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#why-static" id="id22"&gt;Why Static?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#components" id="id23"&gt;Components&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#getting-started" id="id24"&gt;Getting Started&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#creating-a-blog-post" id="id25"&gt;Creating a Blog Post&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#metadata-fields" id="id26"&gt;Metadata fields&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#basic" id="id27"&gt;Basic&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#extra" id="id28"&gt;Extra&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#metadata-formats" id="id29"&gt;Metadata formats&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#rest-style-comments" id="id30"&gt;reST-style comments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#two-file-format" id="id31"&gt;Two-file format&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#jupyter-notebook-metadata" id="id32"&gt;Jupyter Notebook metadata&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#yaml-metadata" id="id33"&gt;YAML metadata&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#toml-metadata" id="id34"&gt;TOML metadata&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#rest-docinfo" id="id35"&gt;reST docinfo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#markdown-metadata" id="id36"&gt;Markdown metadata&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#html-meta-tags" id="id37"&gt;HTML meta tags&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#mapping-metadata-from-other-formats" id="id38"&gt;Mapping metadata from other formats&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#multilingual-posts" id="id39"&gt;Multilingual posts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#how-does-nikola-decide-where-posts-should-go" id="id40"&gt;How does Nikola decide where posts should go?&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#the-new-post-command" id="id41"&gt;The &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; command&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#teasers" id="id42"&gt;Teasers&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#drafts" id="id43"&gt;Drafts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#private-posts" id="id44"&gt;Private Posts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#queuing-posts" id="id45"&gt;Queuing Posts&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#post-types" id="id46"&gt;Post Types&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#indexes" id="id47"&gt;Indexes&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#settings" id="id48"&gt;Settings&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#static-indexes" id="id49"&gt;Static indexes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#post-taxonomy" id="id50"&gt;Post taxonomy&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#tags" id="id51"&gt;Tags&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#categories" id="id52"&gt;Categories&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#sections" id="id53"&gt;Sections&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#configuring-tags-categories-and-sections" id="id54"&gt;Configuring tags, categories and sections&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#what-if-i-dont-want-a-blog" id="id55"&gt;What if I donât want a blog?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#creating-a-page" id="id56"&gt;Creating a Page&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#supported-input-formats" id="id57"&gt;Supported input formats&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#configuring-other-input-formats" id="id58"&gt;Configuring other input formats&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#markdown" id="id59"&gt;Markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#jupyter-ipython-notebook" id="id60"&gt;Jupyter/IPython Notebook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#html" id="id61"&gt;HTML&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#php" id="id62"&gt;PHP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#pandoc" id="id63"&gt;Pandoc&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#shortcodes" id="id64"&gt;Shortcodes&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#using-a-shortcode" id="id65"&gt;Using a shortcode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#built-in-shortcodes" id="id66"&gt;Built-in shortcodes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#community-shortcodes" id="id67"&gt;Community shortcodes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#template-based-shortcodes" id="id68"&gt;Template-based shortcodes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#the-global-context-and-data-files" id="id69"&gt;The Global Context and Data files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#redirections" id="id70"&gt;Redirections&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#configuration" id="id71"&gt;Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#customizing-your-site" id="id72"&gt;Customizing Your Site&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#fancy-dates" id="id73"&gt;Fancy Dates&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#adding-files" id="id74"&gt;Adding Files&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#custom-themes" id="id75"&gt;Custom Themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#getting-extra-themes" id="id76"&gt;Getting Extra Themes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#deployment" id="id77"&gt;Deployment&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#deploying-to-github" id="id78"&gt;Deploying to GitHub&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#automated-rebuilds-with-travis-ci" id="id79"&gt;Automated rebuilds with Travis CI&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#automated-rebuilds-with-gitlab" id="id80"&gt;Automated rebuilds with GitLab&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#comments-and-annotations" id="id81"&gt;Comments and Annotations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#images-and-galleries" id="id82"&gt;Images and Galleries&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#embedding-images" id="id83"&gt;Embedding Images&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#handling-exif-data" id="id84"&gt;Handling EXIF Data&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#strip-all-exif-data" id="id85"&gt;Strip all EXIF data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#preserve-all-exif-data" id="id86"&gt;Preserve all EXIF data&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#preserve-some-exif-data" id="id87"&gt;Preserve some EXIF data&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#post-processing-filters" id="id88"&gt;Post Processing Filters&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#optimizing-your-website" id="id89"&gt;Optimizing Your Website&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#math" id="id90"&gt;Math&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#id10" id="id91"&gt;Configuration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#inline-usage" id="id92"&gt;Inline usage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#display-usage" id="id93"&gt;Display usage&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#restructuredtext-extensions" id="id94"&gt;reStructuredText Extensions&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#includes" id="id95"&gt;Includes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#media" id="id96"&gt;Media&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#youtube" id="id97"&gt;YouTube&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#vimeo" id="id98"&gt;Vimeo&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#soundcloud" id="id99"&gt;Soundcloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#code" id="id100"&gt;Code&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#listing" id="id101"&gt;Listing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#gist" id="id102"&gt;Gist&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#thumbnails" id="id103"&gt;Thumbnails&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#slideshows" id="id104"&gt;Slideshows&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#chart" id="id105"&gt;Chart&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#doc" id="id106"&gt;Doc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#post-list" id="id107"&gt;Post List&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#importing-your-wordpress-site-into-nikola" id="id108"&gt;Importing your WordPress site into Nikola&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#importing-to-a-custom-location-or-into-an-existing-site" id="id109"&gt;Importing to a custom location or into an existing site&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#using-twitter-cards" id="id110"&gt;Using Twitter Cards&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#custom-plugins" id="id111"&gt;Custom Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#getting-extra-plugins" id="id112"&gt;Getting Extra Plugins&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#advanced-features" id="id113"&gt;Advanced Features&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#debugging" id="id114"&gt;Debugging&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#shell-tab-completion" id="id115"&gt;Shell Tab Completion&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#license" id="id116"&gt;License&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="all-you-need-to-know"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id19"&gt;All You Need to Know&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;After you have Nikola &lt;a class="reference external" href="https://getnikola.com/getting-started.html"&gt;installed&lt;/a&gt;:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Create an empty site (with a setup wizard):&lt;/dt&gt;
&lt;dd&gt;&lt;tt class="docutils literal"&gt;nikola init mysite&lt;/tt&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;You can create a site with demo files in it with &lt;tt class="docutils literal"&gt;nikola init &lt;span class="pre"&gt;--demo&lt;/span&gt; mysite&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;The rest of these commands have to be executed inside the new &lt;tt class="docutils literal"&gt;mysite&lt;/tt&gt; folder.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Create a post:&lt;/dt&gt;
&lt;dd&gt;&lt;tt class="docutils literal"&gt;nikola new_post&lt;/tt&gt;&lt;/dd&gt;
&lt;dt&gt;Edit the post:&lt;/dt&gt;
&lt;dd&gt;The filename should be in the output of the previous command.
You can also use &lt;tt class="docutils literal"&gt;nikola new_post &lt;span class="pre"&gt;-e&lt;/span&gt;&lt;/tt&gt; to open an editor automatically.&lt;/dd&gt;
&lt;dt&gt;Build the site:&lt;/dt&gt;
&lt;dd&gt;&lt;tt class="docutils literal"&gt;nikola build&lt;/tt&gt;&lt;/dd&gt;
&lt;dt&gt;Start the test server and open a browser:&lt;/dt&gt;
&lt;dd&gt;&lt;tt class="docutils literal"&gt;nikola serve &lt;span class="pre"&gt;-b&lt;/span&gt;&lt;/tt&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;That should get you going. If you want to know more, this manual will always be here
for you.&lt;/p&gt;
&lt;p&gt;DON'T READ THIS MANUAL. IF YOU NEED TO READ IT I FAILED, JUST USE THE THING.&lt;/p&gt;
&lt;p&gt;On the other hand, if anything about Nikola is not as obvious as it should be, by all
means tell me about it :-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="what-s-nikola-and-what-can-you-do-with-it"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id20"&gt;What's Nikola and what can you do with it?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola is a static website and blog generator. The very short explanation is
that it takes some texts you wrote, and uses them to create a folder full
of HTML files. If you upload that folder to a server, you will have a
rather full-featured website, done with little effort.&lt;/p&gt;
&lt;p&gt;Its original goal is to create blogs, but it supports most kind of sites, and
can be used as a CMS, as long as what you present to the user is your own content
instead of something the user generates.&lt;/p&gt;
&lt;p&gt;Nikola can do:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;A blog (&lt;a class="reference external" href="http://ralsina.me"&gt;example&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Your company's site&lt;/li&gt;
&lt;li&gt;Your personal site&lt;/li&gt;
&lt;li&gt;A software project's site (&lt;a class="reference external" href="https://getnikola.com"&gt;example&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;A book's site&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Since Nikola-based sites don't run any code on the server, there is no way to process
user input in forms.&lt;/p&gt;
&lt;p&gt;Nikola can't do:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Twitter&lt;/li&gt;
&lt;li&gt;Facebook&lt;/li&gt;
&lt;li&gt;An Issue tracker&lt;/li&gt;
&lt;li&gt;Anything with forms, really (except for &lt;a class="reference external" href="http://yongchen.org/posts/handbook/#comments-and-annotations"&gt;comments&lt;/a&gt;!)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Keep in mind that "static" doesn't mean &lt;strong&gt;boring&lt;/strong&gt;. You can have animations, slides
or whatever fancy CSS3/HTML5 thingie you like. It only means all that HTML is
generated already before being uploaded. On the other hand, Nikola sites will
tend to be content-heavy. What Nikola is good at is at putting what you write
out there.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="getting-help"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id21"&gt;Getting Help&lt;/a&gt;&lt;/h2&gt;
&lt;p class="lead"&gt;&lt;a class="reference external" href="https://getnikola.com/contact.html"&gt;Get help here!&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;TL;DR:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;You can file bugs at &lt;a class="reference external" href="https://github.com/getnikola/nikola/issues"&gt;the issue tracker&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You can discuss Nikola at the &lt;a class="reference external" href="http://groups.google.com/group/nikola-discuss"&gt;nikola-discuss google group&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You can subscribe to &lt;a class="reference external" href="https://getnikola.com/blog"&gt;the Nikola Blog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;You can follow &lt;a class="reference external" href="https://twitter.com/GetNikola"&gt;Nikola on Twitter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="why-static"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id22"&gt;Why Static?&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Most "modern" websites are &lt;em&gt;dynamic&lt;/em&gt; in the sense that the contents of the site
live in a database, and are converted into presentation-ready HTML only when a
user wants to see the page. That's great. However, it presents some minor issues
that static site generators try to solve.&lt;/p&gt;
&lt;p&gt;In a static site, the whole site, every page, &lt;em&gt;everything&lt;/em&gt;, is created before
the first user even sees it and uploaded to the server as a simple folder full
of HTML files (and images, CSS, etc).&lt;/p&gt;
&lt;p&gt;So, let's see some reasons for using static sites:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Security&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Dynamic sites are prone to experience security issues. The solution for that
is constant vigilance, keeping the software behind the site updated, and
plain old good luck. The stack of software used to provide a static site,
like those Nikola generates, is much smaller (Just a web server).&lt;/p&gt;
&lt;p class="last"&gt;A smaller software stack implies less security risk.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Obsolescence&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;If you create a site using (for example) WordPress, what happens when WordPress
releases a new version? You have to update your WordPress. That is not optional,
because of security and support issues. If I release a new version of Nikola, and
you don't update, &lt;em&gt;nothing&lt;/em&gt; happens. You can continue to use the version you
have now forever, no problems.&lt;/p&gt;
&lt;p&gt;Also, in the longer term, the very foundations of dynamic sites shift. Can you
still deploy a blog software based on Django 0.96? What happens when your
host stops supporting the PHP version you rely on? And so on.&lt;/p&gt;
&lt;p&gt;You may say those are long term issues, or that they won't matter for years. Well,
I believe things should work forever, or as close to it as we can make them.
Nikola's static output and its input files will work as long as you can install
a Python 2.7/3.3 or newer under Linux, Windows, or OS X and can find a server
that sends files over HTTP. That's probably 10 or 15 years at least.&lt;/p&gt;
&lt;p class="last"&gt;Also, static sites are easily handled by the Internet Archive.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Cost and Performance&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;On dynamic sites, every time a reader wants a page, a whole lot of database
queries are made. Then a whole pile of code chews that data, and HTML is
produced, which is sent to the user. All that requires CPU and memory.&lt;/p&gt;
&lt;p class="last"&gt;On a static site, the highly optimized HTTP server reads the file from disk
(or, if it's a popular file, from disk cache), and sends it to the user. You could
probably serve a bazillion (technical term) page views from a phone using
static sites.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Lock-in&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;On server-side blog platforms, sometimes you can't export your own data, or
it's in strange formats you can't use in other services. I have switched
blogging platforms from Advogato to PyCs to two homebrew systems, to Nikola,
and have never lost a file, a URL, or a comment. That's because I have &lt;em&gt;always&lt;/em&gt;
had my own data in a format of my choice.&lt;/p&gt;
&lt;p class="last"&gt;With Nikola, you own your files, and you can do anything with them.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="components"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id23"&gt;Components&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola provides the following features:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Blog support, including:&lt;ul&gt;
&lt;li&gt;Indexes&lt;/li&gt;
&lt;li&gt;RSS and Atom feeds&lt;/li&gt;
&lt;li&gt;Tags and categories, with pages and feeds&lt;/li&gt;
&lt;li&gt;Author pages and feeds (not generated if &lt;tt class="docutils literal"&gt;ENABLE_AUTHOR_PAGES&lt;/tt&gt; is set to &lt;tt class="docutils literal"&gt;False&lt;/tt&gt; or there is only one author)&lt;/li&gt;
&lt;li&gt;Archives with custom granularity (yearly or monthly)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://yongchen.org/posts/handbook/#comments-and-annotations"&gt;Comments&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Client-side tag clouds (needs manual configuration)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Static pages (not part of the blog)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#math"&gt;Math&lt;/a&gt; rendering (via MathJax)&lt;/li&gt;
&lt;li&gt;Custom output paths for generated pages&lt;/li&gt;
&lt;li&gt;Pretty URLs (without &lt;tt class="docutils literal"&gt;.html&lt;/tt&gt;) that donât need web server support&lt;/li&gt;
&lt;li&gt;Easy page template customization&lt;/li&gt;
&lt;li&gt;Internationalization support (my own blog is English and Spanish)&lt;/li&gt;
&lt;li&gt;Sitemap generation (for search engines)&lt;/li&gt;
&lt;li&gt;Custom deployment (if itâs a command, you can use it)&lt;/li&gt;
&lt;li&gt;GitHub Pages deployment&lt;/li&gt;
&lt;li&gt;Themes, easy appearance customization&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://yongchen.org/posts/handbook/#supported-input-formats"&gt;Multiple input formats&lt;/a&gt;, including reStructuredText and Markdown&lt;/li&gt;
&lt;li&gt;Easy-to-create image galleries&lt;/li&gt;
&lt;li&gt;Image thumbnail generation&lt;/li&gt;
&lt;li&gt;Support for displaying source code listings&lt;/li&gt;
&lt;li&gt;Image slideshows&lt;/li&gt;
&lt;li&gt;Custom search&lt;/li&gt;
&lt;li&gt;Asset (CSS/JS) bundling&lt;/li&gt;
&lt;li&gt;gzip compression (for sending via your web server)&lt;/li&gt;
&lt;li&gt;Open Graph, Twitter Cards&lt;/li&gt;
&lt;li&gt;Hyphenation&lt;/li&gt;
&lt;li&gt;Custom &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#post-processing-filters"&gt;post processing filters&lt;/a&gt; (eg. for minifying files or better typography)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="getting-started"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id24"&gt;Getting Started&lt;/a&gt;&lt;/h2&gt;
&lt;p class="lead"&gt;To set Nikola up and create your first site, read the &lt;a class="reference external" href="https://getnikola.com/getting-started.html"&gt;Getting Started Guide&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="creating-a-blog-post"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id25"&gt;Creating a Blog Post&lt;/a&gt;&lt;/h2&gt;
&lt;div class="sidebar"&gt;
&lt;p class="first sidebar-title"&gt;Magic Links&lt;/p&gt;
&lt;p class="last"&gt;You will want to do things like "link from one post to another" or "link to an image gallery",
etc. Sure, you can just figure out the URLs for each thing and use that. Or you can use
Nikola's special link URLs. Those are done using the syntax &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;link://kind/name&lt;/span&gt;&lt;/tt&gt; and
a full list of the included ones is &lt;a class="reference external" href="http://yongchen.org/"&gt;here&lt;/a&gt; (BTW, I linked
to that using &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;link://slug/path-handlers&lt;/span&gt;&lt;/tt&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;To create a new post, the easiest way is to run &lt;tt class="docutils literal"&gt;nikola new_post&lt;/tt&gt;. You  will
be asked for a title for your post, and it will tell you where the post's file
is located.&lt;/p&gt;
&lt;p&gt;By default, that file will contain also some extra information about your post ("the metadata").
It can be placed in a separate file by using the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-2&lt;/span&gt;&lt;/tt&gt; option, but it's generally
easier to keep it in a single location.&lt;/p&gt;
&lt;p&gt;The contents of your post have to be written (by default) in &lt;a class="reference external" href="http://docutils.sf.net"&gt;reStructuredText&lt;/a&gt;
but you can use a lot of different markups using the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/tt&gt; option.&lt;/p&gt;
&lt;p&gt;Currently, Nikola supports reStructuredText, Markdown, Jupyter (IPython) Notebooks, HTML as input,
can also use Pandoc for conversion, and has support for BBCode, CreoleWiki, txt2tags, Textile
and more via plugins â for more details, read the &lt;a class="reference external" href="http://yongchen.org/posts/handbook/#multiple-input-formats"&gt;input format documentation&lt;/a&gt;.
You can learn reStructuredText syntax with the &lt;a class="reference external" href="https://getnikola.com/quickstart.html"&gt;reST quickstart&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Please note that Nikola does not support encodings other than UTF-8. Make sure
to convert your input files to that encoding to avoid issues.  It will prevent
bugs, and Nikola will write UTF-8 output anyway.&lt;/p&gt;
&lt;p&gt;You can control what markup compiler is used for each file extension with the &lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt;
option. The default configuration expects them to be placed in &lt;tt class="docutils literal"&gt;posts&lt;/tt&gt; but that can be
changed (see below, the &lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt; options)&lt;/p&gt;
&lt;p&gt;This is how it works:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_d1975eafd93c40bf93d6b785260a9958-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola new_post
&lt;a name="rest_code_d1975eafd93c40bf93d6b785260a9958-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;Creating New Post&lt;/span&gt;
&lt;a name="rest_code_d1975eafd93c40bf93d6b785260a9958-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;-----------------&lt;/span&gt;
&lt;a name="rest_code_d1975eafd93c40bf93d6b785260a9958-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_d1975eafd93c40bf93d6b785260a9958-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;Title: How to make money&lt;/span&gt;
&lt;a name="rest_code_d1975eafd93c40bf93d6b785260a9958-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;Scanning posts....done!&lt;/span&gt;
&lt;a name="rest_code_d1975eafd93c40bf93d6b785260a9958-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;INFO: new_post: Your post's text is at: posts/how-to-make-money.rst&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;The content of that file is as follows:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. title: How to make money&lt;/span&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-2"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. slug: how-to-make-money&lt;/span&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-3"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. date: 2012-09-15 19:52:05 UTC&lt;/span&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-4"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. tags:&lt;/span&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-5"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. link:&lt;/span&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-6"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. description:&lt;/span&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-7"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. type: text&lt;/span&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_b2ad7e7121eb450dac9be2947c69d462-9"&gt;&lt;/a&gt;Write your post here.
&lt;/pre&gt;&lt;p&gt;You can edit these files with your favorite text editor, and once you are happy
with the contents, generate the pages using &lt;tt class="docutils literal"&gt;nikola build&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;The post page is generated by default using the &lt;tt class="docutils literal"&gt;post.tmpl&lt;/tt&gt; template, which you can use
to customize the output. You can also customize paths and the template filename
itself â see &lt;cite&gt;How does Nikola decide where posts should go?&lt;/cite&gt;&lt;/p&gt;
&lt;div class="section" id="metadata-fields"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id26"&gt;Metadata fields&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Nikola supports many metadata fields in posts. All of them are
translatable and almost all are optional.&lt;/p&gt;
&lt;div class="section" id="basic"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id27"&gt;Basic&lt;/a&gt;&lt;/h4&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;title&lt;/dt&gt;
&lt;dd&gt;Title of the post. (required)&lt;/dd&gt;
&lt;dt&gt;slug&lt;/dt&gt;
&lt;dd&gt;Slug of the post. Used as the last component of the page URL.  We recommend
and default to using a restricted character set (&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;a-z0-9-_&lt;/span&gt;&lt;/tt&gt;) because
other symbols may cause issues in URLs. (required)&lt;/dd&gt;
&lt;dt&gt;date&lt;/dt&gt;
&lt;dd&gt;Date of the post, defaults to now. Multiple date formats are accepted.
Adding a timezone is recommended. (required for posts)&lt;/dd&gt;
&lt;dt&gt;tags&lt;/dt&gt;
&lt;dd&gt;Comma-separated tags of the post. Some tags have special meaning, including
&lt;tt class="docutils literal"&gt;draft&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;private&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;mathjax&lt;/tt&gt;&lt;/dd&gt;
&lt;dt&gt;category&lt;/dt&gt;
&lt;dd&gt;Like tags, except each post can have only one, and they usually have
more descriptive names.&lt;/dd&gt;
&lt;dt&gt;guid&lt;/dt&gt;
&lt;dd&gt;String used as GUID in RSS feeds and as ID in Atom feeds instead of the
permalink.&lt;/dd&gt;
&lt;dt&gt;link&lt;/dt&gt;
&lt;dd&gt;Link to original source for content. May be displayed by some themes.&lt;/dd&gt;
&lt;dt&gt;description&lt;/dt&gt;
&lt;dd&gt;Description of the post. Used in &lt;tt class="docutils literal"&gt;&amp;lt;meta&amp;gt;&lt;/tt&gt; tags for SEO.&lt;/dd&gt;
&lt;dt&gt;type&lt;/dt&gt;
&lt;dd&gt;Type of the post. See &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#post-types"&gt;Post Types&lt;/a&gt; for details.  Whatever you set here
(prepended with &lt;tt class="docutils literal"&gt;post-&lt;/tt&gt;) will become a CSS class of the &lt;tt class="docutils literal"&gt;&amp;lt;article&amp;gt;&lt;/tt&gt;
element for this post.  Defaults to &lt;tt class="docutils literal"&gt;text&lt;/tt&gt; (resulting in a &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;post-text&lt;/span&gt;&lt;/tt&gt;
class)&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="extra"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id28"&gt;Extra&lt;/a&gt;&lt;/h4&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;author&lt;/dt&gt;
&lt;dd&gt;Author of the post, will be used in the RSS feed and possibly in the post
display (theme-dependent)&lt;/dd&gt;
&lt;dt&gt;annotations / noannotations&lt;/dt&gt;
&lt;dd&gt;Override the value of the &lt;tt class="docutils literal"&gt;ANNOTATIONS&lt;/tt&gt; option for this specific post or page.&lt;/dd&gt;
&lt;dt&gt;enclosure&lt;/dt&gt;
&lt;dd&gt;Add an enclosure to this post when it's used in RSS. See &lt;a class="reference external" href="http://en.wikipedia.org/wiki/RSS_enclosure"&gt;more information about enclosures&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;data&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Path to an external data file (JSON/YAML/TOML dictionary), relative to &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;.
Its keys are available for templates as &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;post.data('key')&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Translated posts can have different values for this field, and the correct one will be
used.&lt;/p&gt;
&lt;p class="last"&gt;See &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#the-global-context-and-data-files"&gt;The Global Context and Data files&lt;/a&gt; for more details.  This is
especially useful used in combination with &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#shortcodes"&gt;shortcodes&lt;/a&gt;.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;filters&lt;/dt&gt;
&lt;dd&gt;See the &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#post-processing-filters"&gt;Post Processing Filters&lt;/a&gt; section.&lt;/dd&gt;
&lt;dt&gt;hidetitle&lt;/dt&gt;
&lt;dd&gt;Set "True" if you do not want to see the &lt;strong&gt;page&lt;/strong&gt; title as a
heading of the output html file (does not work for posts).&lt;/dd&gt;
&lt;dt&gt;hyphenate&lt;/dt&gt;
&lt;dd&gt;Set "True" if you want this document to be hyphenated even if you have
hyphenation disabled by default.&lt;/dd&gt;
&lt;dt&gt;nocomments&lt;/dt&gt;
&lt;dd&gt;Set to "True" to disable comments. Example:&lt;/dd&gt;
&lt;dt&gt;password&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;The post will be encrypted and invisible until the reader enters the password.
Also, the post's source code will not be available.&lt;/p&gt;
&lt;p&gt;WARNING: &lt;strong&gt;DO NOT&lt;/strong&gt; use for real confidential data.  The algorithm used (RC4) is insecure.  The implementation may also be easily brute-forced.  Please consider using something else if you need &lt;em&gt;real&lt;/em&gt; encryption!&lt;/p&gt;
&lt;p class="last"&gt;More information: &lt;a class="reference external" href="https://github.com/getnikola/nikola/issues/1547"&gt;Issue #1547&lt;/a&gt;&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;pretty_url&lt;/dt&gt;
&lt;dd&gt;Set to "False" to disable pretty URL for this page. Example:&lt;/dd&gt;
&lt;dt&gt;previewimage&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Designate a preview or other representative image path relative to BASE_URL
for use with Open Graph for posts. Adds the image when sharing on social
media and many other uses.&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_8c29fb928df449f68fdec3b0b1765c7b-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. previewimage: /images/looks_great_on_facebook.png&lt;/span&gt;
&lt;/pre&gt;&lt;p class="last"&gt;The image can be of any size and dimension (services will crop and adapt)
but should less than 1 MB and be larger than 300x300 (ideally 600x600).&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;section&lt;/dt&gt;
&lt;dd&gt;Section for the post (instead of inferring from output path; requires
&lt;tt class="docutils literal"&gt;POSTS_SECTION_FROM_META&lt;/tt&gt; setting)&lt;/dd&gt;
&lt;dt&gt;template&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Change the template used to render this page/post specific page. That
template needs to either be part of the theme, or be placed in a
&lt;tt class="docutils literal"&gt;templates/&lt;/tt&gt; folder inside your site.&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_68561adadfe2462b91a1d1f0dc5729b4-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. template: story.tmpl&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;To add these metadata fields to all new posts by default, you can set the
variable &lt;tt class="docutils literal"&gt;ADDITIONAL_METADATA&lt;/tt&gt; in your configuration.  For example, you can
add the author metadata to all new posts by default, by adding the following
to your configuration:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_f89264dafc7c44e588e708af5fc37be3-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;ADDITIONAL_METADATA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_f89264dafc7c44e588e708af5fc37be3-2"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'author'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'John Doe'&lt;/span&gt;
&lt;a name="rest_code_f89264dafc7c44e588e708af5fc37be3-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="metadata-formats"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id29"&gt;Metadata formats&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Metadata can be in different formats.
Current Nikola versions experimentally supports other metadata formats that make it more compatible with
other static site generators. The currently supported metadata formats are:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;reST-style comments (&lt;tt class="docutils literal"&gt;.. name: value&lt;/tt&gt; â default format)&lt;/li&gt;
&lt;li&gt;Two-file format (reST-style comments or 7-line)&lt;/li&gt;
&lt;li&gt;Jupyter Notebook metadata&lt;/li&gt;
&lt;li&gt;YAML, between &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;---&lt;/span&gt;&lt;/tt&gt; (Jekyll, Hugo)&lt;/li&gt;
&lt;li&gt;TOML, between &lt;tt class="docutils literal"&gt;+++&lt;/tt&gt; (Hugo)&lt;/li&gt;
&lt;li&gt;reST docinfo (Pelican)&lt;/li&gt;
&lt;li&gt;Markdown metadata extension (Pelican)&lt;/li&gt;
&lt;li&gt;HTML meta tags (Pelican)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You can add arbitrary meta fields in any format.&lt;/p&gt;
&lt;p&gt;When you create new posts, by default the metadata will be created as reST style comments.
If you prefer a different format, you can set the &lt;tt class="docutils literal"&gt;METADATA_FORMAT&lt;/tt&gt; to one of these values:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;"Nikola"&lt;/tt&gt;: reST comments wrapped in a comment if needed (default)&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;"YAML"&lt;/tt&gt;: YAML wrapped in "---"&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;"TOML"&lt;/tt&gt;: TOML wrapped in "+++"&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;"Pelican"&lt;/tt&gt;: Native markdown metadata or reST docinfo fields. Nikola style for other formats.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="rest-style-comments"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id30"&gt;reST-style comments&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;The âtraditionalâ and default meta field format is:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_a88ced5bbb5f4ac79a1ef33521517c66-1"&gt;&lt;/a&gt;.. name: value
&lt;/pre&gt;&lt;p&gt;If you are not using reStructuredText, make sure the fields are in a HTML comment in output.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="two-file-format"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id31"&gt;Two-file format&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Meta information can also be specified in separate &lt;tt class="docutils literal"&gt;.meta&lt;/tt&gt; files. Those support reST-style metadata, with names and custom fields. They look like the beginning of our reST files:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_4710846ce4af4725891a4a8f4b529688-1"&gt;&lt;/a&gt;.. title: How to make money
&lt;a name="rest_code_4710846ce4af4725891a4a8f4b529688-2"&gt;&lt;/a&gt;.. slug: how-to-make-money
&lt;a name="rest_code_4710846ce4af4725891a4a8f4b529688-3"&gt;&lt;/a&gt;.. date: 2012-09-15 19:52:05 UTC
&lt;/pre&gt;&lt;p&gt;There is also an older version of the format. It uses the 7 base fields, in order, without names and custom meta:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_88317fc05836416aa2fad7eea057fc26-1"&gt;&lt;/a&gt;How to make money
&lt;a name="rest_code_88317fc05836416aa2fad7eea057fc26-2"&gt;&lt;/a&gt;how-to-make-money
&lt;a name="rest_code_88317fc05836416aa2fad7eea057fc26-3"&gt;&lt;/a&gt;2012-09-15 19:52:05 UTC
&lt;/pre&gt;&lt;p&gt;The support for this older format is kept only for backwards compatibility and will be removed in a future version. You can use &lt;a class="reference external" href="https://plugins.getnikola.com/v7/upgrade_metadata/"&gt;a converter plugin&lt;/a&gt; if youâre still using that format.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="jupyter-notebook-metadata"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id32"&gt;Jupyter Notebook metadata&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Jupyter posts can store meta information inside &lt;tt class="docutils literal"&gt;.ipynb&lt;/tt&gt; files by using the &lt;tt class="docutils literal"&gt;nikola&lt;/tt&gt; key inside notebook metadata. It can be edited by using &lt;em&gt;Edit â Edit Notebook Metadata&lt;/em&gt; in Jupyter. Note that values are currently only strings. Sample metadata (Jupyter-specific information omitted):&lt;/p&gt;
&lt;pre class="code json"&gt;&lt;a name="rest_code_c511d0f2765e49a1bbabdd7efcddc4c5-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_c511d0f2765e49a1bbabdd7efcddc4c5-2"&gt;&lt;/a&gt;    &lt;span class="nt"&gt;"nikola"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_c511d0f2765e49a1bbabdd7efcddc4c5-3"&gt;&lt;/a&gt;        &lt;span class="nt"&gt;"title"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"How to make money"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_c511d0f2765e49a1bbabdd7efcddc4c5-4"&gt;&lt;/a&gt;        &lt;span class="nt"&gt;"slug"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"how-to-make-money"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_c511d0f2765e49a1bbabdd7efcddc4c5-5"&gt;&lt;/a&gt;        &lt;span class="nt"&gt;"date"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"2012-09-15 19:52:05 UTC"&lt;/span&gt;
&lt;a name="rest_code_c511d0f2765e49a1bbabdd7efcddc4c5-6"&gt;&lt;/a&gt;    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_c511d0f2765e49a1bbabdd7efcddc4c5-7"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="yaml-metadata"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id33"&gt;YAML metadata&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;YAML metadata should be wrapped by a &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;---&lt;/span&gt;&lt;/tt&gt; separator (three dashes) and in that case, the usual YAML syntax is used:&lt;/p&gt;
&lt;pre class="code yaml"&gt;&lt;a name="rest_code_1c118538a96d4e5e8f1d0248352f5a55-1"&gt;&lt;/a&gt;&lt;span class="nn"&gt;---&lt;/span&gt;
&lt;a name="rest_code_1c118538a96d4e5e8f1d0248352f5a55-2"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;title&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;How to make money&lt;/span&gt;
&lt;a name="rest_code_1c118538a96d4e5e8f1d0248352f5a55-3"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;slug&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;how-to-make-money&lt;/span&gt;
&lt;a name="rest_code_1c118538a96d4e5e8f1d0248352f5a55-4"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;date&lt;/span&gt;&lt;span class="p p-Indicator"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;2012-09-15 19:52:05 UTC&lt;/span&gt;
&lt;a name="rest_code_1c118538a96d4e5e8f1d0248352f5a55-5"&gt;&lt;/a&gt;&lt;span class="nn"&gt;---&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="toml-metadata"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id34"&gt;TOML metadata&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;TOML metadata should be wrapped by a "+++" separator (three plus signs) and in that case, the usual TOML syntax is used:&lt;/p&gt;
&lt;pre class="code yaml"&gt;&lt;a name="rest_code_d219308c66f74e7cb2195f546bba4470-1"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;+++&lt;/span&gt;
&lt;a name="rest_code_d219308c66f74e7cb2195f546bba4470-2"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;title = "How to make money"&lt;/span&gt;
&lt;a name="rest_code_d219308c66f74e7cb2195f546bba4470-3"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;slug =  "how-to-make-money"&lt;/span&gt;
&lt;a name="rest_code_d219308c66f74e7cb2195f546bba4470-4"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;date = "2012-09-15 19:52:05 UTC"&lt;/span&gt;
&lt;a name="rest_code_d219308c66f74e7cb2195f546bba4470-5"&gt;&lt;/a&gt;&lt;span class="l l-Scalar l-Scalar-Plain"&gt;+++&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="rest-docinfo"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id35"&gt;reST docinfo&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Nikola can extract metadata from reStructuredText docinfo fields and the document itself, too:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_5505ba251afc479ab7a13725d56f36a9-1"&gt;&lt;/a&gt;&lt;span class="gh"&gt;How to make money&lt;/span&gt;
&lt;a name="rest_code_5505ba251afc479ab7a13725d56f36a9-2"&gt;&lt;/a&gt;&lt;span class="gh"&gt;=================&lt;/span&gt;
&lt;a name="rest_code_5505ba251afc479ab7a13725d56f36a9-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_5505ba251afc479ab7a13725d56f36a9-4"&gt;&lt;/a&gt;&lt;span class="nc"&gt;:slug:&lt;/span&gt; &lt;span class="nf"&gt;how-to-make-money&lt;/span&gt;
&lt;a name="rest_code_5505ba251afc479ab7a13725d56f36a9-5"&gt;&lt;/a&gt;&lt;span class="nc"&gt;:date:&lt;/span&gt; &lt;span class="nf"&gt;2012-09-15 19:52:05 UTC&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;To do this, you need  &lt;tt class="docutils literal"&gt;USE_REST_DOCINFO_METADATA = True&lt;/tt&gt; in your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;,
and Nikola will hide the docinfo fields in the output if you set
&lt;tt class="docutils literal"&gt;HIDE_REST_DOCINFO = True&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Note that keys are converted to lowercase automatically.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="markdown-metadata"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id36"&gt;Markdown metadata&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Markdown Metadata only works in Markdown files, and requires the &lt;tt class="docutils literal"&gt;markdown.extensions.meta&lt;/tt&gt; extension
(see &lt;a class="reference external" href="http://yongchen.org/posts/handbook/#markdown"&gt;MARKDOWN_EXTENSIONS&lt;/a&gt;). The exact format is described in
the &lt;a class="reference external" href="https://pythonhosted.org/Markdown/extensions/meta_data.html"&gt;markdown metadata extension docs.&lt;/a&gt;&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_5c90cfff15134d1aa220426f6e547301-1"&gt;&lt;/a&gt;title: How to make money
&lt;a name="rest_code_5c90cfff15134d1aa220426f6e547301-2"&gt;&lt;/a&gt;slug: how-to-make-money
&lt;a name="rest_code_5c90cfff15134d1aa220426f6e547301-3"&gt;&lt;/a&gt;date: 2012-09-15 19:52:05 UTC
&lt;/pre&gt;&lt;p&gt;Note that keys are converted to lowercase automatically.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="html-meta-tags"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id37"&gt;HTML meta tags&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;For HTML source files, metadata will be extracted from &lt;tt class="docutils literal"&gt;meta&lt;/tt&gt; tags, and the title from the &lt;tt class="docutils literal"&gt;title&lt;/tt&gt; tag.
Following Pelican's behaviour, tags can be put in a "tags" meta tag or in a "keywords" meta tag. Example:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-2"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;My super title&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-4"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"tags"&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"thats, awesome"&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-5"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"date"&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2012-07-09 22:28"&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-6"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"modified"&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"2012-07-10 20:14"&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-7"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"category"&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"yeah"&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-8"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"authors"&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"Conan Doyle"&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-9"&gt;&lt;/a&gt;        &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;meta&lt;/span&gt; &lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"summary"&lt;/span&gt; &lt;span class="na"&gt;content&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"Short version for index and feeds"&lt;/span&gt; &lt;span class="p"&gt;/&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-10"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;head&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-11"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-12"&gt;&lt;/a&gt;        This is the content of my super blog post.
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-13"&gt;&lt;/a&gt;    &lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;body&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_9473f97e18d541f8ad98ad628a43f40a-14"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;html&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="mapping-metadata-from-other-formats"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id38"&gt;Mapping metadata from other formats&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;If you import posts from other engines, those may not work with Nikola out of the box due to differing names. However, you can create a mapping to convert meta field names from those formats into what Nikola expects.&lt;/p&gt;
&lt;p&gt;For Pelican, use:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_33b3fefa4ab1415399d79033abc9c156-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;METADATA_MAPPING&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_33b3fefa4ab1415399d79033abc9c156-2"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"rest_docinfo"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"summary"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"description"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"modified"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"updated"&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;a name="rest_code_33b3fefa4ab1415399d79033abc9c156-3"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"markdown_metadata"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"summary"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"description"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"modified"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"updated"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_33b3fefa4ab1415399d79033abc9c156-4"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"html_metadata"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"summary"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"description"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"modified"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"updated"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_33b3fefa4ab1415399d79033abc9c156-5"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;For Hugo, use:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_7cbecf67e66a484ca81a2b0f196278ce-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;METADATA_MAPPING&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_7cbecf67e66a484ca81a2b0f196278ce-2"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"yaml"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"lastmod"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"updated"&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
&lt;a name="rest_code_7cbecf67e66a484ca81a2b0f196278ce-3"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"toml"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"lastmod"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"updated"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_7cbecf67e66a484ca81a2b0f196278ce-4"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;The following source names are supported: &lt;tt class="docutils literal"&gt;yaml&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;toml&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;rest_docinfo&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;markdown_metadata&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="multilingual-posts"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id39"&gt;Multilingual posts&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you are writing a multilingual site, you can also create a per-language
post file (for example: &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;how-to-make-money.es.txt&lt;/span&gt;&lt;/tt&gt; with the default TRANSLATIONS_PATTERN, see below).
This one can replace metadata of the default language, for example:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The translated title for the post or page&lt;/li&gt;
&lt;li&gt;A translated version of the page name&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The pattern used for finding translations is controlled by the
TRANSLATIONS_PATTERN variable in your configuration file.&lt;/p&gt;
&lt;p&gt;The default is to put the language code before the file extension,
so the German translation of &lt;tt class="docutils literal"&gt;some_file.rst&lt;/tt&gt; should be named
&lt;tt class="docutils literal"&gt;some_file.de.rst&lt;/tt&gt;. This is because the TRANSLATIONS_PATTERN variable is by
default set to:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_81f4a6a865a94af6892323ef85edbe8e-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;TRANSLATIONS_PATTERN&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"{path}.{lang}.{ext}"&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;Considered languages&lt;/p&gt;
&lt;p class="last"&gt;Nikola will only look for translation of input files for languages
specified in the TRANSLATIONS variable.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;In case you translate your posts, you might also want to adjust various
other settings so that the generated URLs match the translation. You can
find most places in &lt;cite&gt;conf.py&lt;/cite&gt; by searching for &lt;cite&gt;(translatable)&lt;/cite&gt;. For example,
you might want to localize &lt;cite&gt;/categories/&lt;/cite&gt; (search for &lt;cite&gt;TAG_PATH&lt;/cite&gt;), &lt;cite&gt;/pages/&lt;/cite&gt;
and &lt;cite&gt;/posts/&lt;/cite&gt; (search for &lt;cite&gt;POSTS&lt;/cite&gt; and &lt;cite&gt;PAGES&lt;/cite&gt;, or see the next section), or
how to adjust the URLs for subsequent pages for indexes (search for
&lt;cite&gt;INDEXES_PRETTY_PAGE_URL&lt;/cite&gt;).&lt;/p&gt;
&lt;p&gt;Nikola supports multiple languages for a post (we have almost 50 translations!). If you wish to
add support for more languages, check out &lt;a class="reference external" href="https://www.transifex.com/projects/p/nikola/"&gt;the Transifex page for Nikola&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="how-does-nikola-decide-where-posts-should-go"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id40"&gt;How does Nikola decide where posts should go?&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The place where the post will be placed by &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; (the first one that
matches the given format) and the final post destination (the first one that
matches a given file) is based on the &lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt; configuration
options. The exact mechanism is explained above the config options in the
&lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; file, and also reproduced below:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# POSTS and PAGES contains (wildcard, destination, template) tuples.&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# The wildcard is used to generate a list of post source files&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# (whatever/thing.rst, for example).&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-6"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# That fragment could have an associated metadata file (whatever/thing.meta),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# and optionally translated files (example for Spanish, with code "es"):&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-8"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#     whatever/thing.es.rst and whatever/thing.es.meta&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-9"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-10"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#     This assumes you use the default TRANSLATIONS_PATTERN.&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-11"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-12"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# From those files, a set of HTML fragment files will be generated:&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-13"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# cache/whatever/thing.html (and maybe cache/whatever/thing.html.es)&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-14"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-15"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# These files are combined with the template to produce rendered&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-16"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# pages, which will be placed at&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-17"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# output/TRANSLATIONS[lang]/destination/pagename.html&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-18"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-19"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# where "pagename" is the "slug" specified in the metadata file.&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-20"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# The page might also be placed in /destination/pagename/index.html&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-21"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# if PRETTY_URLS are enabled.&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-22"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-23"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# The difference between POSTS and PAGES is that POSTS are added&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-24"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# to feeds, indexes, tag lists and archives and are considered part&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-25"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# of a blog, while PAGES are just independent HTML pages.&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-26"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-27"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Finally, note that destination can be translated, i.e. you can&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-28"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# specify a different translation folder per language. Example:&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-29"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#     PAGES = (&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-30"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#         ("pages/*.rst", {"en": "pages", "de": "seiten"}, "story.tmpl"),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-31"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#         ("pages/*.md", {"en": "pages", "de": "seiten"}, "story.tmpl"),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-32"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#     )&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-33"&gt;&lt;/a&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-34"&gt;&lt;/a&gt;&lt;span class="n"&gt;POSTS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-35"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.rst"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"posts"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-36"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.txt"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"posts"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-37"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"posts/*.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"posts"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"post.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-38"&gt;&lt;/a&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-39"&gt;&lt;/a&gt;&lt;span class="n"&gt;PAGES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-40"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.rst"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"pages"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"story.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-41"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.txt"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"pages"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"story.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-42"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"pages/*.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"pages"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"story.tmpl"&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_9ab806436ea94f45a734ed3019356737-43"&gt;&lt;/a&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;POSTS and PAGES are not flat!&lt;/p&gt;
&lt;p&gt;Even if the syntax may suggest you can't, you can create any directory structure you want
inside &lt;tt class="docutils literal"&gt;posts/&lt;/tt&gt; or &lt;tt class="docutils literal"&gt;pages/&lt;/tt&gt; and it will be reflected in the output. For example,
&lt;tt class="docutils literal"&gt;posts/foo/bar.txt&lt;/tt&gt; would produce  &lt;tt class="docutils literal"&gt;output/posts/foo/bar.html&lt;/tt&gt;, assuming the slug is also &lt;tt class="docutils literal"&gt;bar&lt;/tt&gt;.&lt;/p&gt;
&lt;p class="last"&gt;If you have &lt;tt class="docutils literal"&gt;PRETTY_URLS&lt;/tt&gt; enabled, that would be &lt;tt class="docutils literal"&gt;output/posts/foo/bar/index.html&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="the-new-post-command"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id41"&gt;The &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; command&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; will use the &lt;em&gt;first&lt;/em&gt; path in &lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; (or &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt; if &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-p&lt;/span&gt;&lt;/tt&gt; is
supplied) that ends with the extension of your desired markup format (as
defined in &lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt; in &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;) as the directory that the new post will be
written into.  If no such entry can be found, the post wonât be created.&lt;/p&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; command supports some options:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-1"&gt;&lt;/a&gt;$ nikola help new_post
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-2"&gt;&lt;/a&gt;Purpose: create a new blog post or site page
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-3"&gt;&lt;/a&gt;Usage:   nikola new_post [options] [path]
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-5"&gt;&lt;/a&gt;Options:
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-6"&gt;&lt;/a&gt;  -p, --page                Create a page instead of a blog post. (see also: `nikola new_page`)
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-7"&gt;&lt;/a&gt;  -t ARG, --title=ARG       Title for the post.
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-8"&gt;&lt;/a&gt;  -a ARG, --author=ARG      Author of the post.
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-9"&gt;&lt;/a&gt;  --tags=ARG                Comma-separated tags for the post.
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-10"&gt;&lt;/a&gt;  -1                        Create the post with embedded metadata (single file format)
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-11"&gt;&lt;/a&gt;  -2                        Create the post with separate metadata (two file format)
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-12"&gt;&lt;/a&gt;  -e                        Open the post (and meta file, if any) in $EDITOR after creation.
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-13"&gt;&lt;/a&gt;  -f ARG, --format=ARG      Markup format for the post (use --available-formats for list)
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-14"&gt;&lt;/a&gt;  -F, --available-formats   List all available input formats
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-15"&gt;&lt;/a&gt;  -s                        Schedule the post based on recurrence rule
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-16"&gt;&lt;/a&gt;  -i ARG, --import=ARG      Import an existing file instead of creating a placeholder
&lt;a name="rest_code_3536ebfcb5e444778292c056fea46c61-17"&gt;&lt;/a&gt;  -d, --date-path           Create post with date path (eg. year/month/day, see NEW_POST_DATE_PATH_FORMAT in config)
&lt;/pre&gt;&lt;p&gt;The optional &lt;tt class="docutils literal"&gt;path&lt;/tt&gt; parameter tells Nikola exactly where to put it instead of guessing from your config.
So, if you do &lt;tt class="docutils literal"&gt;nikola new_post posts/random/foo.txt&lt;/tt&gt; you will have a post in that path, with
"foo" as its slug. You can also provide a directory name, in which case Nikola
will append the file name for you (generated from title).&lt;/p&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-d,&lt;/span&gt; &lt;span class="pre"&gt;--date-path&lt;/span&gt;&lt;/tt&gt; option automates creation of &lt;tt class="docutils literal"&gt;year/month/day&lt;/tt&gt; or
similar directory structures. It can be enabled on a per-post basis, or you can
use it for every post if you set &lt;tt class="docutils literal"&gt;NEW_POST_DATE_PATH = True&lt;/tt&gt; in conf.py.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_a5ea4d842d744f209bb5e1706abc45ef-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Use date-based path when creating posts?&lt;/span&gt;
&lt;a name="rest_code_a5ea4d842d744f209bb5e1706abc45ef-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Can be enabled on a per-post basis with `nikola new_post -d`.&lt;/span&gt;
&lt;a name="rest_code_a5ea4d842d744f209bb5e1706abc45ef-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# NEW_POST_DATE_PATH = False&lt;/span&gt;
&lt;a name="rest_code_a5ea4d842d744f209bb5e1706abc45ef-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_a5ea4d842d744f209bb5e1706abc45ef-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# What format to use when creating posts with date paths?&lt;/span&gt;
&lt;a name="rest_code_a5ea4d842d744f209bb5e1706abc45ef-6"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Default is '%Y/%m/%d', other possibilities include '%Y' or '%Y/%m'.&lt;/span&gt;
&lt;a name="rest_code_a5ea4d842d744f209bb5e1706abc45ef-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# NEW_POST_DATE_PATH_FORMAT = '%Y/%m/%d'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="teasers"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id42"&gt;Teasers&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;You may not want to show the complete content of your posts either on your
index page or in RSS feeds, but to display instead only the beginning of them.&lt;/p&gt;
&lt;p&gt;If it's the case, you only need to add a "magical comment" in your post.&lt;/p&gt;
&lt;p&gt;In reStructuredText:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_b6eadfa5efe04abe80b5589598295b9c-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. TEASER_END&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;In Markdown (or basically, the resulting HTML of any format):&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_842f1d4dc6994c558e8796cf56df944c-1"&gt;&lt;/a&gt;&lt;span class="c"&gt;&amp;lt;!-- TEASER_END --&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;By default all your RSS feeds will be shortened (they'll contain only teasers)
whereas your index page will still show complete posts. You can change
this behavior with your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;: &lt;tt class="docutils literal"&gt;INDEX_TEASERS&lt;/tt&gt; defines whether index
page should display the whole contents or only teasers. &lt;tt class="docutils literal"&gt;FEED_TEASERS&lt;/tt&gt;
works the same way for your Atom and RSS feeds.&lt;/p&gt;
&lt;p&gt;By default, teasers will include a "read more" link at the end. If you want to
change that text, you can use a custom teaser:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_84a8970c2455476ab77f58135eb02cc6-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. TEASER_END: click to read the rest of the article&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;You can override the default value for &lt;tt class="docutils literal"&gt;TEASER_END&lt;/tt&gt; in &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; â for
example, the following example will work for &lt;tt class="docutils literal"&gt;.. more&lt;/tt&gt;, and will be
compatible with both WordPress and Nikola posts:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_694f7cd8db5541e8b740d15dcd022ff8-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;re&lt;/span&gt;
&lt;a name="rest_code_694f7cd8db5541e8b740d15dcd022ff8-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;TEASER_REGEXP&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;compile&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&amp;lt;!--\s*(more|TEASER_END)(:(.+))?\s*--&amp;gt;'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;re&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IGNORECASE&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Or you can completely customize the link using the &lt;tt class="docutils literal"&gt;READ_MORE_LINK&lt;/tt&gt; option.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_3874709265414e6fb0927c31c68e339e-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# A HTML fragment with the Read more... link.&lt;/span&gt;
&lt;a name="rest_code_3874709265414e6fb0927c31c68e339e-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# The following tags exist and are replaced for you:&lt;/span&gt;
&lt;a name="rest_code_3874709265414e6fb0927c31c68e339e-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# {link}        A link to the full post page.&lt;/span&gt;
&lt;a name="rest_code_3874709265414e6fb0927c31c68e339e-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# {read_more}   The string âRead moreâ in the current language.&lt;/span&gt;
&lt;a name="rest_code_3874709265414e6fb0927c31c68e339e-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# {{            A literal { (U+007B LEFT CURLY BRACKET)&lt;/span&gt;
&lt;a name="rest_code_3874709265414e6fb0927c31c68e339e-6"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# }}            A literal } (U+007D RIGHT CURLY BRACKET)&lt;/span&gt;
&lt;a name="rest_code_3874709265414e6fb0927c31c68e339e-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# READ_MORE_LINK = '&amp;lt;p class="more"&amp;gt;&amp;lt;a href="{link}"&amp;gt;{read_more}â¦&amp;lt;/a&amp;gt;&amp;lt;/p&amp;gt;'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="drafts"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id43"&gt;Drafts&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you add a "draft" tag to a post, then it will not be shown in indexes and feeds.
It &lt;em&gt;will&lt;/em&gt; be compiled, and if you deploy it it &lt;em&gt;will&lt;/em&gt; be made available, so use
with care. If you wish your drafts to be not available in your deployed site, you
can set &lt;tt class="docutils literal"&gt;DEPLOY_DRAFTS = False&lt;/tt&gt; in your configuration. This will not work if
lazily include &lt;tt class="docutils literal"&gt;nikola build&lt;/tt&gt; in your &lt;tt class="docutils literal"&gt;DEPLOY_COMMANDS&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Also if a post has a date in the future, it will not be shown in indexes until
you rebuild after that date. This behavior can be disabled by setting
&lt;tt class="docutils literal"&gt;FUTURE_IS_NOW = True&lt;/tt&gt; in your configuration, which will make future posts be
published immediately.  Posts dated in the future are &lt;em&gt;not&lt;/em&gt; deployed by default
(when &lt;tt class="docutils literal"&gt;FUTURE_IS_NOW = False&lt;/tt&gt;).  To make future posts available in the
deployed site, you can set &lt;tt class="docutils literal"&gt;DEPLOY_FUTURE = True&lt;/tt&gt; in your configuration.
Generally, you want FUTURE_IS_NOW and DEPLOY_FUTURE to be the same value.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="private-posts"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id44"&gt;Private Posts&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you add a "private" tag to a post, then it will not be shown in indexes and feeds.
It &lt;em&gt;will&lt;/em&gt; be compiled, and if you deploy it it &lt;em&gt;will&lt;/em&gt; be made available, so it will
not generate 404s for people who had linked to it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="queuing-posts"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id45"&gt;Queuing Posts&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Some blogs tend to have new posts based on a schedule (for example,
every Mon, Wed, Fri) but the blog authors don't like to manually
schedule their posts.  You can schedule your blog posts based on a
rule, by specifying a rule in the &lt;tt class="docutils literal"&gt;SCHEDULE_RULE&lt;/tt&gt; in your
configuration.  You can either post specific blog posts according to
this schedule by using the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--schedule&lt;/span&gt;&lt;/tt&gt; flag on the &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt;
command or post all new posts according to this schedule by setting
&lt;tt class="docutils literal"&gt;SCHEDULE_ALL = True&lt;/tt&gt; in your configuration. (Note: This feature
requires that the &lt;tt class="docutils literal"&gt;FUTURE_IS_NOW&lt;/tt&gt; setting is set to &lt;tt class="docutils literal"&gt;False&lt;/tt&gt;)&lt;/p&gt;
&lt;p&gt;For example, if you would like to schedule your posts to be on every
Monday, Wednesday and Friday at 7am, add the following
&lt;tt class="docutils literal"&gt;SCHEDULE_RULE&lt;/tt&gt; to your configuration:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_7959adf219884eeda869c2a9021b76e3-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;SCHEDULE_RULE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'RRULE:FREQ=WEEKLY;BYDAY=MO,WE,FR;BYHOUR=7;BYMINUTE=0;BYSECOND=0'&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;For more details on how to specify a recurrence rule, look at the
&lt;a class="reference external" href="http://www.kanzaki.com/docs/ical/rrule.html"&gt;iCal specification&lt;/a&gt;.
Or if you are scared of this format, many calendaring applications (eg. Google
Calendar) offer iCal exports, so you can copy-paste the repeat rule from a
generated iCal (&lt;tt class="docutils literal"&gt;.ics&lt;/tt&gt;) file (which is a human-readable text file).&lt;/p&gt;
&lt;p&gt;Say, you get a free Sunday, and want to write a flurry of new posts,
or at least posts for the rest of the week, you would run the
&lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; command with the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--schedule&lt;/span&gt;&lt;/tt&gt; flag, as many times as
you want:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola new_post --schedule
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-2"&gt;&lt;/a&gt;&lt;span class="gp"&gt;#&lt;/span&gt; Creates a new post to be posted on Monday, 7am.
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-3"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola new_post -s
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-4"&gt;&lt;/a&gt;&lt;span class="gp"&gt;#&lt;/span&gt; Creates a new post to be posted on Wednesday, 7am.
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-5"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola new_post -s
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-6"&gt;&lt;/a&gt;&lt;span class="gp"&gt;#&lt;/span&gt; Creates a new post to be posted on Friday, 7am.
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;.&lt;/span&gt;
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;.&lt;/span&gt;
&lt;a name="rest_code_56f563aa32904418be50c10fa3a3d1c4-9"&gt;&lt;/a&gt;&lt;span class="go"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;All these posts get queued up according to your schedule, but note
that you will anyway need to build and deploy your site for the posts
to appear online.  You can have a cron job that does this regularly.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="post-types"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id46"&gt;Post Types&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Nikola supports specifying post types, just like Tumblr does.  Post
types affect the look of your posts, by adding a &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;post-YOURINPUTHERE&lt;/span&gt;&lt;/tt&gt;
CSS class to the post.  Each post can have one and exactly one type.  Nikola
styles the following types in the default themes:&lt;/p&gt;
&lt;table border="1" class="table table-bordered docutils"&gt;
&lt;colgroup&gt;
&lt;col width="27%"&gt;
&lt;col width="44%"&gt;
&lt;col width="29%"&gt;
&lt;/colgroup&gt;
&lt;thead valign="bottom"&gt;
&lt;tr&gt;&lt;th class="head"&gt;Name(s)&lt;/th&gt;
&lt;th class="head"&gt;Description&lt;/th&gt;
&lt;th class="head"&gt;Styling&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td&gt;text&lt;/td&gt;
&lt;td&gt;plain text â default value&lt;/td&gt;
&lt;td&gt;standard&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;micro&lt;/td&gt;
&lt;td&gt;âsmallâ (short) posts&lt;/td&gt;
&lt;td&gt;big serif font&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;div class="section" id="indexes"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id47"&gt;Indexes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;All your posts that are not drafts, private or dated in the future, will be
shown in indexes.&lt;/p&gt;
&lt;div class="section" id="settings"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id48"&gt;Settings&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Indexes are put in the &lt;tt class="docutils literal"&gt;INDEX_PATH&lt;/tt&gt; directory, which defaults to an empty
string (site root).  The âmainâ index is &lt;tt class="docutils literal"&gt;index.html&lt;/tt&gt;, and all the further
indexes are &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;index-*.html&lt;/span&gt;&lt;/tt&gt;, respectively.&lt;/p&gt;
&lt;p&gt;By default, 10 posts are displayed on an index page.  This can be changed with
&lt;tt class="docutils literal"&gt;INDEX_DISPLAY_POST_COUNT&lt;/tt&gt;.  Indexes can show full posts or just the teasers,
as controlled by the &lt;tt class="docutils literal"&gt;INDEX_TEASERS&lt;/tt&gt; setting (defaults to &lt;tt class="docutils literal"&gt;False&lt;/tt&gt;).&lt;/p&gt;
&lt;p&gt;Titles of the pages can be controlled by using &lt;tt class="docutils literal"&gt;INDEXES_TITLES&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;INDEXES_PAGES&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;INDEXES_PAGES_MAIN&lt;/tt&gt; settings.&lt;/p&gt;
&lt;p&gt;Categories and tags use simple lists by default that show only titles and
dates; however, you can switch them to full indexes by using
&lt;tt class="docutils literal"&gt;CATEGORY_PAGES_ARE_INDEXES&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;TAG_PAGES_ARE_INDEXES&lt;/tt&gt;, respectively.&lt;/p&gt;
&lt;p&gt;Something similar happens with authors. To use full indexes in authors, set
&lt;tt class="docutils literal"&gt;AUTHOR_PAGES_ARE_INDEXES&lt;/tt&gt; to &lt;tt class="docutils literal"&gt;True&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="static-indexes"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id49"&gt;Static indexes&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Nikola uses &lt;em&gt;static indexes&lt;/em&gt; by default.  This means that &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;index-1.html&lt;/span&gt;&lt;/tt&gt; has
the oldest posts, and the newest posts past the first 10 are in
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;index-N.html&lt;/span&gt;&lt;/tt&gt;, where &lt;tt class="docutils literal"&gt;N&lt;/tt&gt; is the highest number.  Only the page with the
highest number and the main page (&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;index-N.html&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;index.html&lt;/tt&gt;) are
rebuilt (the others remain unchanged).  The page that appears when you click
&lt;em&gt;Older posts&lt;/em&gt; on the index page, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;index-N.html&lt;/span&gt;&lt;/tt&gt;, might contain &lt;strong&gt;less than 10
posts&lt;/strong&gt; if there are not enough posts to fill up all pages.&lt;/p&gt;
&lt;p&gt;This can be disabled by setting &lt;tt class="docutils literal"&gt;INDEXES_STATIC&lt;/tt&gt; to &lt;tt class="docutils literal"&gt;False&lt;/tt&gt;.  In that mode,
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;index-1.html&lt;/span&gt;&lt;/tt&gt; contains all the newest posts past the first 10 and will
always contain 10 posts (unless you have less than 20).  The last page,
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;index-N.html&lt;/span&gt;&lt;/tt&gt;, contains the oldest posts, and might contain less than 10
posts.  This is how many blog engines and CMSes behave.  Note that this will
lead to rebuilding all index pages, which might be a problem for larger blogs
(with a lot of index pages).&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="post-taxonomy"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id50"&gt;Post taxonomy&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;There are three taxonomy systems in Nikola, or three ways to organize posts. Those are:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;tags&lt;/li&gt;
&lt;li&gt;categories&lt;/li&gt;
&lt;li&gt;sections&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Tags and categories are visible on the &lt;em&gt;Tags and Categories&lt;/em&gt; page, by default available at &lt;tt class="docutils literal"&gt;/categories/&lt;/tt&gt;. Each tag/category/section has an index page and feeds.&lt;/p&gt;
&lt;div class="section" id="tags"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id51"&gt;Tags&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Tags are the smallest and most basic of the taxonomy items. A post can have multiple tags, specified using the &lt;tt class="docutils literal"&gt;tags&lt;/tt&gt; metadata entry (comma-separated). You should provide many tags to help your readers, and perhaps search engines, find content on your site.&lt;/p&gt;
&lt;p&gt;Please note that tags are case-sensitive and that you cannot have two tags that differ only in case/punctuation (eg. using &lt;tt class="docutils literal"&gt;nikola&lt;/tt&gt; in one post and &lt;tt class="docutils literal"&gt;Nikola&lt;/tt&gt; in another will lead to a crash):&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_4661ebef78404ab3a4fce071b9fa1fb0-1"&gt;&lt;/a&gt;ERROR: Nikola: You have tags that are too similar: Nikola and nikola
&lt;a name="rest_code_4661ebef78404ab3a4fce071b9fa1fb0-2"&gt;&lt;/a&gt;ERROR: Nikola: Tag Nikola is used in: posts/second-post.rst
&lt;a name="rest_code_4661ebef78404ab3a4fce071b9fa1fb0-3"&gt;&lt;/a&gt;ERROR: Nikola: Tag nikola is used in: posts/1.rst
&lt;/pre&gt;&lt;p&gt;Nikola uses some tags to mark a post as âspecialâ â those are &lt;tt class="docutils literal"&gt;draft&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;private&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;mathjax&lt;/tt&gt; (for math support).&lt;/p&gt;
&lt;p&gt;You can also generate a tag cloud with the &lt;a class="reference external" href="https://plugins.getnikola.com/#tx3_tag_cloud"&gt;tx3_tag_cloud&lt;/a&gt; plugin.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="categories"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id52"&gt;Categories&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;The next unit for organizing your content are categories. A post can have only one category, specified with the &lt;tt class="docutils literal"&gt;category&lt;/tt&gt; meta tag. Those are &lt;em&gt;deprecated&lt;/em&gt; and replaced by sections. They are displayed alongside tags. You can have categories and tags with the same name (categoriesâ RSS and HTML files are prefixed with &lt;tt class="docutils literal"&gt;cat_&lt;/tt&gt; by default).&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="sections"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id53"&gt;Sections&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;Sections are the newest feature for taxonomy, and are not supported in themes by default. There are two ways to assign a section to a post:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;through the directory structure (first directory is the section name, eg. &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;/code/my-project/&lt;/span&gt;&lt;/tt&gt; is in the &lt;cite&gt;code&lt;/cite&gt; category) â your POSTS should have those directories as the second element, eg.&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_e4c632927c9e41a19f6450da6a7475d2-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;POSTS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_e4c632927c9e41a19f6450da6a7475d2-2"&gt;&lt;/a&gt;    &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'posts/code/*.rst'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'code'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'posts'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_e4c632927c9e41a19f6450da6a7475d2-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;through the &lt;tt class="docutils literal"&gt;section&lt;/tt&gt; meta field (requires &lt;tt class="docutils literal"&gt;POSTS_SECTION_FROM_META&lt;/tt&gt; setting; recommended especially for existing sites which should not change the directory hierarchy)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sections are meant to be used to organize different parts of your blog, parts that are about different topics. Unlike tags, which you should have tens (hundreds?) of, you should ideally have less than 10 sections (though it depends on what your blog needs; there is no hard limit).&lt;/p&gt;
&lt;p&gt;With sections, you can also use some custom styling â if you install &lt;tt class="docutils literal"&gt;husl&lt;/tt&gt;, you can use &lt;tt class="docutils literal"&gt;post.section_color()&lt;/tt&gt; from within templates to get a distinct color for the section of a post, which you can then use in some inline CSS for the section name.&lt;/p&gt;
&lt;p&gt;You can find some examples and more information in the &lt;a class="reference external" href="https://getnikola.com/blog/new-feature-in-nikola-sections.html"&gt;original announcement&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="configuring-tags-categories-and-sections"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id54"&gt;Configuring tags, categories and sections&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;There are multiple configuration variables dedicated to each of the three taxonomies. You can set:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;TAG_PATH&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;TAGS_INDEX_PATH&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;CATEGORY_PATH&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;CATEGORY_PREFIX&lt;/tt&gt; to configure paths used for tags and categories&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;POST_SECTION_NAME&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;POST_SECTION_TITLE`, `TAG_PAGES_TITLES&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;CATEGORY_PAGES_TITLES&lt;/tt&gt; to set friendly section names and titles for index pages&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;POST_SECTION_DESCRIPTIONS&lt;/tt&gt;, &lt;cite&gt;TAG_PAGES_DESCRIPTIONS`&lt;/cite&gt;, &lt;tt class="docutils literal"&gt;CATEGORY_PAGES_DESCRIPTIONS&lt;/tt&gt; to set descriptions for each of the items&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;POST_SECTION_COLORS&lt;/tt&gt; to customize colors for each section&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;CATEGORY_ALLOW_HIERARCHIES&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;CATEGORY_OUTPUT_FLAT_HIERARCHIES&lt;/tt&gt; to allow hierarchical categories&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;TAG_PAGES_ARE_INDEXES&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;CATEGORY_PAGES_ARE_INDEXES&lt;/tt&gt; to display full-size indexes instead of simple post lists&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;WRITE_TAG_CLOUDS&lt;/tt&gt; to enable/disable generating tag cloud files&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;HIDDEN_TAGS&lt;/tt&gt;. &lt;tt class="docutils literal"&gt;HIDDEN_CATEGORIES&lt;/tt&gt; to make some tags/categories invisible in lists&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;POSTS_SECTION_FROM_META&lt;/tt&gt; to use &lt;tt class="docutils literal"&gt;.. section:&lt;/tt&gt; in posts instead of inferring paths from paths&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="what-if-i-dont-want-a-blog"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id55"&gt;What if I donât want a blog?&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you want a static site that does not have any blog-related elements, see our
&lt;a class="reference external" href="https://getnikola.com/creating-a-site-not-a-blog-with-nikola.html"&gt;Creating a Site (Not a Blog) with Nikola&lt;/a&gt; guide.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="creating-a-page"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id56"&gt;Creating a Page&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Pages are the same as posts, except that:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;They are not added to the front page&lt;/li&gt;
&lt;li&gt;They don't appear on the RSS feed&lt;/li&gt;
&lt;li&gt;They use the &lt;tt class="docutils literal"&gt;story.tmpl&lt;/tt&gt; template instead of &lt;tt class="docutils literal"&gt;post.tmpl&lt;/tt&gt; by default&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The default configuration expects the page's metadata and text files to be on the
&lt;tt class="docutils literal"&gt;pages&lt;/tt&gt; folder, but that can be changed (see &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt; option above).&lt;/p&gt;
&lt;p&gt;You can create the page's files manually or use the &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; command
with the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-p&lt;/span&gt;&lt;/tt&gt; option, which will place the files in the folder that
has &lt;tt class="docutils literal"&gt;use_in_feed&lt;/tt&gt; set to False.&lt;/p&gt;
&lt;p&gt;In some places (including default directories and templates), pages are called
&lt;em&gt;stories&lt;/em&gt; for historic reasons. Both are synonyms for the same thing: pages
that are not blog posts.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="supported-input-formats"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id57"&gt;Supported input formats&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola supports multiple input formats.  Out of the box, we have compilers available for:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;reStructuredText (default and pre-configured)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#markdown"&gt;Markdown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#jupyter-ipython-notebook"&gt;Jupyter/IPython Notebook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#html"&gt;HTML&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#php"&gt;PHP&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;anything &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#pandoc"&gt;Pandoc&lt;/a&gt; supports (including Textile, DocBook, LaTeX, MediaWiki,
TWiki, OPML, Emacs Org-Mode, txt2tags, Microsoft Word .docx, EPUB, Haddock markup)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Plus, we have specialized compilers in the Plugins Index for:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#asciidoc"&gt;AsciiDoc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#bbcode"&gt;BBCode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#commonmark"&gt;CommonMark&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#irclogs"&gt;IRC logs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#markmin"&gt;Markmin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#mediawiki"&gt;MediaWiki (smc.mw)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#misaka"&gt;Misaka&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#odt"&gt;ODT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#orgmode"&gt;Emacs Org-Mode&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#rest_html5"&gt;reST with HTML 5 output&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#textile"&gt;Textile&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#txt2tags"&gt;txt2tags&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#wiki"&gt;CreoleWiki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://plugins.getnikola.com/#wordpress_compiler"&gt;WordPress posts&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="configuring-other-input-formats"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id58"&gt;Configuring other input formats&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;In order to use input formats other than reStructuredText, you need some extra
setup.&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Make sure you have the compiler for the input format you want.  Some
input formats are supported out-of-the-box, but others must be installed from
the Plugins repository.  You may also need some extra dependencies.  You
will get helpful errors if you try to build when missing something.&lt;/li&gt;
&lt;li&gt;You must ensure the compiler and your desired input file extension is included
in the &lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt; dict and does not conflict with any other format.  This
is extremely important for the pandoc compiler.&lt;/li&gt;
&lt;li&gt;Finally, you must configure the &lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt; tuples.  Follow the
instructions and the format set by pre-existing entries.  Make sure to use
the same extension as is set in &lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt; and configure the outputs
properly.&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="section" id="markdown"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id59"&gt;Markdown&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;To use Markdown in your posts/pages, make sure &lt;tt class="docutils literal"&gt;markdown&lt;/tt&gt; is in your
&lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt; and that at least one of your desired extensions is defined in
&lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;You can use Python-Markdown extensions by setting the &lt;tt class="docutils literal"&gt;MARKDOWN_EXTENSIONS&lt;/tt&gt;
config option:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_02277e1204784a619a17c26effb6a67b-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;MARKDOWN_EXTENSIONS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'fenced_code'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'codehilite'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'extra'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Nikola comes with some Markdown Extensions built-in and enabled by default,
namely a gist directive, a podcast directive, and &lt;tt class="docutils literal"&gt;~~strikethrough~~&lt;/tt&gt; support.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="jupyter-ipython-notebook"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id60"&gt;Jupyter/IPython Notebook&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;To use Jupyter Notebooks (previously known as IPython Notebooks) as posts/pages,
make sure &lt;tt class="docutils literal"&gt;ipynb&lt;/tt&gt; is in your &lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt; and that the &lt;tt class="docutils literal"&gt;.ipynb&lt;/tt&gt; extension
is defined in &lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-f&lt;/span&gt;&lt;/tt&gt; argument to &lt;tt class="docutils literal"&gt;new_post&lt;/tt&gt; should be used in the &lt;tt class="docutils literal"&gt;ipynb@KERNEL&lt;/tt&gt; format.
It defaults to Python in the version used by Nikola if not specified.&lt;/p&gt;
&lt;p&gt;Jupyter Notebooks are also supported in stand-alone listings, if Jupyter
support is enabled site-wide.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="html"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id61"&gt;HTML&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;To use plain HTML in your posts/pages, make sure &lt;tt class="docutils literal"&gt;html&lt;/tt&gt; is in your
&lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt;
and that the &lt;tt class="docutils literal"&gt;.html&lt;/tt&gt; extension is defined in &lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="php"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id62"&gt;PHP&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;There are two ways of using PHP within Nikola:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;To use PHP in your posts/pages (inside your site, with the theme and
everything), make sure &lt;tt class="docutils literal"&gt;php&lt;/tt&gt; is in your &lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt; and that the &lt;tt class="docutils literal"&gt;.php&lt;/tt&gt;
extension is defined in &lt;tt class="docutils literal"&gt;POSTS&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;PAGES&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;To use PHP as standalone files (without any modifications), put them in
&lt;tt class="docutils literal"&gt;files/&lt;/tt&gt; (or whatever &lt;tt class="docutils literal"&gt;FILES_FOLDERS&lt;/tt&gt; is configured to).&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="pandoc"&gt;
&lt;h4&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id63"&gt;Pandoc&lt;/a&gt;&lt;/h4&gt;
&lt;p&gt;To use Pandoc, you must uncomment the entry in &lt;tt class="docutils literal"&gt;COMPILERS&lt;/tt&gt; and set the
extensions list to your desired extensions while also removing them from their
original compilers.  The input format is inferred from the extension by Pandoc.&lt;/p&gt;
&lt;p&gt;Using Pandoc for reStructuredText, Markdown and other input formats that have a
standalone Nikola plugin is &lt;strong&gt;not recommended&lt;/strong&gt; as it disables plugins and
extensions that are usually provided by Nikola.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="shortcodes"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id64"&gt;Shortcodes&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;This feature is "inspired" (copied wholesale) from &lt;a class="reference external" href="https://gohugo.io/extras/shortcodes/"&gt;Hugo&lt;/a&gt; so I will
steal part of their docs too.&lt;/p&gt;
&lt;p&gt;A shortcode is a simple snippet inside a content file that Nikola will render using a predefined template or
custom code from a plugin.&lt;/p&gt;
&lt;p&gt;To use them from plugins, please see &lt;a class="reference external" href="https://getnikola.com/extending.html#shortcodes"&gt;Extending Nikola&lt;/a&gt;&lt;/p&gt;
&lt;div class="section" id="using-a-shortcode"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id65"&gt;Using a shortcode&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;In your content files, a shortcode can be called by using this form:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_1e983e4eaa7d45929d4dcf0584d624cb-1"&gt;&lt;/a&gt;{{% name parameters %}}
&lt;/pre&gt;&lt;p&gt;Shortcode parameters are space delimited. Parameters with spaces can be quoted (or backslash escaped).&lt;/p&gt;
&lt;p&gt;The first word is always the name of the shortcode. Parameters follow the name. Depending upon how the shortcode is defined, the parameters may be named, positional or both. The format for named parameters models that of HTML with the format name="value".&lt;/p&gt;
&lt;p&gt;Some shortcodes use or require closing shortcodes. Like HTML, the opening and closing shortcodes match (name only), the closing being prepended with a slash.&lt;/p&gt;
&lt;p&gt;Example of a paired shortcode (note that we don't have a highlight shortcode yet ;-):&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_d1ef5776564b40128a2b9b25e41cb6f0-1"&gt;&lt;/a&gt;{{% highlight python %}} A bunch of code here {{% /highlight %}}
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p&gt;Shortcodes and reStructuredText&lt;/p&gt;
&lt;p&gt;In reStructuredText shortcodes may fail because docutils turns URL into links and everything breaks.
For some shortcodes there are alternative docutils directives (example, you can use the media
&lt;strong&gt;directive&lt;/strong&gt; instead of the media shortcode.&lt;/p&gt;
&lt;p&gt;Also, you can use the shortcode &lt;strong&gt;role&lt;/strong&gt;:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_d83db8f300f14d1eb657051dabab9bba-1"&gt;&lt;/a&gt;:sc:`{{% shortcode here %}}`
&lt;/pre&gt;&lt;p class="last"&gt;That role passes text unaltered, so shortcodes behave correctly.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="built-in-shortcodes"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id66"&gt;Built-in shortcodes&lt;/a&gt;&lt;/h3&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;doc&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Will link to a document in the page, see &lt;a class="reference external" href="http://yongchen.org/posts/handbook/#doc"&gt;Doc role for details&lt;/a&gt;. Example:&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_03fdb94ecfc34d32ad9edabb233ca921-1"&gt;&lt;/a&gt;Take a look at {{% doc %}}my other post &lt;creating-a-theme&gt;{{% /doc %}} about theme creating.
&lt;/creating-a-theme&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/dd&gt;
&lt;dt&gt;post-list&lt;/dt&gt;
&lt;dd&gt;Will show a list of posts, see the &lt;a class="reference external" href="http://yongchen.org/posts/handbook/#post-list"&gt;Post List directive for details&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;media&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Display media embedded from a URL, for example, this will embed a youtube video:&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code text"&gt;&lt;a name="rest_code_53138ab002ce4c0bba24322726b84c49-1"&gt;&lt;/a&gt;{{% media url="https://www.youtube.com/watch?v=Nck6BZga7TQ" %}}
&lt;/pre&gt;&lt;/div&gt;&lt;/dd&gt;
&lt;dt&gt;chart&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Create charts via PyGal. This is similar to the &lt;a class="reference external" href="http://yongchen.org/posts/handbook/#chart"&gt;chart directive&lt;/a&gt; except the syntax is adapted to
shortcodes. This is an example:&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code text"&gt;&lt;a name="rest_code_70e462aefbaa4b588c6d5022dd2ef47b-1"&gt;&lt;/a&gt;{{% chart Bar title='Browser usage evolution (in %)' %}}
        x_labels='["2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012"]'%}}
        'Firefox', [None, None, 0, 16.6, 25, 31]
        'Chrome',  [None, None, None, None, None, None]
        'IE',      [85.8, 84.6, 84.7, 74.5, 66, 58.6]
        'Others',  [14.2, 15.4, 15.3, 8.9, 9, 10.4]
        {{% /chart %}}
&lt;/pre&gt;&lt;/div&gt;&lt;/dd&gt;
&lt;dt&gt;emoji&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Insert an emoji. For example:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_5c349c4ec08f4cc0addcc296a9e3e983-1"&gt;&lt;/a&gt;{{% emoji crying_face %}}
&lt;/pre&gt;&lt;p class="last"&gt;This generates a &lt;tt class="docutils literal"&gt;span&lt;/tt&gt; with &lt;tt class="docutils literal"&gt;emoji&lt;/tt&gt; CSS class, so you can style it with a nice font if you want.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;gist&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Show GitHub gists. If you know the gist's ID, this will show it in your site:&lt;/p&gt;
&lt;p class="last"&gt;{{% gist 2395294 %}} &lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;raw&lt;/dt&gt;
&lt;dd&gt;Passes the content along, mostly used so I can write this damn section and you can see the shortcodes instead
of them being munged into shortcode &lt;strong&gt;output&lt;/strong&gt;. I can't show an example because Inception.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="community-shortcodes"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id67"&gt;Community shortcodes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Shortcodes created by the community are available in &lt;a class="reference external" href="https://github.com/getnikola/shortcodes"&gt;the shortcodes repository on GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="template-based-shortcodes"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id68"&gt;Template-based shortcodes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you put a template in &lt;tt class="docutils literal"&gt;shortcodes/&lt;/tt&gt; called &lt;tt class="docutils literal"&gt;mycode.tmpl&lt;/tt&gt; then Nikola
will create a shortcode called &lt;tt class="docutils literal"&gt;mycode&lt;/tt&gt; you can use. Any options you pass to
the shortcode will be available as variables for that template. Non-keyword
options will be passed in a tuple variable named &lt;tt class="docutils literal"&gt;_args&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;The post in which the shortcode is being used is available as the &lt;tt class="docutils literal"&gt;post&lt;/tt&gt;
variable, so you can access the title as &lt;tt class="docutils literal"&gt;post.title&lt;/tt&gt;, and data loaded
via the &lt;tt class="docutils literal"&gt;data&lt;/tt&gt; field in the metadata using &lt;tt class="docutils literal"&gt;post.data(key)&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;If you use the shortcode as paired, then the contents between the paired tags
will be available in the &lt;tt class="docutils literal"&gt;data&lt;/tt&gt; variable. If you want to access the Nikola
object, it will be available as &lt;tt class="docutils literal"&gt;site&lt;/tt&gt;. Use with care :-)&lt;/p&gt;
&lt;p&gt;See &lt;a class="reference external" href="http://yongchen.org/posts/extending/"&gt;Extending Nikola&lt;/a&gt; for detailed information.&lt;/p&gt;
&lt;p&gt;For example, if your &lt;tt class="docutils literal"&gt;shortcodes/foo.tmpl&lt;/tt&gt; contains this:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_897b62744eec4de2adfb2a40ebca44eb-1"&gt;&lt;/a&gt;This uses the bar variable: ${bar}
&lt;/pre&gt;&lt;p&gt;And your post contains this:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_5292dd681af34224b10fb5c39eae1aca-1"&gt;&lt;/a&gt;{{% foo bar=bla %}}
&lt;/pre&gt;&lt;p&gt;Then the output file will contain:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_f148da4892454ce99c5b96445c5d72ad-1"&gt;&lt;/a&gt;This uses the bar variable: bla
&lt;/pre&gt;&lt;p&gt;Finally, you can use a template shortcode without a file, by inserting the
template in the shortcode itself:&lt;/p&gt;
&lt;pre class="code html+mako"&gt;&lt;a name="rest_code_2be8bd77ddcd4a008f345608cc4604f4-1"&gt;&lt;/a&gt;{{% template %}}
&lt;a name="rest_code_2be8bd77ddcd4a008f345608cc4604f4-2"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2be8bd77ddcd4a008f345608cc4604f4-3"&gt;&lt;/a&gt;&lt;span class="cp"&gt;%&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;foo&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a name="rest_code_2be8bd77ddcd4a008f345608cc4604f4-4"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;li&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2be8bd77ddcd4a008f345608cc4604f4-5"&gt;&lt;/a&gt;&lt;span class="cp"&gt;%&lt;/span&gt;&lt;span class="k"&gt; endfor&lt;/span&gt;
&lt;a name="rest_code_2be8bd77ddcd4a008f345608cc4604f4-6"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;ul&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2be8bd77ddcd4a008f345608cc4604f4-7"&gt;&lt;/a&gt;{{% /template %}}
&lt;/pre&gt;&lt;p&gt;In that case, the template engine used will be your theme's and the arguments you pass,
as well as the global context from your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;, are available to the template you
are creating.&lt;/p&gt;
&lt;p&gt;You can use anything defined in your confguration's &lt;tt class="docutils literal"&gt;GLOBAL_CONTEXT&lt;/tt&gt; as
variables in your shortcode template, with a caveat: Because of an unfortunate
implementation detail (a name conflict), &lt;tt class="docutils literal"&gt;data&lt;/tt&gt; is called &lt;tt class="docutils literal"&gt;global_data&lt;/tt&gt;
when used in a shortcode.&lt;/p&gt;
&lt;p&gt;If you have some template code that you want to appear in both a template and
shortcode, you can put the shared code in a separate template and import it in both
places. Shortcodes can import any template inside &lt;tt class="docutils literal"&gt;templates/&lt;/tt&gt; and themes,
and call any macros defined in those.&lt;/p&gt;
&lt;p&gt;For example, if you define a macro &lt;tt class="docutils literal"&gt;foo(x, y)&lt;/tt&gt; in
&lt;tt class="docutils literal"&gt;templates/shared_sc.tmpl&lt;/tt&gt;, you can include &lt;tt class="docutils literal"&gt;shared_foo.tmpl&lt;/tt&gt; in
&lt;tt class="docutils literal"&gt;templates/special_post.tmpl&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;shortcodes/foo.tmpl&lt;/tt&gt; and then call the
&lt;tt class="docutils literal"&gt;${shared_foo.foo(x, y)}&lt;/tt&gt; macro.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="the-global-context-and-data-files"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id69"&gt;The Global Context and Data files&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There is a &lt;tt class="docutils literal"&gt;GLOBAL_CONTEXT&lt;/tt&gt; field in your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; where you can
put things you want to make available to your templates.&lt;/p&gt;
&lt;p&gt;It will also contain things you put in a &lt;tt class="docutils literal"&gt;data/&lt;/tt&gt; directory within your
site. You can use JSON, YAML or TOML files (with the appropriate file
extensions: json/js, yaml/yml, toml/tml) that decode to Python dictionaries.
For example, if you create &lt;tt class="docutils literal"&gt;data/foo.json&lt;/tt&gt; containing this:&lt;/p&gt;
&lt;pre class="code json"&gt;&lt;a name="rest_code_06100ef154c74862b5f7727751ab7065-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nt"&gt;"bar"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"baz"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Then your templates can use things like &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;${data['foo']['bar']}&lt;/span&gt;&lt;/tt&gt; and
it will be replaced by "baz".&lt;/p&gt;
&lt;p&gt;Individual posts can also have a data file. Those are specified using the
&lt;tt class="docutils literal"&gt;data&lt;/tt&gt; meta field (path relative to &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;, can be different in
different post languages). Those are accessible as eg.
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;${post.data['bar']}&lt;/span&gt;&lt;/tt&gt; in templates. &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#template-based-shortcodes"&gt;Template-based shortcodes&lt;/a&gt; are a
good idea in this case.&lt;/p&gt;
&lt;p&gt;Data files can be useful for eg. auto-generated sites, where users provide
JSON/YAML/TOML files and Nikola generates a large page with data from all data
files. (This is especially useful with some automatic rebuild feature, like
those documented in &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#deployment"&gt;Deployment&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Data files are also available as &lt;tt class="docutils literal"&gt;global_data&lt;/tt&gt;, to avoid name conflicts in
shortcodes. (&lt;tt class="docutils literal"&gt;global_data&lt;/tt&gt; works everywhere.)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="redirections"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id70"&gt;Redirections&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you need a page to be available in more than one place, you can define redirections
in your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# A list of redirection tuples, [("foo/from.html", "/bar/to.html")].&lt;/span&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# A HTML file will be created in output/foo/from.html that redirects&lt;/span&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# to the "/bar/to.html" URL. notice that the "from" side MUST be a&lt;/span&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# relative URL.&lt;/span&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-6"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# If you don't need any of these, just set to []&lt;/span&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_c5e6db2648a84af9a0432ddca1f3d882-9"&gt;&lt;/a&gt;&lt;span class="n"&gt;REDIRECTIONS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="s2"&gt;"index.html"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"/weblog/index.html"&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;It's better if you can do these using your web server's configuration, but if
you can't, this will work.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="configuration"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id71"&gt;Configuration&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;The configuration file is called &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; and can be used to customize a lot of
what Nikola does. Its syntax is python, but if you don't know the language, it
still should not be terribly hard to grasp.&lt;/p&gt;
&lt;p&gt;The default &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; you get with Nikola should be fairly complete, and is quite
commented.&lt;/p&gt;
&lt;p&gt;You surely want to edit these options:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_3426244309ac40bb9ef1604641a8082d-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Data about this site&lt;/span&gt;
&lt;a name="rest_code_3426244309ac40bb9ef1604641a8082d-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;BLOG_AUTHOR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"Your Name"&lt;/span&gt;  &lt;span class="c1"&gt;# (translatable)&lt;/span&gt;
&lt;a name="rest_code_3426244309ac40bb9ef1604641a8082d-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;BLOG_TITLE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"Demo Site"&lt;/span&gt;  &lt;span class="c1"&gt;# (translatable)&lt;/span&gt;
&lt;a name="rest_code_3426244309ac40bb9ef1604641a8082d-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;SITE_URL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"https://getnikola.com/"&lt;/span&gt;
&lt;a name="rest_code_3426244309ac40bb9ef1604641a8082d-5"&gt;&lt;/a&gt;&lt;span class="n"&gt;BLOG_EMAIL&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"joe@demo.site"&lt;/span&gt;
&lt;a name="rest_code_3426244309ac40bb9ef1604641a8082d-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;BLOG_DESCRIPTION&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"This is a demo site for Nikola."&lt;/span&gt;  &lt;span class="c1"&gt;# (translatable)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Some options are marked with a (translatable) comment above or right next to
them.  For those options, two types of values can be provided:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;a string, which will be used for all languages&lt;/li&gt;
&lt;li&gt;a dict of language-value pairs, to have different values in each language&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;It is possible to load the configuration from another file by specifying
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--conf=path/to/other.file&lt;/span&gt;&lt;/tt&gt; on Nikola's command line. For example, to
build your blog using the configuration file &lt;tt class="docutils literal"&gt;configurations/test.conf.py&lt;/tt&gt;,
you have to execute &lt;tt class="docutils literal"&gt;nikola build &lt;span class="pre"&gt;--conf=configurations/test.conf.py&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="customizing-your-site"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id72"&gt;Customizing Your Site&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There are lots of things you can do to personalize your website, but let's see
the easy ones!&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;CSS tweaking&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Using the default configuration, you can create a &lt;tt class="docutils literal"&gt;assets/css/custom.css&lt;/tt&gt;
file under &lt;tt class="docutils literal"&gt;files/&lt;/tt&gt; or in your theme and then it will be loaded from the
&lt;tt class="docutils literal"&gt;&amp;lt;head&amp;gt;&lt;/tt&gt; blocks of your site pages.  Create it and put your CSS code there,
for minimal disruption of the provided CSS files.&lt;/p&gt;
&lt;p&gt;If you feel tempted to touch other files in assets, you probably will be better off
with a &lt;a class="reference external" href="http://yongchen.org/posts/handbook/theming.html"&gt;custom theme&lt;/a&gt;.&lt;/p&gt;
&lt;p class="last"&gt;If you want to use &lt;a class="reference external" href="http://lesscss.org/"&gt;LESS&lt;/a&gt; or &lt;a class="reference external" href="http://sass-lang.com/"&gt;Sass&lt;/a&gt; for your custom CSS, or the theme you use
contains LESS or Sass code that you want to override, you will need to install
the &lt;a class="reference external" href="https://plugins.getnikola.com/#less"&gt;LESS plugin&lt;/a&gt; or
&lt;a class="reference external" href="https://plugins.getnikola.com/#sass"&gt;SASS plugin&lt;/a&gt; create a &lt;tt class="docutils literal"&gt;less&lt;/tt&gt; or
&lt;tt class="docutils literal"&gt;sass&lt;/tt&gt; directory in your site root, put your &lt;tt class="docutils literal"&gt;.less&lt;/tt&gt; or &lt;tt class="docutils literal"&gt;.scss&lt;/tt&gt; files
there and a targets file containing the list of files you want compiled.&lt;/p&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;Template tweaking and creating themes&lt;/dt&gt;
&lt;dd&gt;If you really want to change the pages radically, you will want to do a
&lt;a class="reference external" href="http://yongchen.org/posts/handbook/theming.html"&gt;custom theme&lt;/a&gt;.&lt;/dd&gt;
&lt;dt&gt;Navigation Links&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;The &lt;tt class="docutils literal"&gt;NAVIGATION_LINKS&lt;/tt&gt; option lets you define what links go in a sidebar or menu
(depending on your theme) so you can link to important pages, or to other sites.&lt;/p&gt;
&lt;p&gt;The format is a language-indexed dictionary, where each element is a tuple of
tuples which are one of:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;A (url, text) tuple, describing a link&lt;/li&gt;
&lt;li&gt;A (((url, text), (url, text), (url, text)), title) tuple, describing a submenu / sublist.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Example:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;NAVIGATION_LINKS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-2"&gt;&lt;/a&gt;    &lt;span class="n"&gt;DEFAULT_LANG&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-3"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/archive.html'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Archives'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-4"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/categories/index.html'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Tags'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-5"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/rss.xml'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'RSS'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-6"&gt;&lt;/a&gt;        &lt;span class="p"&gt;(((&lt;/span&gt;&lt;span class="s1"&gt;'/foo'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'FOO'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-7"&gt;&lt;/a&gt;          &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/bar'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'BAR'&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="s1"&gt;'BAZ'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-8"&gt;&lt;/a&gt;    &lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_1f232fe5eaf0425c82b4a75318461078-9"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;ol class="last arabic simple"&gt;
&lt;li&gt;Support for submenus is theme-dependent.  Only one level of
submenus is supported.&lt;/li&gt;
&lt;li&gt;Some themes, including the default Bootstrap 3 theme, may
present issues if the menu is too large.  (in &lt;tt class="docutils literal"&gt;bootstrap3&lt;/tt&gt;, the
navbar can grow too large and cover contents.)&lt;/li&gt;
&lt;li&gt;If you link to directories, make sure to follow &lt;tt class="docutils literal"&gt;STRIP_INDEXES&lt;/tt&gt;.  If
itâs set to &lt;tt class="docutils literal"&gt;True&lt;/tt&gt;, end your links with a &lt;tt class="docutils literal"&gt;/&lt;/tt&gt;, otherwise end them
with &lt;tt class="docutils literal"&gt;/index.html&lt;/tt&gt; â or else they wonât be highlighted when active.&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p class="last"&gt;The &lt;tt class="docutils literal"&gt;SEARCH_FORM&lt;/tt&gt; option contains the HTML code for a search form based on
duckduckgo.com which should always work, but feel free to change it to
something else.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;Footer&lt;/dt&gt;
&lt;dd&gt;&lt;tt class="docutils literal"&gt;CONTENT_FOOTER&lt;/tt&gt; is displayed, small at the bottom of all pages, I use it for
the copyright notice. The default shows a text formed using &lt;tt class="docutils literal"&gt;BLOG_AUTHOR&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;BLOG_EMAIL&lt;/tt&gt;, the date and &lt;tt class="docutils literal"&gt;LICENSE&lt;/tt&gt;.  Note you need to use
&lt;tt class="docutils literal"&gt;CONTENT_FOOTER_FORMATS&lt;/tt&gt; instead of regular str.format or %-formatting,
for compatibility with the translatable settings feature.&lt;/dd&gt;
&lt;dt&gt;BODY_END&lt;/dt&gt;
&lt;dd&gt;This option lets you define a HTML snippet that will be added at the bottom of body.
The main usage is a Google analytics snippet or something similar, but you can really
put anything there. Good place for JavaScript.&lt;/dd&gt;
&lt;dt&gt;SOCIAL_BUTTONS_CODE&lt;/dt&gt;
&lt;dd&gt;The &lt;tt class="docutils literal"&gt;SOCIAL_BUTTONS_CODE&lt;/tt&gt; option lets you define a HTML snippet that will be added
at the bottom of body. It defaults to a snippet for AddThis, but you can
really put anything there. See &lt;cite&gt;social_buttons.html&lt;/cite&gt; for more details.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/div&gt;
&lt;div class="section" id="fancy-dates"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id73"&gt;Fancy Dates&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola can use various styles for presenting dates.&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;DATE_FORMAT&lt;/dt&gt;
&lt;dd&gt;The date format to use if there is no JS or fancy dates are off.  Compatible with Pythonâs &lt;tt class="docutils literal"&gt;strftime()&lt;/tt&gt; syntax.&lt;/dd&gt;
&lt;dt&gt;JS_DATE_FORMAT&lt;/dt&gt;
&lt;dd&gt;The date format to use if fancy dates are on.  Compatible with &lt;tt class="docutils literal"&gt;moment.js&lt;/tt&gt; syntax.&lt;/dd&gt;
&lt;dt&gt;DATE_FANCINESS = 0&lt;/dt&gt;
&lt;dd&gt;Fancy dates are off, and DATE_FORMAT is used.&lt;/dd&gt;
&lt;dt&gt;DATE_FANCINESS = 1&lt;/dt&gt;
&lt;dd&gt;Dates are recalculated in userâs timezone.  Requires JavaScript.&lt;/dd&gt;
&lt;dt&gt;DATE_FANCINESS = 2&lt;/dt&gt;
&lt;dd&gt;Dates are recalculated as relative time (eg. 2 days ago).  Requires JavaScript.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;In order to use fancy dates, your theme must support them.  The built-in Bootstrap family supports it, but other themes might not by default.&lt;/p&gt;
&lt;p&gt;For Mako:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-1"&gt;&lt;/a&gt;&lt;span class="c"&gt;&amp;lt;!-- required scripts -- best handled with bundles --&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-2"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"/assets/js/moment-with-locales.min.js"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"/assets/js/fancydates.js"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-5"&gt;&lt;/a&gt;&lt;span class="c"&gt;&amp;lt;!-- fancy dates code --&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-6"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-7"&gt;&lt;/a&gt;&lt;span class="nx"&gt;moment&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;locale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"${momentjs_locales[lang]}"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-8"&gt;&lt;/a&gt;&lt;span class="nx"&gt;fancydates&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;date_fanciness&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt; &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;js_date_format&lt;/span&gt;&lt;span class="p"&gt;});&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-9"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_b8221b12162544029bdbbdd05be69559-10"&gt;&lt;/a&gt;&lt;span class="c"&gt;&amp;lt;!-- end fancy dates code --&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;For Jinja2:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-1"&gt;&lt;/a&gt;&lt;span class="c"&gt;&amp;lt;!-- required scripts -- best handled with bundles --&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-2"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"/assets/js/moment-with-locales.min.js"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"/assets/js/fancydates.js"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-5"&gt;&lt;/a&gt;&lt;span class="c"&gt;&amp;lt;!-- fancy dates code --&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-6"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-7"&gt;&lt;/a&gt;&lt;span class="nx"&gt;moment&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;locale&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"{{ momentjs_locales[lang] }}"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-8"&gt;&lt;/a&gt;&lt;span class="nx"&gt;fancydates&lt;/span&gt;&lt;span class="p"&gt;({{&lt;/span&gt; &lt;span class="nx"&gt;date_fanciness&lt;/span&gt; &lt;span class="p"&gt;}},&lt;/span&gt; &lt;span class="p"&gt;{{&lt;/span&gt; &lt;span class="nx"&gt;js_date_format&lt;/span&gt; &lt;span class="p"&gt;}});&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-9"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;script&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_389d9447da3846e9b8a7d5f0021272ba-10"&gt;&lt;/a&gt;&lt;span class="c"&gt;&amp;lt;!-- end fancy dates code --&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="adding-files"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id74"&gt;Adding Files&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Any files you want to be in &lt;tt class="docutils literal"&gt;output/&lt;/tt&gt; but are not generated by Nikola (for example,
&lt;tt class="docutils literal"&gt;favicon.ico&lt;/tt&gt;) just put it in &lt;tt class="docutils literal"&gt;files/&lt;/tt&gt;. Everything there is copied into
&lt;tt class="docutils literal"&gt;output&lt;/tt&gt; by the &lt;tt class="docutils literal"&gt;copy_files&lt;/tt&gt; task. Remember that you can't have files that collide
with files Nikola generates (it will give an error).&lt;/p&gt;
&lt;div class="admonition admonition-important"&gt;
&lt;p class="first admonition-title"&gt;Important&lt;/p&gt;
&lt;p class="last"&gt;Don't put any files manually in &lt;tt class="docutils literal"&gt;output/&lt;/tt&gt;. Ever. Really.
Maybe someday Nikola will just wipe &lt;tt class="docutils literal"&gt;output/&lt;/tt&gt; (when you run &lt;tt class="docutils literal"&gt;nikola check &lt;span class="pre"&gt;-f&lt;/span&gt; &lt;span class="pre"&gt;--clean-files&lt;/span&gt;&lt;/tt&gt;) and then you will be sorry. So, please don't do that.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;If you want to copy more than one folder of static files into &lt;tt class="docutils literal"&gt;output&lt;/tt&gt; you can
change the FILES_FOLDERS option:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_3fb8b6fd2fb644b482dc3c5d80d66834-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# One or more folders containing files to be copied as-is into the output.&lt;/span&gt;
&lt;a name="rest_code_3fb8b6fd2fb644b482dc3c5d80d66834-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# The format is a dictionary of "source" "relative destination".&lt;/span&gt;
&lt;a name="rest_code_3fb8b6fd2fb644b482dc3c5d80d66834-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Default is:&lt;/span&gt;
&lt;a name="rest_code_3fb8b6fd2fb644b482dc3c5d80d66834-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# FILES_FOLDERS = {'files': '' }&lt;/span&gt;
&lt;a name="rest_code_3fb8b6fd2fb644b482dc3c5d80d66834-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Which means copy 'files' into 'output'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="custom-themes"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id75"&gt;Custom Themes&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you prefer to have a custom appearance for your site, and modifying CSS
files and settings (see &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#customizing-your-site"&gt;Customizing Your Site&lt;/a&gt; for details) is not enough,
you can create your own theme. See the &lt;a href="http://yongchen.org/posts/handbook/#id2"&gt;&lt;span class="problematic" id="id3"&gt;:doc:`theming`&lt;/span&gt;&lt;/a&gt; and
&lt;a href="http://yongchen.org/posts/handbook/#id4"&gt;&lt;span class="problematic" id="id5"&gt;:doc:`creating-a-theme`&lt;/span&gt;&lt;/a&gt; for more details. You can put them in a &lt;tt class="docutils literal"&gt;themes/&lt;/tt&gt;
folder and set &lt;tt class="docutils literal"&gt;THEME&lt;/tt&gt; to the directory name.  You can also put them in
directories listed in the &lt;tt class="docutils literal"&gt;EXTRA_THEMES_DIRS&lt;/tt&gt; configuration variable.&lt;/p&gt;
&lt;div class="system-message" id="id2"&gt;
&lt;p class="system-message-title"&gt;System Message: ERROR/3 (&lt;tt class="docutils"&gt;&amp;lt;string&amp;gt;&lt;/tt&gt;, line 1555); &lt;em&gt;&lt;a href="http://yongchen.org/posts/handbook/#id3"&gt;backlink&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
"theming" slug doesn't exist.&lt;/div&gt;
&lt;div class="system-message" id="id4"&gt;
&lt;p class="system-message-title"&gt;System Message: ERROR/3 (&lt;tt class="docutils"&gt;&amp;lt;string&amp;gt;&lt;/tt&gt;, line 1555); &lt;em&gt;&lt;a href="http://yongchen.org/posts/handbook/#id5"&gt;backlink&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
"creating-a-theme" slug doesn't exist.&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="getting-extra-themes"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id76"&gt;Getting Extra Themes&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;There are a few themes for Nikola. They are available at
the &lt;a class="reference external" href="https://themes.getnikola.com/"&gt;Themes Index&lt;/a&gt;.
Nikola has a built-in theme download/install mechanism to install those themes
â the &lt;tt class="docutils literal"&gt;theme&lt;/tt&gt; command:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola theme -l
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;Themes:&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;-------&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;blogtxt&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;bootstrap3-gradients&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;â®&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;â®&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-9"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola theme -i blogtxt
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:46:13Z] NOTICE: theme: Downloading:&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;https://themes.getnikola.com/v6/blogtxt.zip&lt;/span&gt;
&lt;a name="rest_code_c850a51247134d6f990a29383fd992b5-12"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:46:15Z] NOTICE: theme: Extracting: blogtxt into themes&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;And there you are, you now have themes/blogtxt installed. It's very
rudimentary, but it should work in most cases.&lt;/p&gt;
&lt;p&gt;If you create a nice theme, please share it!  You can do it as a pull
request in the  &lt;a class="reference external" href="https://github.com/getnikola/nikola-themes"&gt;GitHub repository&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;One other option is to tweak an existing theme using a different color scheme,
typography and CSS in general. Nikola provides a &lt;tt class="docutils literal"&gt;bootswatch_theme&lt;/tt&gt; option
to create a custom theme by downloading free CSS files from &lt;a class="reference external" href="http://bootswatch.com"&gt;http://bootswatch.com&lt;/a&gt;:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola bootswatch_theme -n custom_theme -s flatly -p bootstrap3
&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:46:58Z] NOTICE: bootswatch_theme: Creating 'custom_theme' theme&lt;/span&gt;
&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;from 'flatly' and 'bootstrap3'&lt;/span&gt;
&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:46:58Z] NOTICE: bootswatch_theme: Downloading:&lt;/span&gt;
&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;http://bootswatch.com//flatly/bootstrap.min.css&lt;/span&gt;
&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:46:58Z] NOTICE: bootswatch_theme: Downloading:&lt;/span&gt;
&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;http://bootswatch.com//flatly/bootstrap.css&lt;/span&gt;
&lt;a name="rest_code_a6339a23a5b545ef8073db3e56878abd-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:46:59Z] NOTICE: bootswatch_theme: Theme created. Change the THEME setting to "custom_theme" to use it.&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;You can even try what different swatches do on an existing site using
their handy &lt;a class="reference external" href="http://news.bootswatch.com/post/29555952123/a-bookmarklet-for-bootswatch"&gt;bootswatchlet&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Play with it, there's cool stuff there. This feature was suggested by
&lt;a class="reference external" href="http://elgalpondebanquito.com.ar"&gt;clodo&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="deployment"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id77"&gt;Deployment&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you can specify your deployment procedure as a series of commands, you can
put them in the &lt;tt class="docutils literal"&gt;DEPLOY_COMMANDS&lt;/tt&gt; option, and run them with &lt;tt class="docutils literal"&gt;nikola deploy&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;You can have multiple deployment presets.  If you run &lt;tt class="docutils literal"&gt;nikola deploy&lt;/tt&gt;, the
&lt;tt class="docutils literal"&gt;default&lt;/tt&gt; preset is executed.  You can also specify the names of presets
you want to run (eg. &lt;tt class="docutils literal"&gt;nikola deploy default&lt;/tt&gt;, multiple presets are allowed).&lt;/p&gt;
&lt;p&gt;One caveat is that if any command has a % in it, you should double them.&lt;/p&gt;
&lt;p&gt;Here is an example, from my own site's deployment script:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_9eaa7fdf5ac24c2eb91ea146a18a106e-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;DEPLOY_COMMANDS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'default'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;
&lt;a name="rest_code_9eaa7fdf5ac24c2eb91ea146a18a106e-2"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'rsync -rav --delete output/ ralsina@lateral.netmanagers.com.ar:/srv/www/lateral'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_9eaa7fdf5ac24c2eb91ea146a18a106e-3"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'rdiff-backup output ~/blog-backup'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_9eaa7fdf5ac24c2eb91ea146a18a106e-4"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"links -dump 'http://www.twingly.com/ping2?url=lateral.netmanagers.com.ar'"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_9eaa7fdf5ac24c2eb91ea146a18a106e-5"&gt;&lt;/a&gt;&lt;span class="p"&gt;]}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Other interesting ideas are using
&lt;a class="reference external" href="http://toroid.org/ams/git-website-howto"&gt;git as a deployment mechanism&lt;/a&gt; (or any other VCS
for that matter), using &lt;a class="reference external" href="http://lftp.yar.ru/"&gt;lftp mirror&lt;/a&gt; or unison, or Dropbox.
Any way you can think of to copy files from one place to another is good enough.&lt;/p&gt;
&lt;div class="section" id="deploying-to-github"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id78"&gt;Deploying to GitHub&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Nikola provides a separate command &lt;tt class="docutils literal"&gt;github_deploy&lt;/tt&gt; to deploy your site to
GitHub Pages.  The command builds the site, commits the output to a gh-pages
branch and pushes the output to GitHub.  Nikola uses the &lt;a class="reference external" href="https://github.com/davisp/ghp-import"&gt;ghp-import command&lt;/a&gt; for this.&lt;/p&gt;
&lt;p&gt;In order to use this feature, you need to configure a few things first.  Make
sure you have &lt;tt class="docutils literal"&gt;nikola&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;git&lt;/tt&gt; installed on your PATH.&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;Initialize a Nikola site, if you havenât already.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Initialize a git repository in your Nikola source directory by running:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_9c9e2d9378a4453a928f7b213ab122b0-1"&gt;&lt;/a&gt;git init .
&lt;a name="rest_code_9c9e2d9378a4453a928f7b213ab122b0-2"&gt;&lt;/a&gt;git remote add origin git@github.com:user/repository.git
&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Setup branches and remotes in &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;GITHUB_DEPLOY_BRANCH&lt;/tt&gt; is the branch where Nikola-generated HTML files
will be deployed. It should be &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;gh-pages&lt;/span&gt;&lt;/tt&gt; for project pages and
&lt;tt class="docutils literal"&gt;master&lt;/tt&gt; for user pages (user.github.io).&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;GITHUB_SOURCE_BRANCH&lt;/tt&gt; is the branch where your Nikola site source will be
deployed. We recommend and default to &lt;tt class="docutils literal"&gt;src&lt;/tt&gt;.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;GITHUB_REMOTE_NAME&lt;/tt&gt; is the remote to which changes are pushed.&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;GITHUB_COMMIT_SOURCE&lt;/tt&gt; controls whether or not the source branch is
automatically committed to and pushed. We recommend setting it to
&lt;tt class="docutils literal"&gt;True&lt;/tt&gt;, unless you are automating builds with Travis CI.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Create a &lt;tt class="docutils literal"&gt;.gitignore&lt;/tt&gt; file. We recommend adding at least the following entries:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_89a5ac31de3c43db91c4605c21763dc1-1"&gt;&lt;/a&gt;cache
&lt;a name="rest_code_89a5ac31de3c43db91c4605c21763dc1-2"&gt;&lt;/a&gt;.doit.db
&lt;a name="rest_code_89a5ac31de3c43db91c4605c21763dc1-3"&gt;&lt;/a&gt;__pycache__
&lt;a name="rest_code_89a5ac31de3c43db91c4605c21763dc1-4"&gt;&lt;/a&gt;output
&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;If you set &lt;tt class="docutils literal"&gt;GITHUB_COMMIT_SOURCE&lt;/tt&gt; to False, you must switch to your source
branch and commit to it.  Otherwise, this is done for you.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Run &lt;tt class="docutils literal"&gt;nikola github_deploy&lt;/tt&gt;.  This will build the site, commit the output
folder to your deploy branch, and push to GitHub.  Your website should be up
and running within a few minutes.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you want to use a custom domain, create your &lt;tt class="docutils literal"&gt;CNAME&lt;/tt&gt; file in
&lt;tt class="docutils literal"&gt;files/CNAME&lt;/tt&gt; on the source branch. Nikola will copy it to the
output directory. To add a custom commit message, use the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-m&lt;/span&gt;&lt;/tt&gt; option,
followed by your message.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="automated-rebuilds-with-travis-ci"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id79"&gt;Automated rebuilds with Travis CI&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;If you want automated rebuilds and GitHub Pages deployment, allowing you to
blog from anywhere in the world, follow this guide:
&lt;a class="reference external" href="https://getnikola.com/blog/automating-nikola-rebuilds-with-travis-ci.html"&gt;Automating Nikola rebuilds with Travis CI&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="automated-rebuilds-with-gitlab"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id80"&gt;Automated rebuilds with GitLab&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;GitLab also offers rebuild automation if you want to use Nikola with GitLab
Pages. Check out the example &lt;a class="reference external" href="https://gitlab.com/pages/nikola"&gt;Nikola site on GitLab&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="comments-and-annotations"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id81"&gt;Comments and Annotations&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;While Nikola creates static sites, there is a minimum level of user interaction you
are probably expecting: comments.&lt;/p&gt;
&lt;p&gt;Nikola supports several third party comment systems:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://disqus.com"&gt;DISQUS&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.intensedebate.com/"&gt;IntenseDebate&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.livefyre.com/"&gt;LiveFyre&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://moot.it"&gt;Moot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://plus.google.com"&gt;Google+&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://facebook.com/"&gt;Facebook&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://posativ.org/isso/"&gt;isso&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;By default it will use DISQUS, but you can change by setting &lt;tt class="docutils literal"&gt;COMMENT_SYSTEM&lt;/tt&gt;
to one of "disqus", "intensedebate", "livefyre", "moot", "googleplus",
"facebook" or "isso"&lt;/p&gt;
&lt;div class="sidebar"&gt;
&lt;p class="first sidebar-title"&gt;&lt;tt class="docutils literal"&gt;COMMENT_SYSTEM_ID&lt;/tt&gt;&lt;/p&gt;
&lt;p&gt;The value of &lt;tt class="docutils literal"&gt;COMMENT_SYSTEM_ID&lt;/tt&gt; depends on what comment system you
are using and you can see it in the system's admin interface.&lt;/p&gt;
&lt;ul class="last simple"&gt;
&lt;li&gt;For DISQUS it's called the &lt;strong&gt;shortname&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;In IntenseDebate it's the &lt;strong&gt;IntenseDebate site acct&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;In LiveFyre it's the &lt;strong&gt;siteId&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;In Moot it's your &lt;strong&gt;username&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;For Google Plus, &lt;tt class="docutils literal"&gt;COMMENT_SYSTEM_ID&lt;/tt&gt; need not be set. WARNING: this will not work correctly in the test server, needs to be deployed to a real server/URL.&lt;/li&gt;
&lt;li&gt;For Facebook, you need to &lt;a class="reference external" href="https://developers.facebook.com/apps"&gt;create an app&lt;/a&gt; (turn off sandbox mode!)
and get an &lt;strong&gt;App ID&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;For isso, it is the URL of isso (must be world-accessible, encoded with
Punycode (if using Internationalized Domain Names) and &lt;strong&gt;have a trailing slash&lt;/strong&gt;,
default &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;http://localhost:8080/&lt;/span&gt;&lt;/tt&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;p&gt;To use comments in a visible site, you should register with the service and
then set the &lt;tt class="docutils literal"&gt;COMMENT_SYSTEM_ID&lt;/tt&gt; option.&lt;/p&gt;
&lt;p&gt;I recommend 3rd party comments, and specially DISQUS because:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;It doesn't require any server-side software on your site&lt;/li&gt;
&lt;li&gt;They offer you a way to export your comments, so you can take
them with you if you need to.&lt;/li&gt;
&lt;li&gt;It's free.&lt;/li&gt;
&lt;li&gt;It's damn nice.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;You can disable comments for a post by adding a "nocomments" metadata field to it:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_99d4ca7847d448c5b54a2c2de9eb300f-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. nocomments: True&lt;/span&gt;
&lt;/pre&gt;&lt;div class="admonition admonition-disqus-support"&gt;
&lt;p class="first admonition-title"&gt;DISQUS Support&lt;/p&gt;
&lt;p class="last"&gt;In some cases, when you run the test site, you won't see the comments.
That can be fixed by adding the disqus_developer flag to the templates
but it's probably more trouble than it's worth.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="admonition admonition-moot-support"&gt;
&lt;p class="first admonition-title"&gt;Moot Support&lt;/p&gt;
&lt;p&gt;Moot doesn't support comment counts on index pages, and it requires adding
this to your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code python"&gt;&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;BODY_END&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-2"&gt;&lt;/a&gt;&lt;span class="s2"&gt;&amp;lt;script src="//cdn.moot.it/1/moot.min.js"&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-3"&gt;&lt;/a&gt;&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;EXTRA_HEAD_DATA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-5"&gt;&lt;/a&gt;&lt;span class="s2"&gt;&amp;lt;link rel="stylesheet" type="text/css" href="//cdn.moot.it/1/moot.css"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-6"&gt;&lt;/a&gt;&lt;span class="s2"&gt;&amp;lt;meta name="viewport" content="width=device-width"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-7"&gt;&lt;/a&gt;&lt;span class="s2"&gt;&amp;lt;meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_c73f881dd94c4b35b9ae1e8fc50ca652-8"&gt;&lt;/a&gt;&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class="admonition admonition-facebook-support"&gt;
&lt;p class="first admonition-title"&gt;Facebook Support&lt;/p&gt;
&lt;p class="last"&gt;You need jQuery, but not because Facebook wants it (see Issue
#639).&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;An alternative or complement to comments are annotations. Nikola integrates
the annotation service provided by &lt;a class="reference external" href="http://annotateit.org/"&gt;AnnotateIt.&lt;/a&gt;
To use it, set the &lt;tt class="docutils literal"&gt;ANNOTATIONS&lt;/tt&gt; option to True. This is specially useful
if you want feedback on specific parts of your writing.&lt;/p&gt;
&lt;p&gt;You can enable or disable annotations for specific posts or pages using the
&lt;tt class="docutils literal"&gt;annotations&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;noannotations&lt;/tt&gt; metadata.&lt;/p&gt;
&lt;p&gt;Annotations require jQuery and are therefore not supported in the base theme.
You can check bootstrap theme's &lt;tt class="docutils literal"&gt;base.html&lt;/tt&gt; for details on how to handle them in
custom themes.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="images-and-galleries"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id82"&gt;Images and Galleries&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;To create an image gallery, all you have to do is add a folder inside &lt;tt class="docutils literal"&gt;galleries&lt;/tt&gt;,
and put images there. Nikola will take care of creating thumbnails, index page, etc.&lt;/p&gt;
&lt;p&gt;If you click on images on a gallery, or on images with links in post, you will
see a bigger image, thanks to the excellent &lt;a class="reference external" href="http://www.jacklmoore.com/colorbox"&gt;colorbox&lt;/a&gt;.  If donât want this behavior, add an
&lt;tt class="docutils literal"&gt;.islink&lt;/tt&gt; class to your image or link. (The behavior is caused by
&lt;tt class="docutils literal"&gt;&amp;lt;a &lt;span class="pre"&gt;class="image-reference"&amp;gt;&lt;/span&gt;&lt;/tt&gt; if you need to use it outside of galleries and reST
thumbnails.)&lt;/p&gt;
&lt;p&gt;The gallery pages are generated using the &lt;tt class="docutils literal"&gt;gallery.tmpl&lt;/tt&gt; template, and you can
customize it there (you could switch to another lightbox instead of colorbox, change
its settings, change the layout, etc.).&lt;/p&gt;
&lt;p&gt;Images to be used in normal posts can be placed in the &lt;tt class="docutils literal"&gt;images&lt;/tt&gt; folder. These
images will be processed and have thumbnails created just as for galleries, but will
then be copied directly to the corresponding path in the &lt;tt class="docutils literal"&gt;output&lt;/tt&gt; directory, so you
can reference it from whatever page you like, most easily using the &lt;tt class="docutils literal"&gt;thumbnail&lt;/tt&gt;
reST extension. If you don't want thumbnails, just use the &lt;tt class="docutils literal"&gt;files&lt;/tt&gt; folder instead.&lt;/p&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt; options affecting images and gallery pages are these:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# One or more folders containing galleries. The format is a dictionary of&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# {"source": "relative_destination"}, where galleries are looked for in&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# "source/" and the results will be located in&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# "OUTPUT_PATH/relative_destination/gallery_name"&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-5"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Default is:&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-6"&gt;&lt;/a&gt;&lt;span class="n"&gt;GALLERY_FOLDERS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s2"&gt;"galleries"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"galleries"&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-7"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# More gallery options:&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-8"&gt;&lt;/a&gt;&lt;span class="n"&gt;THUMBNAIL_SIZE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;180&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-9"&gt;&lt;/a&gt;&lt;span class="n"&gt;MAX_IMAGE_SIZE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1280&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-10"&gt;&lt;/a&gt;&lt;span class="n"&gt;USE_FILENAME_AS_TITLE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-11"&gt;&lt;/a&gt;&lt;span class="n"&gt;EXTRA_IMAGE_EXTENSIONS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-12"&gt;&lt;/a&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-13"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# If set to False, it will sort by filename instead. Defaults to True&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-14"&gt;&lt;/a&gt;&lt;span class="n"&gt;GALLERY_SORT_BY_DATE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-15"&gt;&lt;/a&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-16"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Folders containing images to be used in normal posts or pages.&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-17"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# IMAGE_FOLDERS is a dictionary of the form {"source": "destination"},&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-18"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# where "source" is the folder containing the images to be published, and&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-19"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# "destination" is the folder under OUTPUT_PATH containing the images copied&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-20"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# to the site. Thumbnail images will be created there as well.&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-21"&gt;&lt;/a&gt;&lt;span class="n"&gt;IMAGE_FOLDERS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'images'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'images'&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-22"&gt;&lt;/a&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-23"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Images will be scaled down according to IMAGE_THUMBNAIL_SIZE and MAX_IMAGE_SIZE&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-24"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# options, but will have to be referenced manually to be visible on the site&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-25"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# (the thumbnail has ``.thumbnail`` added before the file extension by default,&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-26"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# but a different naming template can be configured with IMAGE_THUMBNAIL_FORMAT).&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-27"&gt;&lt;/a&gt;&lt;span class="n"&gt;IMAGE_THUMBNAIL_SIZE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;400&lt;/span&gt;
&lt;a name="rest_code_d2637d39e777464fa67893fb3c0a175d-28"&gt;&lt;/a&gt;&lt;span class="n"&gt;IMAGE_THUMBNAIL_FORMAT&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'{name}.thumbnail{ext}'&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;If you add a reST file in &lt;tt class="docutils literal"&gt;galleries/gallery_name/index.txt&lt;/tt&gt; its contents will be
converted to HTML and inserted above the images in the gallery page. The
format is the same as for posts.&lt;/p&gt;
&lt;p&gt;If you add some image filenames in &lt;tt class="docutils literal"&gt;galleries/gallery_name/exclude.meta&lt;/tt&gt;, they
will be excluded in the gallery page.&lt;/p&gt;
&lt;p&gt;If &lt;tt class="docutils literal"&gt;USE_FILENAME_AS_TITLE&lt;/tt&gt; is True the filename (parsed as a readable string)
is used as the photo caption. If the filename starts with a number, it will
be stripped. For example &lt;tt class="docutils literal"&gt;03_an_amazing_sunrise.jpg&lt;/tt&gt; will be render as &lt;em&gt;An amazing sunrise&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Here is a &lt;a class="reference external" href="http://yongchen.org/galleries/demo"&gt;demo gallery&lt;/a&gt; of historic, public domain Nikola
Tesla pictures taken from &lt;a class="reference external" href="http://kerryr.net/pioneers/gallery/tesla.htm"&gt;this site&lt;/a&gt;.&lt;/p&gt;
&lt;div class="section" id="embedding-images"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id83"&gt;Embedding Images&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Assuming that you have your pictures stored in a folder called &lt;tt class="docutils literal"&gt;images&lt;/tt&gt; (as configured above),
you can embed the same in your posts with the following reST directive:&lt;/p&gt;
&lt;pre class="code rest"&gt;&lt;a name="rest_code_f79bd6dedda1409687bac00f9e4b97a3-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;image&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; /images/tesla.jpg
&lt;/pre&gt;&lt;p&gt;Which is equivalent to the following HTML code:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_4fbc602d7a6d40529f6e41246c66d193-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;img&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"/images/tesla.jpg"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Please take note of the leading forward-slash &lt;tt class="docutils literal"&gt;/&lt;/tt&gt; which refers to the root
output directory. (Make sure to use this even if youâre not deploying to
web server root.)&lt;/p&gt;
&lt;p&gt;You can also use thumbnails with the &lt;tt class="docutils literal"&gt;.. thumbnail::&lt;/tt&gt; reST directive. For
more details, and equivalent HTML code, see &lt;a class="reference internal" href="http://yongchen.org/posts/handbook/#thumbnails"&gt;Thumbnails&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="handling-exif-data"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id84"&gt;Handling EXIF Data&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Your images contain a certain amount of extra data besides the image itself,
called the &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Exchangeable_image_file_format"&gt;EXIF metadata.&lt;/a&gt;
It contains information about the camera you used to take the picture, when it was taken,
and maybe even the location where it was taken.&lt;/p&gt;
&lt;p&gt;This is both useful, because you can use it in some apps to locate all the pictures taken
in a certain place, or with a certain camera, but also, since the pictures Nikola
publishes are visible to anyone on the Internet, a privacy risk worth considering
(Imagine if you post pictures taken at home with GPS info, you are publishing your
home address!)&lt;/p&gt;
&lt;p&gt;Nikola has some support for managing it, so let's go through a few scenarios to
see which one you prefer.&lt;/p&gt;
&lt;div class="section" id="strip-all-exif-data"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id85"&gt;Strip all EXIF data&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Do this if you want to be absolutely sure that no sensitive information should ever leak:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_b9429dd4e056478c89d8100db9d4b350-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;PRESERVE_EXIF_DATA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
&lt;a name="rest_code_b9429dd4e056478c89d8100db9d4b350-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;EXIF_WHITELIST&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="preserve-all-exif-data"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id86"&gt;Preserve all EXIF data&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Do this if you really don't mind people knowing where pictures were taken, or camera settings:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_0cedce937c1e4e3a8a1aab109a274eed-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;PRESERVE_EXIF_DATA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;a name="rest_code_0cedce937c1e4e3a8a1aab109a274eed-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;EXIF_WHITELIST&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'*'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'*'&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="preserve-some-exif-data"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id87"&gt;Preserve some EXIF data&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Do this if you really know what you are doing. EXIF data comes separated in a few IFD blocks.
The most common ones are:&lt;/p&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;0th&lt;/dt&gt;
&lt;dd&gt;Information about the image itself&lt;/dd&gt;
&lt;dt&gt;Exif&lt;/dt&gt;
&lt;dd&gt;Information about the camera and the image&lt;/dd&gt;
&lt;dt&gt;1st&lt;/dt&gt;
&lt;dd&gt;Information about embedded thumbnails (usually nothing)&lt;/dd&gt;
&lt;dt&gt;thumbnail&lt;/dt&gt;
&lt;dd&gt;An embedded thumbnail, in JPEG format (usually nothing)&lt;/dd&gt;
&lt;dt&gt;GPS&lt;/dt&gt;
&lt;dd&gt;Geolocation information about the image&lt;/dd&gt;
&lt;dt&gt;Interop&lt;/dt&gt;
&lt;dd&gt;Not too interesting at this point.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Each IFD in turn contains a number of tags. For example, 0th contains a ImageWidth tag.
You can tell Nikola exactly which IFDs to keep, and within each IFD, which tags to keep,
using the EXIF_WHITELIST option.&lt;/p&gt;
&lt;p&gt;Let's see an example:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_f8edccd29c4e4825bd6e1d40fa8bc2e5-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;PRESERVE_EXIF_DATA&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
&lt;a name="rest_code_f8edccd29c4e4825bd6e1d40fa8bc2e5-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;EXIF_WHITELIST&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_f8edccd29c4e4825bd6e1d40fa8bc2e5-3"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"0th"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"Orientation"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"ImageWidth"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"ImageLength"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_f8edccd29c4e4825bd6e1d40fa8bc2e5-4"&gt;&lt;/a&gt;    &lt;span class="s2"&gt;"Interop"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s2"&gt;"*"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
&lt;a name="rest_code_f8edccd29c4e4825bd6e1d40fa8bc2e5-5"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;So, we preserve EXIF data, and the whitelisted IFDs are "0th" and "Interop". That means
GPS, for example, will be totally deleted.&lt;/p&gt;
&lt;p&gt;Then, for the Interop IFD, we keep everything, and for the 0th IFD we only keep three tags,
listed there.&lt;/p&gt;
&lt;p&gt;There is a huge number of EXIF tags, described in &lt;a class="reference external" href="http://www.cipa.jp/std/documents/e/DC-008-2012_E.pdf"&gt;the standard&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="post-processing-filters"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id88"&gt;Post Processing Filters&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;You can apply post processing to the files in your site, in order to optimize them
or change them in arbitrary ways. For example, you may want to compress all CSS
and JS files using yui-compressor.&lt;/p&gt;
&lt;p&gt;To do that, you can use the provided helper adding this in your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_f17ca769c0af4cda9bf389e0948909db-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;FILTERS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_f17ca769c0af4cda9bf389e0948909db-2"&gt;&lt;/a&gt;  &lt;span class="s2"&gt;".css"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"filters.yui_compressor"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_f17ca769c0af4cda9bf389e0948909db-3"&gt;&lt;/a&gt;  &lt;span class="s2"&gt;".js"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s2"&gt;"filters.yui_compressor"&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
&lt;a name="rest_code_f17ca769c0af4cda9bf389e0948909db-4"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Where &lt;tt class="docutils literal"&gt;"filters.yui_compressor"&lt;/tt&gt; points to a helper function provided by Nikola in the
&lt;tt class="docutils literal"&gt;filters&lt;/tt&gt; module. You can replace that with strings describing command lines, or
arbitrary python functions.&lt;/p&gt;
&lt;p&gt;If there's any specific thing you expect to be generally useful as a filter, contact
me and I will add it to the filters library so that more people use it.&lt;/p&gt;
&lt;p&gt;The currently available filters are:&lt;/p&gt;
&lt;div class="sidebar"&gt;
&lt;p class="first sidebar-title"&gt;Creating your own filters&lt;/p&gt;
&lt;p&gt;You can use any program name that works in place as a filter, like &lt;tt class="docutils literal"&gt;sed &lt;span class="pre"&gt;-i&lt;/span&gt;&lt;/tt&gt;
and you can use arbitrary Python functions as filters, too.&lt;/p&gt;
&lt;p&gt;If your program doesn't run in-place, then you can use Nikola's &lt;tt class="docutils literal"&gt;runinplace&lt;/tt&gt; function (from the &lt;tt class="docutils literal"&gt;filters&lt;/tt&gt; module).
For example, this is how the yui_compressor filter is implemented:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_8dfb6688c8c7444c9ec9678abbe9b97e-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nikola.filters&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;runinplace&lt;/span&gt;
&lt;a name="rest_code_8dfb6688c8c7444c9ec9678abbe9b97e-2"&gt;&lt;/a&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;yui_compressor&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;infile&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
&lt;a name="rest_code_8dfb6688c8c7444c9ec9678abbe9b97e-3"&gt;&lt;/a&gt;    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;runinplace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sa"&gt;r&lt;/span&gt;&lt;span class="s1"&gt;'yui-compressor --nomunge %1 -o %2'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;infile&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;You can turn any function into a filter using &lt;tt class="docutils literal"&gt;apply_to_text_file&lt;/tt&gt; (for
text files to be read in UTF-8) and &lt;tt class="docutils literal"&gt;apply_to_binary_file&lt;/tt&gt; (for files to
be read in binary mode).&lt;/p&gt;
&lt;p&gt;As a silly example, this would make everything uppercase and totally break
your website:&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code python"&gt;&lt;a name="rest_code_8c9a96dd7ee24e8db5c808fc16493eec-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;string&lt;/span&gt;
&lt;a name="rest_code_8c9a96dd7ee24e8db5c808fc16493eec-2"&gt;&lt;/a&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;nikola.filters&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;apply_to_text_file&lt;/span&gt;
&lt;a name="rest_code_8c9a96dd7ee24e8db5c808fc16493eec-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;FILTERS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_8c9a96dd7ee24e8db5c808fc16493eec-4"&gt;&lt;/a&gt;  &lt;span class="s2"&gt;".html"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;apply_to_text_file&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;string&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;upper&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;a name="rest_code_8c9a96dd7ee24e8db5c808fc16493eec-5"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;dl class="docutils"&gt;
&lt;dt&gt;filters.html_tidy_nowrap&lt;/dt&gt;
&lt;dd&gt;Prettify HTML 5 documents with &lt;a class="reference external" href="http://www.html-tidy.org/"&gt;tidy5&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.html_tidy_wrap&lt;/dt&gt;
&lt;dd&gt;Prettify HTML 5 documents wrapped at 80 characters with &lt;a class="reference external" href="http://www.html-tidy.org/"&gt;tidy5&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.html_tidy_wrap_attr&lt;/dt&gt;
&lt;dd&gt;Prettify HTML 5 documents and wrap lines and attributes with &lt;a class="reference external" href="http://www.html-tidy.org/"&gt;tidy5&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.html_tidy_mini&lt;/dt&gt;
&lt;dd&gt;Minify HTML 5 into smaller documents with &lt;a class="reference external" href="http://www.html-tidy.org/"&gt;tidy5&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.html_tidy_withconfig&lt;/dt&gt;
&lt;dd&gt;Run &lt;a class="reference external" href="http://www.html-tidy.org/"&gt;tidy5&lt;/a&gt; with &lt;tt class="docutils literal"&gt;tidy5.conf&lt;/tt&gt; as the config file (supplied by user)&lt;/dd&gt;
&lt;dt&gt;filters.html5lib_minify&lt;/dt&gt;
&lt;dd&gt;Minify HTML5 using html5lib_minify&lt;/dd&gt;
&lt;dt&gt;filters.html5lib_xmllike&lt;/dt&gt;
&lt;dd&gt;Format using html5lib&lt;/dd&gt;
&lt;dt&gt;filters.typogrify&lt;/dt&gt;
&lt;dd&gt;Improve typography using &lt;a class="reference external" href="http://static.mintchaos.com/projects/typogrify/"&gt;typogrify&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.typogrify_sans_widont&lt;/dt&gt;
&lt;dd&gt;Same as typogrify without the widont filter&lt;/dd&gt;
&lt;dt&gt;filters.minify_lines&lt;/dt&gt;
&lt;dd&gt;&lt;strong&gt;THIS FILTER HAS BEEN TURNED INTO A NOOP&lt;/strong&gt; and currently does nothing.&lt;/dd&gt;
&lt;dt&gt;filters.normalize_html&lt;/dt&gt;
&lt;dd&gt;Pass HTML through LXML to normalize it. For example, it will resolve &lt;tt class="docutils literal"&gt;&amp;amp;quot;&lt;/tt&gt; to actual
quotes. Usually not needed.&lt;/dd&gt;
&lt;dt&gt;filters.yui_compressor&lt;/dt&gt;
&lt;dd&gt;Compress CSS/JavaScript using &lt;a class="reference external" href="http://yui.github.io/yuicompressor/"&gt;YUI compressor&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.closure_compiler&lt;/dt&gt;
&lt;dd&gt;Compile, compress, and optimize JavaScript &lt;a class="reference external" href="https://developers.google.com/closure/compiler/"&gt;Google Closure Compiler&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.optipng&lt;/dt&gt;
&lt;dd&gt;Compress PNG files using &lt;a class="reference external" href="http://optipng.sourceforge.net/"&gt;optipng&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.jpegoptim&lt;/dt&gt;
&lt;dd&gt;Compress JPEG files using &lt;a class="reference external" href="http://www.kokkonen.net/tjko/projects.html"&gt;jpegoptim&lt;/a&gt;&lt;/dd&gt;
&lt;dt&gt;filters.cssminify&lt;/dt&gt;
&lt;dd&gt;Minify CSS using &lt;a class="reference external" href="http://cssminifier.com/"&gt;http://cssminifier.com/&lt;/a&gt; (requires Internet access)&lt;/dd&gt;
&lt;dt&gt;filters.jsminify&lt;/dt&gt;
&lt;dd&gt;Minify JS using &lt;a class="reference external" href="http://javascript-minifier.com/"&gt;http://javascript-minifier.com/&lt;/a&gt; (requires Internet access)&lt;/dd&gt;
&lt;dt&gt;filters.jsonminify&lt;/dt&gt;
&lt;dd&gt;Minify JSON files (strip whitespace and use minimal separators).&lt;/dd&gt;
&lt;dt&gt;filters.xmlminify&lt;/dt&gt;
&lt;dd&gt;Minify XML files. Suitable for Nikolaâs sitemaps and Atom feeds.&lt;/dd&gt;
&lt;dt&gt;filters.add_header_permalinks&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Add links next to every header, Sphinx-style. You will need to add styling for the &lt;cite&gt;headerlink&lt;/cite&gt; class,
in &lt;cite&gt;custom.css&lt;/cite&gt;, for example:&lt;/p&gt;
&lt;pre class="code css"&gt;&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-1"&gt;&lt;/a&gt;&lt;span class="c"&gt;/* Header permalinks */&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-2"&gt;&lt;/a&gt;&lt;span class="nt"&gt;h1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;hover&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;hover&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-3"&gt;&lt;/a&gt;&lt;span class="nt"&gt;h3&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;hover&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h4&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;hover&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-4"&gt;&lt;/a&gt;&lt;span class="nt"&gt;h5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;hover&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;h6&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;hover&lt;/span&gt; &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-5"&gt;&lt;/a&gt;    &lt;span class="k"&gt;display&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;inline&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-6"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-7"&gt;&lt;/a&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-8"&gt;&lt;/a&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-9"&gt;&lt;/a&gt;    &lt;span class="k"&gt;display&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;none&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-10"&gt;&lt;/a&gt;    &lt;span class="k"&gt;color&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mh"&gt;#ddd&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-11"&gt;&lt;/a&gt;    &lt;span class="k"&gt;margin-left&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="kt"&gt;em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-12"&gt;&lt;/a&gt;    &lt;span class="k"&gt;padding&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mf"&gt;0.2&lt;/span&gt;&lt;span class="kt"&gt;em&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-13"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-14"&gt;&lt;/a&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-15"&gt;&lt;/a&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nc"&gt;headerlink&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="nd"&gt;hover&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-16"&gt;&lt;/a&gt;    &lt;span class="k"&gt;opacity&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-17"&gt;&lt;/a&gt;    &lt;span class="k"&gt;background&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mh"&gt;#ddd&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-18"&gt;&lt;/a&gt;    &lt;span class="k"&gt;color&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mh"&gt;#000&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-19"&gt;&lt;/a&gt;    &lt;span class="k"&gt;text-decoration&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="kc"&gt;none&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;a name="rest_code_92a03c2c8eb14c198175cea494888734-20"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Additionally, you can provide a custom list of XPath expressions which should be used for finding headers (&lt;tt class="docutils literal"&gt;{hx}&lt;/tt&gt; is replaced by headers h1 through h6).
This is required if you use a custom theme that does not use &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;"e-content&lt;/span&gt; &lt;span class="pre"&gt;entry-content"&lt;/span&gt;&lt;/tt&gt; as a class for post and page contents.&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code python"&gt;&lt;a name="rest_code_84646879a6ea4db0bc9361a09d26d8a5-1"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Default value:&lt;/span&gt;
&lt;a name="rest_code_84646879a6ea4db0bc9361a09d26d8a5-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;HEADER_PERMALINKS_XPATH_LIST&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'*//div[@class="e-content entry-content"]//{hx}'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;a name="rest_code_84646879a6ea4db0bc9361a09d26d8a5-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# Include *every* header (not recommended):&lt;/span&gt;
&lt;a name="rest_code_84646879a6ea4db0bc9361a09d26d8a5-4"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# HEADER_PERMALINKS_XPATH_LIST = ['*//{hx}']&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/dd&gt;
&lt;dt&gt;filters.deduplicate_ids&lt;/dt&gt;
&lt;dd&gt;&lt;p class="first"&gt;Prevent duplicated IDs in HTML output. An incrementing counter is added to
offending IDs. If used alongside &lt;tt class="docutils literal"&gt;add_header_permalinks&lt;/tt&gt;, it will fix
those links (it must run &lt;strong&gt;after&lt;/strong&gt; that filter)&lt;/p&gt;
&lt;p&gt;IDs are numbered from the bottom up, which is useful for indexes (updates
appear at the top). There are exceptions, which may be configured using
&lt;tt class="docutils literal"&gt;DEDUPLICATE_IDS_TOP_CLASSES&lt;/tt&gt; â if any of those classes appears sin the
document, the IDs are rewritten top-down, which is useful for posts/pages
(updates appear at the bottom).&lt;/p&gt;
&lt;p&gt;Note that in rare cases, permalinks might not always be &lt;em&gt;permanent&lt;/em&gt; in case
of edits.&lt;/p&gt;
&lt;div class="last"&gt;&lt;pre class="code python"&gt;&lt;a name="rest_code_21de9958a03c4ab3b231f851dc153da5-1"&gt;&lt;/a&gt;  &lt;span class="n"&gt;DEDUPLICATE_IDS_TOP_CLASSES&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'postpage'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'storypage'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a name="rest_code_21de9958a03c4ab3b231f851dc153da5-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_21de9958a03c4ab3b231f851dc153da5-3"&gt;&lt;/a&gt;&lt;span class="n"&gt;You&lt;/span&gt; &lt;span class="n"&gt;can&lt;/span&gt; &lt;span class="n"&gt;also&lt;/span&gt; &lt;span class="n"&gt;use&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="nb"&gt;file&lt;/span&gt; &lt;span class="n"&gt;blacklist&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="sb"&gt;``&lt;/span&gt;&lt;span class="n"&gt;HEADER_PERMALINKS_FILE_BLACKLIST&lt;/span&gt;&lt;span class="sb"&gt;``&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;a name="rest_code_21de9958a03c4ab3b231f851dc153da5-4"&gt;&lt;/a&gt;&lt;span class="n"&gt;useful&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;some&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="n"&gt;pages&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt; &lt;span class="n"&gt;Paths&lt;/span&gt; &lt;span class="n"&gt;include&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;output&lt;/span&gt; &lt;span class="n"&gt;directory&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;eg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;a name="rest_code_21de9958a03c4ab3b231f851dc153da5-5"&gt;&lt;/a&gt;&lt;span class="sb"&gt;``&lt;/span&gt;&lt;span class="n"&gt;output&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;html&lt;/span&gt;&lt;span class="sb"&gt;``&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;You can apply filters to specific posts or pages by using the &lt;tt class="docutils literal"&gt;filters&lt;/tt&gt; metadata field:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_fe44ef1a1a704297ae4eaa936380f4e6-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;.. filters: filters.html_tidy_nowrap, "sed s/foo/bar"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="optimizing-your-website"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id89"&gt;Optimizing Your Website&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;One of the main goals of Nikola is to make your site fast and light. So here are a few
tips we have found when setting up Nikola with Apache. If you have more, or
different ones, or about other web servers, please share!&lt;/p&gt;
&lt;ol class="arabic"&gt;
&lt;li&gt;&lt;p class="first"&gt;Use a speed testing tool. I used Yahoo's YSlow but you can use any of them, and
it's probably a good idea to use more than one.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Enable compression in Apache:&lt;/p&gt;
&lt;pre class="code apache"&gt;&lt;a name="rest_code_e2158ddfe16f4192863581bca8c3561a-1"&gt;&lt;/a&gt;&lt;span class="nb"&gt;AddOutputFilterByType&lt;/span&gt; DEFLATE text/html text/plain text/xml text/css text/javascript
&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;If even after you did the previous step the CSS files are not sent compressed:&lt;/p&gt;
&lt;pre class="code apache"&gt;&lt;a name="rest_code_14bf620efb4b48c085383940bea31620-1"&gt;&lt;/a&gt;&lt;span class="nb"&gt;AddType&lt;/span&gt; text/css .css
&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Optionally you can create static compressed copies and save some CPU on your server
with the GZIP_FILES option in Nikola.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;The webassets Nikola plugin can drastically decrease the number of CSS and JS files your site fetches.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Through the filters feature, you can run your files through arbitrary commands, so that images
are recompressed, JavaScript is minimized, etc.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;The USE_CDN option offloads standard JavaScript and CSS files to a CDN so they are not
downloaded from your server.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="math"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id90"&gt;Math&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola supports math input via MathJax (by default) or KaTeX.  It is activated
via the math roles and directives of reStructuredText and the usual LaTeX
delimiters for other input formats.&lt;/p&gt;
&lt;div class="section" id="id10"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id91"&gt;Configuration&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Nikola uses MathJax by default. If you want to use KaTeX (faster and prettier,
but may not support every feature yet), set &lt;tt class="docutils literal"&gt;USE_KATEX = True&lt;/tt&gt; in
&lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;To use mathematics in a post, you &lt;strong&gt;must&lt;/strong&gt; add the &lt;tt class="docutils literal"&gt;mathjax&lt;/tt&gt; tag, no matter
which renderer you are using.  (Exception: posts that are Jupyter Notebooks are
automatically marked as math)&lt;/p&gt;
&lt;!-- Note to editors: the paragraph below uses U+200B, zero-width space. Donât break it. --&gt;
&lt;p&gt;By default, Nikola will accept &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;\â(...\â)&lt;/span&gt;&lt;/tt&gt; for inline math; &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;\â[...\â]&lt;/span&gt;&lt;/tt&gt; and
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;$â$...$â$&lt;/span&gt;&lt;/tt&gt; for display math. If you want to use the old &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;$...$&lt;/span&gt;&lt;/tt&gt; syntax as well
(which may conflict with running text!), you need to use special config for
your renderer:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;MATHJAX_CONFIG&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-2"&gt;&lt;/a&gt;&lt;span class="s2"&gt;&amp;lt;script type="text/x-mathjax-config"&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-3"&gt;&lt;/a&gt;&lt;span class="s2"&gt;MathJax.Hub.Config({&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-4"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    tex2jax: {&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-5"&gt;&lt;/a&gt;&lt;span class="s2"&gt;        inlineMath: [ ['$','$'], ["&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\(","&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\)"] ],&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-6"&gt;&lt;/a&gt;&lt;span class="s2"&gt;        displayMath: [ ['$$','$$'], ["&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\[","&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\]"] ],&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-7"&gt;&lt;/a&gt;&lt;span class="s2"&gt;        processEscapes: true&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-8"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    },&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-9"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    displayAlign: 'center', // Change this to 'left' if you want left-aligned equations.&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-10"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    "HTML-CSS": {&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-11"&gt;&lt;/a&gt;&lt;span class="s2"&gt;        styles: {'.MathJax_Display': {"margin": 0}}&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-12"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    }&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-13"&gt;&lt;/a&gt;&lt;span class="s2"&gt;});&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-14"&gt;&lt;/a&gt;&lt;span class="s2"&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-15"&gt;&lt;/a&gt;&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-16"&gt;&lt;/a&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-17"&gt;&lt;/a&gt;&lt;span class="n"&gt;KATEX_AUTO_RENDER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-18"&gt;&lt;/a&gt;&lt;span class="s2"&gt;delimiters: [&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-19"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    {left: "$$", right: "$$", display: true},&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-20"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    {left: "&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\[", right: "&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\]", display: true},&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-21"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    {left: "$", right: "$", display: false},&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-22"&gt;&lt;/a&gt;&lt;span class="s2"&gt;    {left: "&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\(", right: "&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s2"&gt;\)", display: false}&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-23"&gt;&lt;/a&gt;&lt;span class="s2"&gt;]&lt;/span&gt;
&lt;a name="rest_code_2ad0f5f55ddb469cbe6cee98d6220400-24"&gt;&lt;/a&gt;&lt;span class="s2"&gt;"""&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;&lt;em&gt;(Note: the previous paragraph uses invisible characters to prevent rendering
TeX for display, so donât copy the examples with three dots to your posts)&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="inline-usage"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id92"&gt;Inline usage&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Inline mathematics are produced using the reST &lt;cite&gt;math&lt;/cite&gt; &lt;strong&gt;role&lt;/strong&gt; or the LaTeX
backslash-parentheses delimiters:&lt;/p&gt;
&lt;p&gt;Eulerâs formula: &lt;span class="math"&gt;\(e^{ix} = \cos x + i\sin x\)&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;In reST:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_30ab6dc93dd04ca4aa2ed6504988f47c-1"&gt;&lt;/a&gt;Eulerâs formula: &lt;span class="na"&gt;:math:&lt;/span&gt;&lt;span class="nv"&gt;`e^{ix} = \cos x + i\sin x`&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;In HTML and other input formats:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_5fa67dcf052c4597a7b73921661ade6e-1"&gt;&lt;/a&gt;Eulerâs formula: \(e^{ix} = \cos x + i\sin x\)
&lt;/pre&gt;&lt;p&gt;Note that some input formats (including Markdown) require using &lt;strong&gt;double
backslashes&lt;/strong&gt; in the delimiters (&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;\\(inline&lt;/span&gt; &lt;span class="pre"&gt;math\\)&lt;/span&gt;&lt;/tt&gt;). Please check your
output first before reporting bugs.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="display-usage"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id93"&gt;Display usage&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Display mathematics are produced using the reST &lt;cite&gt;math&lt;/cite&gt; &lt;strong&gt;directive&lt;/strong&gt; or the
LaTeX backslash-brackets delimiters:&lt;/p&gt;
&lt;div class="math"&gt;
\begin{equation*}
\int \frac{dx}{1+ax}=\frac{1}{a}\ln(1+ax)+C
\end{equation*}
&lt;/div&gt;
&lt;p&gt;In reST:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_147bc8aace7c43e1b35ca83d2482816f-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;math&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
&lt;a name="rest_code_147bc8aace7c43e1b35ca83d2482816f-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_147bc8aace7c43e1b35ca83d2482816f-3"&gt;&lt;/a&gt;   \int \frac{dx}{1+ax}=\frac{1}{a}\ln(1+ax)+C
&lt;/pre&gt;&lt;p&gt;In HTML and other input formats:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_a0c4221f6ac749db8edf0620c0c1cf8a-1"&gt;&lt;/a&gt;\[\int \frac{dx}{1+ax}=\frac{1}{a}\ln(1+ax)+C\]
&lt;/pre&gt;&lt;p&gt;Note that some input formats (including Markdown) require using &lt;strong&gt;double
backslashes&lt;/strong&gt; in the delimiters (&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;\\[display&lt;/span&gt; &lt;span class="pre"&gt;math\\]&lt;/span&gt;&lt;/tt&gt;). Please check your
output first before reporting bugs.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="restructuredtext-extensions"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id94"&gt;reStructuredText Extensions&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola includes support for a few directives and roles that are not part of docutils, but which
we think are handy for website development.&lt;/p&gt;
&lt;div class="section" id="includes"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id95"&gt;Includes&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Nikola supports the standard reStructuredText &lt;tt class="docutils literal"&gt;include&lt;/tt&gt; directive, but with a
catch: filenames are relative to &lt;strong&gt;Nikola site root&lt;/strong&gt; (directory with &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;)
instead of the post location (eg. &lt;tt class="docutils literal"&gt;posts/&lt;/tt&gt; directory)!&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="media"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id96"&gt;Media&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;This directive lets you embed media from a variety of sites automatically by just passing the
URL of the page.  For example here are two random videos:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_451d874823db42939fc71ad9396e6dd0-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;media&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; http://vimeo.com/72425090
&lt;a name="rest_code_451d874823db42939fc71ad9396e6dd0-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_451d874823db42939fc71ad9396e6dd0-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;media&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; http://www.youtube.com/watch?v=wyRpAat5oz0
&lt;/pre&gt;&lt;p&gt;It supports Instagram, Flickr, Github gists, Funny or Die, and dozens more, thanks to &lt;a class="reference external" href="https://github.com/coleifer/micawber"&gt;Micawber&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="youtube"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id97"&gt;YouTube&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To link to a YouTube video, you need the id of the video. For example, if the
URL of the video is &lt;a class="reference external" href="http://www.youtube.com/watch?v=8N_tupPBtWQ"&gt;http://www.youtube.com/watch?v=8N_tupPBtWQ&lt;/a&gt; what you need is
&lt;strong&gt;8N_tupPBtWQ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Once you have that, all you need to do is:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_a72e6304b71140c782dd45de923fc121-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;youtube&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; 8N_tupPBtWQ
&lt;/pre&gt;&lt;p&gt;Supported options: &lt;tt class="docutils literal"&gt;height&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;width&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;align&lt;/tt&gt; (one of &lt;tt class="docutils literal"&gt;left&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;center&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;right&lt;/tt&gt;) â all are optional. Example:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_02902c33ddf94071b6dbaa6dafaac0b2-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;youtube&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; 8N_tupPBtWQ
&lt;a name="rest_code_02902c33ddf94071b6dbaa6dafaac0b2-2"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:align:&lt;/span&gt; &lt;span class="nf"&gt;center&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="vimeo"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id98"&gt;Vimeo&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To link to a Vimeo video, you need the id of the video. For example, if the
URL of the video is &lt;a class="reference external" href="http://www.vimeo.com/20241459"&gt;http://www.vimeo.com/20241459&lt;/a&gt; then the id is &lt;strong&gt;20241459&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Once you have that, all you need to do is:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_b521c3ea019447c9aa58c02ee2464863-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;vimeo&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; 20241459
&lt;/pre&gt;&lt;p&gt;If you have internet connectivity when generating your site, the height and width of
the embedded player will be set to the native height and width of the video.
You can override this if you wish:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_f100486c4cb442bdaa4cf7eb97154e60-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;vimeo&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; 20241459
&lt;a name="rest_code_f100486c4cb442bdaa4cf7eb97154e60-2"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:height:&lt;/span&gt; &lt;span class="nf"&gt;240&lt;/span&gt;
&lt;a name="rest_code_f100486c4cb442bdaa4cf7eb97154e60-3"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:width:&lt;/span&gt; &lt;span class="nf"&gt;320&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Supported options: &lt;tt class="docutils literal"&gt;height&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;width&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;align&lt;/tt&gt; (one of &lt;tt class="docutils literal"&gt;left&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;center&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;right&lt;/tt&gt;) â all are optional.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="soundcloud"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id99"&gt;Soundcloud&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;This directive lets you share music from &lt;a class="reference external" href="http://soundcloud.com"&gt;http://soundcloud.com&lt;/a&gt; You first need to get the
ID for the piece, which you can find in the "share" link. For example, if the
WordPress code starts like this:&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_020d36fc31da47bc8e8118d64b41a547-1"&gt;&lt;/a&gt;[soundcloud url="http://api.soundcloud.com/tracks/78131362" â¦/]
&lt;/pre&gt;&lt;p&gt;The ID is 78131362 and you can embed the audio with this:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_fec07aee62104b6fa6e84ed67be8e76d-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;soundcloud&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; 78131362
&lt;/pre&gt;&lt;p&gt;You can also embed playlists, via the &lt;cite&gt;soundcloud_playlist&lt;/cite&gt; directive which works the same way.&lt;/p&gt;
&lt;blockquote&gt;
&lt;div class="soundcloud-player"&gt;
&lt;iframe width="600" height="160" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=http://api.soundcloud.com/playlists/9411706"&gt;
&lt;/iframe&gt;
&lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;Supported options: &lt;tt class="docutils literal"&gt;height&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;width&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;align&lt;/tt&gt; (one of &lt;tt class="docutils literal"&gt;left&lt;/tt&gt;,
&lt;tt class="docutils literal"&gt;center&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;right&lt;/tt&gt;) â all are optional.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="code"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id100"&gt;Code&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;code&lt;/tt&gt; directive has been included in docutils since version 0.9 and now
replaces Nikola's &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;code-block&lt;/span&gt;&lt;/tt&gt; directive. To ease the transition, two aliases
for &lt;tt class="docutils literal"&gt;code&lt;/tt&gt; directive are provided: &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;code-block&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;sourcecode&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_ec933f20fa594e5dbcd349d371ad65de-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;code-block&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; python
&lt;a name="rest_code_ec933f20fa594e5dbcd349d371ad65de-2"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:number-lines:&lt;/span&gt;
&lt;a name="rest_code_ec933f20fa594e5dbcd349d371ad65de-3"&gt;&lt;/a&gt;
&lt;a name="rest_code_ec933f20fa594e5dbcd349d371ad65de-4"&gt;&lt;/a&gt;   print("Our virtues and our failings are inseparable")
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="listing"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id101"&gt;Listing&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To use this, you have to put your source code files inside &lt;tt class="docutils literal"&gt;listings&lt;/tt&gt; or whatever folders
your &lt;tt class="docutils literal"&gt;LISTINGS_FOLDERS&lt;/tt&gt; variable is set to fetch files from. Assuming you have a &lt;tt class="docutils literal"&gt;foo.py&lt;/tt&gt;
inside one of these folders:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_c1f9501b460a448eb56b3787316c0a7b-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;listing&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; foo.py python
&lt;/pre&gt;&lt;p&gt;Will include the source code from &lt;tt class="docutils literal"&gt;foo.py&lt;/tt&gt;, highlight its syntax in python mode,
and also create a &lt;tt class="docutils literal"&gt;listings/foo.py.html&lt;/tt&gt; page (or in another directory, depending on
&lt;tt class="docutils literal"&gt;LISTINGS_FOLDER&lt;/tt&gt;) and the listing will have a title linking to it.&lt;/p&gt;
&lt;p&gt;The stand-alone &lt;tt class="docutils literal"&gt;listings/&lt;/tt&gt; pages also support Jupyter notebooks, if they are
supported site-wide.&lt;/p&gt;
&lt;p&gt;Listings support the same options &lt;a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#including-an-external-document-fragment"&gt;reST includes&lt;/a&gt; support (including
various options for controlling which parts of the file are included), and also
a &lt;tt class="docutils literal"&gt;linenos&lt;/tt&gt; option for Sphinx compatibility.&lt;/p&gt;
&lt;p&gt;The &lt;tt class="docutils literal"&gt;LISTINGS_FOLDER&lt;/tt&gt; configuration variable allows to specify a list of folders where
to fetch listings from together with subfolder of the &lt;tt class="docutils literal"&gt;output&lt;/tt&gt; folder where the
processed listings should be put in. The default is, &lt;tt class="docutils literal"&gt;LISTINGS_FOLDERS = {'listings': 'listings'}&lt;/tt&gt;,
which means that all source code files in &lt;tt class="docutils literal"&gt;listings&lt;/tt&gt; will be taken and stored in &lt;tt class="docutils literal"&gt;output/listings&lt;/tt&gt;.
Extending &lt;tt class="docutils literal"&gt;LISTINGS_FOLDERS&lt;/tt&gt; to &lt;tt class="docutils literal"&gt;{'listings': 'listings', 'code': &lt;span class="pre"&gt;'formatted-code'}&lt;/span&gt;&lt;/tt&gt;
will additionally process all source code files in &lt;tt class="docutils literal"&gt;code&lt;/tt&gt; and put the results into
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;output/formatted-code&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;div class="admonition note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Formerly, &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;start-at&lt;/span&gt;&lt;/tt&gt; and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;end-at&lt;/span&gt;&lt;/tt&gt; options were supported; however,
they do not work anymore (since v6.1.0) and you should now use &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;start-after&lt;/span&gt;&lt;/tt&gt;
and &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;end-before&lt;/span&gt;&lt;/tt&gt;, respectively.  You can also use &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;start-line&lt;/span&gt;&lt;/tt&gt; and
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;end-line&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="gist"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id102"&gt;Gist&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;You can easily embed GitHub gists with this directive, like this:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_7a4712d10c6f4b80a722c3b4d3d59e77-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;gist&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; 2395294
&lt;/pre&gt;&lt;p&gt;Producing this:&lt;/p&gt;
&lt;script src="https://gist.github.com/2395294.js"&gt;&lt;/script&gt;&lt;noscript&gt;&lt;pre class="literal-block"&gt;
#include &amp;lt;stdlib.h&amp;gt;
#include &amp;lt;stdio.h&amp;gt;

int nonHeapInt;

struct HeapObject
{
    int x;  // å çºå¦ææ¾ x ç pointerï¼å¯¦éä¸åæ¾ HeapObject çéé ­ pointer ç¸åï¼
            // æä»¥æåå¿éå ä¸åyï¼è®æåæå® pointer æä¸ææå° HeapObject çéé ­ã
    int y;
};

int main()
{
    struct HeapObject * heapObject = malloc(sizeof(struct HeapObject));

    nonHeapInt = 10;
    heapObject-&amp;gt;y = 20;

    printf("Start nonHeapInt:%d\n", nonHeapInt);
    printf("Start heapObject-&amp;gt;y:%d\n", heapObject-&amp;gt;y);

    // free(&amp;amp;nonHeapInt); // GCC æè­¦åï¼å·è¡ glibc æä¸ invalid pointer exception
    // free(&amp;amp;(heapObject-&amp;gt;y)); // éç¶ä¸ææ¯åï¼ä½ glibc éæ¯æä¸ invalid pointer exception

    printf("End nonHeapInt:%d\n", nonHeapInt);
    printf("End heapObject-&amp;gt;y:%d\n", heapObject-&amp;gt;y);

}

&lt;/pre&gt;
&lt;/noscript&gt;&lt;p&gt;This degrades gracefully if the browser doesn't support JavaScript.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="thumbnails"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id103"&gt;Thumbnails&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To include an image placed in the &lt;tt class="docutils literal"&gt;images&lt;/tt&gt; folder (or other folders defined in &lt;tt class="docutils literal"&gt;IMAGE_FOLDERS&lt;/tt&gt;), use the
&lt;tt class="docutils literal"&gt;thumbnail&lt;/tt&gt; directive, like this:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_73938702fc644675859d37d95113a38a-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;thumbnail&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; /images/tesla.jpg
&lt;/pre&gt;&lt;p&gt;The small thumbnail will be placed in the page, and it will be linked to the bigger
version of the image when clicked, using
&lt;a class="reference external" href="http://www.jacklmoore.com/colorbox"&gt;colorbox&lt;/a&gt; by default. All options supported by
the reST &lt;a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#image"&gt;image&lt;/a&gt;
directive are supported (except &lt;tt class="docutils literal"&gt;target&lt;/tt&gt;). If a body element is provided, the
thumbnail will mimic the behavior of the
&lt;a class="reference external" href="http://docutils.sourceforge.net/docs/ref/rst/directives.html#figure"&gt;figure&lt;/a&gt;
directive instead:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_6c970c3d07ad4123b12d75cd0b079e59-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;thumbnail&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; /images/tesla.jpg
&lt;a name="rest_code_6c970c3d07ad4123b12d75cd0b079e59-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_6c970c3d07ad4123b12d75cd0b079e59-3"&gt;&lt;/a&gt;   Nikola Tesla, the man that invented the 20th century.
&lt;/pre&gt;&lt;p&gt;If you want to include a thumbnail in a non-reST post, you need to produce at
least this basic HTML:&lt;/p&gt;
&lt;pre class="code html"&gt;&lt;a name="rest_code_5ce3e5b0f68a46da9fba48dd50364c98-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt; &lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"image-reference"&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"images/tesla.jpg"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;img&lt;/span&gt; &lt;span class="na"&gt;src&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"images/tesla.thumbnail.jpg"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&amp;lt;/&lt;/span&gt;&lt;span class="nt"&gt;a&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="slideshows"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id104"&gt;Slideshows&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;To create an image slideshow, you can use the &lt;tt class="docutils literal"&gt;slides&lt;/tt&gt; directive. For example:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_5aefa597f8c440a8b68f2310d88f849b-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;slides&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
&lt;a name="rest_code_5aefa597f8c440a8b68f2310d88f849b-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_5aefa597f8c440a8b68f2310d88f849b-3"&gt;&lt;/a&gt;   /galleries/demo/tesla_conducts_lg.jpg
&lt;a name="rest_code_5aefa597f8c440a8b68f2310d88f849b-4"&gt;&lt;/a&gt;   /galleries/demo/tesla_lightning2_lg.jpg
&lt;a name="rest_code_5aefa597f8c440a8b68f2310d88f849b-5"&gt;&lt;/a&gt;   /galleries/demo/tesla4_lg.jpg
&lt;a name="rest_code_5aefa597f8c440a8b68f2310d88f849b-6"&gt;&lt;/a&gt;   /galleries/demo/tesla_lightning1_lg.jpg
&lt;a name="rest_code_5aefa597f8c440a8b68f2310d88f849b-7"&gt;&lt;/a&gt;   /galleries/demo/tesla_tower1_lg.jpg
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="chart"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id105"&gt;Chart&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;This directive is a thin wrapper around &lt;a class="reference external" href="http://pygal.org/"&gt;Pygal&lt;/a&gt; and will produce charts
as SVG files embedded directly in your pages.&lt;/p&gt;
&lt;p&gt;Here's an example of how it works:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-1"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;chart&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt; Bar
&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-2"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:title:&lt;/span&gt; &lt;span class="nf"&gt;'Browser usage evolution (in %)'&lt;/span&gt;
&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-3"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:x_labels:&lt;/span&gt; &lt;span class="nf"&gt;["2002", "2003", "2004", "2005", "2006", "2007"]&lt;/span&gt;
&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-4"&gt;&lt;/a&gt;
&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-5"&gt;&lt;/a&gt;   'Firefox', [None, None, 0, 16.6, 25, 31]
&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-6"&gt;&lt;/a&gt;   'Chrome',  [None, None, None, None, None, None]
&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-7"&gt;&lt;/a&gt;   'IE',      [85.8, 84.6, 84.7, 74.5, 66, 58.6]
&lt;a name="rest_code_d08b04eb7f3140dcb5de551280d4a71c-8"&gt;&lt;/a&gt;   'Others',  [14.2, 15.4, 15.3, 8.9, 9, 10.4]
&lt;/pre&gt;&lt;p&gt;The argument passed next to the directive (Bar in that example) is the type of chart, and can be one of
Line, StackedLine, Bar, StackedBar, HorizontalBar, XY, DateY, Pie, Radar, Dot, Funnel, Gauge, Pyramid. For
examples of what each kind of graph is, &lt;a class="reference external" href="http://pygal.org/chart_types/"&gt;check here&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;It can take &lt;em&gt;a lot&lt;/em&gt; of options to let you customize the charts (in the example, title and x_labels).
You can use any option described in &lt;a class="reference external" href="http://pygal.org/basic_customizations/"&gt;the pygal docs&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Finally, the content of the directive is the actual data, in the form of a label and
a list of values, one series per line.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="doc"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id106"&gt;Doc&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;This role is useful to make links to other post or page inside the same site.&lt;/p&gt;
&lt;p&gt;Here's an example:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_3c3019ee89c44fdb85194b5c2febd148-1"&gt;&lt;/a&gt;Take a look at &lt;span class="na"&gt;:doc:&lt;/span&gt;&lt;span class="nv"&gt;`my other post &amp;lt;creating-a-theme&amp;gt;`&lt;/span&gt; about theme creating.
&lt;/pre&gt;&lt;p&gt;In this case we are giving the portion of text we want to link. So, the result will be:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Take a look at &lt;a href="http://yongchen.org/posts/handbook/#id13"&gt;&lt;span class="problematic" id="id14"&gt;:doc:`my other post &amp;lt;creating-a-theme&amp;gt;`&lt;/span&gt;&lt;/a&gt; about theme creating.&lt;/p&gt;
&lt;div class="system-message" id="id13"&gt;
&lt;p class="system-message-title"&gt;System Message: ERROR/3 (&lt;tt class="docutils"&gt;&amp;lt;string&amp;gt;&lt;/tt&gt;, line 2552); &lt;em&gt;&lt;a href="http://yongchen.org/posts/handbook/#id14"&gt;backlink&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
"creating-a-theme" slug doesn't exist.&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;If we want to use the post's title as the link's text, just do:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_8073d3f466734e3d98f5b2e320c818bc-1"&gt;&lt;/a&gt;Take a look at &lt;span class="na"&gt;:doc:&lt;/span&gt;&lt;span class="nv"&gt;`creating-a-theme`&lt;/span&gt; to know how to do it.
&lt;/pre&gt;&lt;p&gt;and it will produce:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Take a look at &lt;a href="http://yongchen.org/posts/handbook/#id15"&gt;&lt;span class="problematic" id="id16"&gt;:doc:`creating-a-theme`&lt;/span&gt;&lt;/a&gt; to know how to do it.&lt;/p&gt;
&lt;div class="system-message" id="id15"&gt;
&lt;p class="system-message-title"&gt;System Message: ERROR/3 (&lt;tt class="docutils"&gt;&amp;lt;string&amp;gt;&lt;/tt&gt;, line 2562); &lt;em&gt;&lt;a href="http://yongchen.org/posts/handbook/#id16"&gt;backlink&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
"creating-a-theme" slug doesn't exist.&lt;/div&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="post-list"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id107"&gt;Post List&lt;/a&gt;&lt;/h3&gt;
&lt;div class="admonition warning"&gt;
&lt;p class="first admonition-title"&gt;Warning&lt;/p&gt;
&lt;p&gt;Any post or page that uses this directive will be considered out of date,
every time a post is added or deleted, causing maybe unnecessary rebuilds.&lt;/p&gt;
&lt;p class="last"&gt;On the other hand, it will sometimes &lt;strong&gt;not&lt;/strong&gt; be considered out of date if
a post content changes, so it can sometimes be shown outdated, in those
cases, use &lt;tt class="docutils literal"&gt;nikola build &lt;span class="pre"&gt;-a&lt;/span&gt;&lt;/tt&gt; to force a total rebuild.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This directive can be used to generate a list of posts. You could use it, for
example, to make a list of the latest 5 blog posts, or a list of all blog posts
with the tag &lt;tt class="docutils literal"&gt;nikola&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code restructuredtext"&gt;&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-1"&gt;&lt;/a&gt;Here are my 5 latest and greatest blog posts:
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-2"&gt;&lt;/a&gt;
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-3"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;post-list&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-4"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:stop:&lt;/span&gt; &lt;span class="nf"&gt;5&lt;/span&gt;
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-5"&gt;&lt;/a&gt;
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-6"&gt;&lt;/a&gt;These are all my posts about Nikola:
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-7"&gt;&lt;/a&gt;
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-8"&gt;&lt;/a&gt;&lt;span class="p"&gt;..&lt;/span&gt; &lt;span class="ow"&gt;post-list&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;
&lt;a name="rest_code_40dcaace30cc435893ed6e8e8297083d-9"&gt;&lt;/a&gt;   &lt;span class="nc"&gt;:tags:&lt;/span&gt; &lt;span class="nf"&gt;nikola&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Using shortcode syntax (for other compilers):&lt;/p&gt;
&lt;pre class="code text"&gt;&lt;a name="rest_code_90aa462bacf449198fadde5d04da820a-1"&gt;&lt;/a&gt;{{% post-list stop=5 %}}{{% /post-list %}}
&lt;/pre&gt;&lt;p&gt;The following options are recognized:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;start&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;integer&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;The index of the first post to show.
A negative value like &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-3&lt;/span&gt;&lt;/tt&gt; will show the &lt;em&gt;last&lt;/em&gt; three posts in the
post-list.
Defaults to None.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;stop&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;integer&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;The index of the last post to show.
A value negative value like &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-1&lt;/span&gt;&lt;/tt&gt; will show every post, but not the
&lt;em&gt;last&lt;/em&gt; in the post-list.
Defaults to None.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;reverse&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;flag&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;Reverse the order of the post-list.
Defaults is to not reverse the order of posts.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;sort&lt;/tt&gt;: string&lt;/dt&gt;
&lt;dd&gt;Sort post list by one of each post's attributes, usually &lt;tt class="docutils literal"&gt;title&lt;/tt&gt; or a
custom &lt;tt class="docutils literal"&gt;priority&lt;/tt&gt;.  Defaults to None (chronological sorting).&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;date&lt;/tt&gt;: string&lt;/dt&gt;
&lt;dd&gt;Show posts that match date range specified by this option. Format:&lt;ul class="last"&gt;
&lt;li&gt;comma-separated clauses (AND)&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;clause: attribute comparison_operator value (spaces optional)&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;attribute: year, month, day, hour, month, second, weekday, isoweekday; or empty for full datetime&lt;/li&gt;
&lt;li&gt;comparison_operator: == != &amp;lt;= &amp;gt;= &amp;lt; &amp;gt;&lt;/li&gt;
&lt;li&gt;value: integer, 'now' or dateutil-compatible date input&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;tags&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string [, string...]&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;Filter posts to show only posts having at least one of the &lt;tt class="docutils literal"&gt;tags&lt;/tt&gt;.
Defaults to None.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;require_all_tags&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;flag&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;Change tag filter behaviour to show only posts that have all specified &lt;tt class="docutils literal"&gt;tags&lt;/tt&gt;.
Defaults to False.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;categories&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string [, string...]&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;Filter posts to show only posts having one of the &lt;tt class="docutils literal"&gt;categories&lt;/tt&gt;.
Defaults to None.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;sections&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string [, string...]&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;Filter posts to show only posts having one of the &lt;tt class="docutils literal"&gt;sections&lt;/tt&gt;.
Defaults to None.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;slugs&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string [, string...]&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;Filter posts to show only posts having at least one of the &lt;tt class="docutils literal"&gt;slugs&lt;/tt&gt;.
Defaults to None.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;post_type&lt;/tt&gt; (or &lt;tt class="docutils literal"&gt;type&lt;/tt&gt;) &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;Show only &lt;tt class="docutils literal"&gt;posts&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;pages&lt;/tt&gt; or &lt;tt class="docutils literal"&gt;all&lt;/tt&gt;.
Replaces &lt;tt class="docutils literal"&gt;all&lt;/tt&gt;. Defaults to &lt;tt class="docutils literal"&gt;posts&lt;/tt&gt;.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;all&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;flag&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;(deprecated, use &lt;tt class="docutils literal"&gt;post_type&lt;/tt&gt; instead)
Shows all posts and pages in the post list.  Defaults to show only posts.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;lang&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;The language of post &lt;em&gt;titles&lt;/em&gt; and &lt;em&gt;links&lt;/em&gt;.
Defaults to default language.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;template&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;The name of an alternative template to render the post-list.
Defaults to &lt;tt class="docutils literal"&gt;post_list_directive.tmpl&lt;/tt&gt;&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;&lt;tt class="docutils literal"&gt;id&lt;/tt&gt; &lt;span class="classifier-delimiter"&gt;:&lt;/span&gt; &lt;span class="classifier"&gt;string&lt;/span&gt;&lt;/dt&gt;
&lt;dd&gt;A manual id for the post list.
Defaults to a random name composed by &lt;tt class="docutils literal"&gt;'post_list_' + &lt;span class="pre"&gt;uuid.uuid4().hex&lt;/span&gt;&lt;/tt&gt;.&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The post list directive uses the &lt;tt class="docutils literal"&gt;post_list_directive.tmpl&lt;/tt&gt; template file (or
another one, if you use the &lt;tt class="docutils literal"&gt;template&lt;/tt&gt; option) to generate the list's HTML. By
default, this is an unordered list with dates and clickable post titles. See
the template file in Nikola's base theme for an example of how this works.&lt;/p&gt;
&lt;p&gt;The list may fail to update in some cases, please run &lt;tt class="docutils literal"&gt;nikola build &lt;span class="pre"&gt;-a&lt;/span&gt;&lt;/tt&gt; with
the appropriate path if this happens.&lt;/p&gt;
&lt;p&gt;We recommend using pages with dates in the past (1970-01-01) to avoid
dependency issues.&lt;/p&gt;
&lt;p&gt;If you are using this as a shortcode, flags (&lt;tt class="docutils literal"&gt;reverse&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;all&lt;/tt&gt;) are meant to be used
with a &lt;tt class="docutils literal"&gt;True&lt;/tt&gt; argument, eg. &lt;tt class="docutils literal"&gt;all=True&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="importing-your-wordpress-site-into-nikola"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id108"&gt;Importing your WordPress site into Nikola&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you like Nikola, and want to start using it, but you have a WordPress blog, Nikola
supports importing it. Here are the steps to do it:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Get an XML dump of your site &lt;a class="footnote-reference" href="http://yongchen.org/posts/handbook/#id18" id="id17"&gt;[1]&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;nikola import_wordpress &lt;span class="pre"&gt;mysite.wordpress.2012-12-20.xml&lt;/span&gt;&lt;/tt&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;After some time, this will create a &lt;tt class="docutils literal"&gt;new_site&lt;/tt&gt; folder with all your data. It currently supports
the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;All your posts and pages&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Keeps âdraftâ status&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Your tags and categories&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Imports your attachments and fixes links to point to the right places&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Will try to add redirects that send the old post URLs to the new ones&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Will give you a URL map so you know where each old post was&lt;/p&gt;
&lt;p&gt;This is also useful for DISQUS thread migration, or server-based 301
redirects!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Allows you to export your comments with each post&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Exports information on attachments per post&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;There are different methods to transfer the content of your posts:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;You can convert them to HTML with the WordPress page compiler plugin
for Nikola. This will format the posts including supported shortcodes
the same way as WordPress does. Use the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--transform-to-html&lt;/span&gt;&lt;/tt&gt; option
to convert your posts to HTML.&lt;/p&gt;
&lt;p&gt;If you use this option, you do not need to install the plugin
permanently. You can ask Nikola to install the plugin into the subdirectory
&lt;tt class="docutils literal"&gt;plugins&lt;/tt&gt; of the current working directory by specifying
the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--install-wordpress-compiler&lt;/span&gt;&lt;/tt&gt; option.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;You can leave the posts the way they are and use the WordPress page
compiler plugin to render them when building your new blog. This also
allows you to create new posts using the WordPress syntax, or to manually
add more shortcode plugins later. Use the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--use-wordpress-compiler&lt;/span&gt;&lt;/tt&gt;
option to not touch your posts.&lt;/p&gt;
&lt;p&gt;If you want to use this option, you have to install the plugin permanently.
You can ask Nikola to install the plugin into your new site by specifying
the &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--install-wordpress-compiler&lt;/span&gt;&lt;/tt&gt; option.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;You can let Nikola convert your posts to Markdown. This is &lt;em&gt;not&lt;/em&gt; error
free, because WordPress uses some unholy mix of HTML and strange things.
This is the default option and requires no plugins.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You will find your old posts in &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;new_site/posts/post-title.html&lt;/span&gt;&lt;/tt&gt; in the first case,
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;new_site/posts/post-title.wp&lt;/span&gt;&lt;/tt&gt; in the second case or &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;new_site/posts/post-title.md&lt;/span&gt;&lt;/tt&gt;
in the last case if you need to edit or fix any of them.&lt;/p&gt;
&lt;p&gt;Please note that the page compiler currently only supports the &lt;tt class="docutils literal"&gt;[code]&lt;/tt&gt; shortcode,
but other shortcodes can be supported via plugins.&lt;/p&gt;
&lt;p&gt;Also note that the WordPress page compiler is licensed under GPL v2 since
it uses code from WordPress itself, while Nikola is licensed under the more
liberal MIT license.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This feature is a work in progress, and the only way to improve it is to have it used for
as many sites as possible and make it work better each time, so we are happy to get requests
about it.&lt;/p&gt;
&lt;table class="docutils footnote" frame="void" id="id18" rules="none"&gt;
&lt;colgroup&gt;&lt;col class="label"&gt;&lt;col&gt;&lt;/colgroup&gt;
&lt;tbody valign="top"&gt;
&lt;tr&gt;&lt;td class="label"&gt;&lt;a class="fn-backref" href="http://yongchen.org/posts/handbook/#id17"&gt;[1]&lt;/a&gt;&lt;/td&gt;&lt;td&gt;&lt;p class="first"&gt;The dump needs to be in 1.2 format. You can check by reading it, it should say
&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/"&lt;/span&gt;&lt;/tt&gt; near the top of the
file. If it says &lt;tt class="docutils literal"&gt;1.1&lt;/tt&gt; instead of &lt;tt class="docutils literal"&gt;1.2&lt;/tt&gt; you will have to update your
WordPress before dumping.&lt;/p&gt;
&lt;p class="last"&gt;Other versions may or may not work.&lt;/p&gt;
&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class="section" id="importing-to-a-custom-location-or-into-an-existing-site"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id109"&gt;Importing to a custom location or into an existing site&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;It is possible to either import into a location you desire or into an already existing Nikola site.
To do so you can specify a location after the dump:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_1c5a3e17fb454b66989055139e33ea2f-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola import_wordpress mysite.wordpress.2012-12-20.xml -o import_location
&lt;/pre&gt;&lt;p&gt;With this command Nikola will import into the folder &lt;tt class="docutils literal"&gt;import_location&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;If the folder already exists Nikola will not overwrite an existing &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;.
Instead a new file with a timestamp at the end of the filename will be created.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="using-twitter-cards"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id110"&gt;Using Twitter Cards&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola supports Twitter Card summaries, but they are disabled by default.&lt;/p&gt;
&lt;p&gt;Twitter Cards enable you to show additional information in Tweets that link
to your content.
Nikola supports &lt;a class="reference external" href="https://dev.twitter.com/docs/cards"&gt;Twitter Cards&lt;/a&gt;.
They are implemented to use &lt;em&gt;Open Graph&lt;/em&gt; tags whenever possible.&lt;/p&gt;
&lt;div class="admonition admonition-important"&gt;
&lt;p class="first admonition-title"&gt;Important&lt;/p&gt;
&lt;p class="last"&gt;To use Twitter Cards you need to opt-in on Twitter.
To do so, please visit &lt;a class="reference external" href="https://cards-dev.twitter.com/validator"&gt;https://cards-dev.twitter.com/validator&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Images displayed come from the &lt;cite&gt;previewimage&lt;/cite&gt; meta tag.&lt;/p&gt;
&lt;p&gt;You can specify the card type by using the &lt;cite&gt;card&lt;/cite&gt; parameter in TWITTER_CARD.&lt;/p&gt;
&lt;p&gt;To enable and configure your use of Twitter Cards, please modify the
corresponding lines in your &lt;tt class="docutils literal"&gt;conf.py&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code python"&gt;&lt;a name="rest_code_93964427a8c340e78510ed83962ab63d-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;TWITTER_CARD&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;a name="rest_code_93964427a8c340e78510ed83962ab63d-2"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'use_twitter_cards'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="c1"&gt;# enable Twitter Cards&lt;/span&gt;
&lt;a name="rest_code_93964427a8c340e78510ed83962ab63d-3"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'card'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'summary'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;          &lt;span class="c1"&gt;# Card type, you can also use 'summary_large_image',&lt;/span&gt;
&lt;a name="rest_code_93964427a8c340e78510ed83962ab63d-4"&gt;&lt;/a&gt;                                &lt;span class="c1"&gt;# see https://dev.twitter.com/cards/types&lt;/span&gt;
&lt;a name="rest_code_93964427a8c340e78510ed83962ab63d-5"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'site'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@website'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;         &lt;span class="c1"&gt;# twitter nick for the website&lt;/span&gt;
&lt;a name="rest_code_93964427a8c340e78510ed83962ab63d-6"&gt;&lt;/a&gt;    &lt;span class="s1"&gt;'creator'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'@username'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="c1"&gt;# Username for the content creator / author.&lt;/span&gt;
&lt;a name="rest_code_93964427a8c340e78510ed83962ab63d-7"&gt;&lt;/a&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="section" id="custom-plugins"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id111"&gt;Custom Plugins&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;You can create your own plugins (see &lt;a class="reference external" href="http://yongchen.org/posts/extending/"&gt;Extending Nikola&lt;/a&gt;) and use them in your own
site by putting them in a &lt;tt class="docutils literal"&gt;plugins/&lt;/tt&gt; folder.  You can also put them in
directories listed in the &lt;tt class="docutils literal"&gt;EXTRA_PLUGINS_DIRS&lt;/tt&gt; configuration variable.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="getting-extra-plugins"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id112"&gt;Getting Extra Plugins&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;If you want extra plugins, there is also the &lt;a class="reference external" href="https://plugins.getnikola.com/"&gt;Plugins Index&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Similarly to themes, there is a nice, built-in command to manage them â
&lt;tt class="docutils literal"&gt;plugin&lt;/tt&gt;:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola plugin -l
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;Plugins:&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;--------&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;helloworld&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;tags&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;â®&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;â®&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-8"&gt;&lt;/a&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-9"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola plugin --install helloworld
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:51:56Z] NOTICE: install_plugin: Downloading: https://plugins.getnikola.com/v6/helloworld.zip&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:51:58Z] NOTICE: install_plugin: Extracting: helloworld into plugins&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-12"&gt;&lt;/a&gt;&lt;span class="go"&gt;plugins/helloworld/requirements.txt&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-13"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:51:58Z] NOTICE: install_plugin: This plugin has Python dependencies.&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-14"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:51:58Z] NOTICE: install_plugin: Installing dependencies with pip...&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-15"&gt;&lt;/a&gt;&lt;span class="go"&gt;â®&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-16"&gt;&lt;/a&gt;&lt;span class="go"&gt;â®&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-17"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:51:59Z] NOTICE: install_plugin: Dependency installation succeeded.&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-18"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2013-10-12T16:51:59Z] NOTICE: install_plugin: This plugin has a sample config file.&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-19"&gt;&lt;/a&gt;&lt;span class="go"&gt;Contents of the conf.py.sample file:&lt;/span&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-20"&gt;&lt;/a&gt;
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-21"&gt;&lt;/a&gt;&lt;span class="gp"&gt;    #&lt;/span&gt; Should the Hello World plugin say âBYEâ instead?
&lt;a name="rest_code_a8dee82e42294b688673263c18f4ce2e-22"&gt;&lt;/a&gt;&lt;span class="go"&gt;    BYE_WORLD = False&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;Then you also can uninstall your plugins:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_71366e4ec9bc46fc8e670d1c20dcf3a1-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola plugin --uninstall tags
&lt;a name="rest_code_71366e4ec9bc46fc8e670d1c20dcf3a1-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2014-04-15T08:59:24Z] WARNING: plugin: About to uninstall plugin: tags&lt;/span&gt;
&lt;a name="rest_code_71366e4ec9bc46fc8e670d1c20dcf3a1-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2014-04-15T08:59:24Z] WARNING: plugin: This will delete /home/ralsina/foo/plugins/tags&lt;/span&gt;
&lt;a name="rest_code_71366e4ec9bc46fc8e670d1c20dcf3a1-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;Are you sure? [y/n] y&lt;/span&gt;
&lt;a name="rest_code_71366e4ec9bc46fc8e670d1c20dcf3a1-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2014-04-15T08:59:26Z] WARNING: plugin: Removing /home/ralsina/foo/plugins/tags&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;And upgrade them:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola plugin --upgrade
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-2"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2014-04-15T09:00:18Z] WARNING: plugin: This is not very smart, it just reinstalls some plugins and hopes for the best&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-3"&gt;&lt;/a&gt;&lt;span class="go"&gt;Will upgrade 1 plugins: graphviz&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-4"&gt;&lt;/a&gt;&lt;span class="go"&gt;Upgrading graphviz&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-5"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2014-04-15T09:00:20Z] INFO: plugin: Downloading: https://plugins.getnikola.com/v7/graphviz.zip&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-6"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2014-04-15T09:00:20Z] INFO: plugin: Extracting: graphviz into /home/ralsina/.nikola/plugins/&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-7"&gt;&lt;/a&gt;&lt;span class="go"&gt;[2014-04-15T09:00:20Z] NOTICE: plugin: This plugin has third-party dependencies you need to install manually.&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-8"&gt;&lt;/a&gt;&lt;span class="go"&gt;Contents of the requirements-nonpy.txt file:&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-9"&gt;&lt;/a&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-10"&gt;&lt;/a&gt;&lt;span class="go"&gt;    Graphviz&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-11"&gt;&lt;/a&gt;&lt;span class="go"&gt;        http://www.graphviz.org/&lt;/span&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-12"&gt;&lt;/a&gt;
&lt;a name="rest_code_9dc8ea8db83f4017a753ae7b19697946-13"&gt;&lt;/a&gt;&lt;span class="go"&gt;You have to install those yourself or through a package manager.&lt;/span&gt;
&lt;/pre&gt;&lt;p&gt;You can also share plugins you created with the community!  Visit the
&lt;a class="reference external" href="https://github.com/getnikola/plugins"&gt;GitHub repository&lt;/a&gt; to find out more.&lt;/p&gt;
&lt;p&gt;You can use the plugins in this repository without installing them into your
site, by cloning the repository and adding the path of the plugins directory to
the &lt;tt class="docutils literal"&gt;EXTRA_PLUGINS_DIRS&lt;/tt&gt; list in your configuration.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="advanced-features"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id113"&gt;Advanced Features&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="debugging"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id114"&gt;Debugging&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;For pdb debugging in Nikola, you should use &lt;tt class="docutils literal"&gt;doit.tools.set_trace()&lt;/tt&gt; instead
of the usual pdb call.  By default, doit (and thus Nikola) redirects stdout and
stderr.  Thus, you must use the different call.  (Alternatively, you could run
with &lt;tt class="docutils literal"&gt;nikola build &lt;span class="pre"&gt;-v&lt;/span&gt; 2&lt;/tt&gt;, which disables the redirections.)&lt;/p&gt;
&lt;p&gt;To show more logging messages, as well as full tracebacks, you need to set an
environment variable: &lt;tt class="docutils literal"&gt;NIKOLA_DEBUG=1&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="shell-tab-completion"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id115"&gt;Shell Tab Completion&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;Since Nikola is a command line tool, and this is the 21st century, it's handy to have smart tab-completion
so that you don't have to type the full commands.&lt;/p&gt;
&lt;p&gt;To enable this, you can use the &lt;tt class="docutils literal"&gt;nikola tabcompletion&lt;/tt&gt; command like this,
depending on your shell:&lt;/p&gt;
&lt;pre class="code console"&gt;&lt;a name="rest_code_5ce7378037a844d4b48b35b892616e05-1"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola tabcompletion --shell bash --hardcode-tasks &amp;gt; _nikola_bash
&lt;a name="rest_code_5ce7378037a844d4b48b35b892616e05-2"&gt;&lt;/a&gt;&lt;span class="gp"&gt;$&lt;/span&gt; nikola tabcompletion --shell zsh --hardcode-tasks &amp;gt; _nikola_zsh
&lt;/pre&gt;&lt;p&gt;The &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;--hardcode-tasks&lt;/span&gt;&lt;/tt&gt; adds tasks to the completion and may need updating periodically.&lt;/p&gt;
&lt;p&gt;Please refer to your shellâs documentation for help on how to use those files.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="license"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="http://yongchen.org/posts/handbook/#id116"&gt;License&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Nikola is released under the &lt;a class="reference external" href="https://getnikola.com/license.html"&gt;MIT license&lt;/a&gt;, which is a free software license. Some
components shipped along with Nikola, or required by it are released under
other licenses.&lt;/p&gt;
&lt;p&gt;If you are not familiar with free software licensing, here is a brief
explanation (this is NOT legal advice): In general, you can do pretty much
anything you want â including modifying Nikola, using and redistributing the
original version or the your modified version. However, if you redistribute
Nikola to someone else, either a modified version or the original version, the
full copyright notice and license text must be included in your distribution.
Nikola is provided âas isâ, and the Nikola contributors are not liable for any
damage caused by the software. Read the &lt;a class="reference external" href="https://getnikola.com/license.html"&gt;full license text&lt;/a&gt; for details.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description><category>mathjax</category><guid>http://yongchen.org/posts/handbook/</guid><pubDate>Sat, 31 Mar 2012 02:00:00 GMT</pubDate></item></channel></rss>